import{A as It,B as un,a as $,b as be,c as B,d as P0,e as tc,f as N0,g as O0,h as F0,i as V0,j as Tf,k as L0,l as j0,m as B0,n as Sf,o as U0,p as $0,q as cn,r as ea,s as Xn,t as nc,u as ta,v as Af,w as z0,x as kf,y as na,z as rc}from"./chunk-YXTI7J6Z.js";function H0(n,e){return Object.is(n,e)}var Je=null,oc=!1,ic=1,Jn=Symbol("SIGNAL");function we(n){let e=Je;return Je=n,e}function q0(){return Je}var oa={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Pf(n){if(oc)throw new Error("");if(Je===null)return;Je.consumerOnSignalRead(n);let e=Je.nextProducerIndex++;if(cc(Je),e<Je.producerNode.length&&Je.producerNode[e]!==n&&ra(Je)){let t=Je.producerNode[e];lc(t,Je.producerIndexOfThis[e])}Je.producerNode[e]!==n&&(Je.producerNode[e]=n,Je.producerIndexOfThis[e]=ra(Je)?Q0(n,Je,e):0),Je.producerLastReadVersion[e]=n.version}function HT(){ic++}function G0(n){if(!(ra(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ic)){if(!n.producerMustRecompute(n)&&!Of(n)){n.dirty=!1,n.lastCleanEpoch=ic;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=ic}}function W0(n){if(n.liveConsumerNode===void 0)return;let e=oc;oc=!0;try{for(let t of n.liveConsumerNode)t.dirty||qT(t)}finally{oc=e}}function K0(){return Je?.consumerAllowSignalWrites!==!1}function qT(n){n.dirty=!0,W0(n),n.consumerMarkedDirty?.(n)}function ac(n){return n&&(n.nextProducerIndex=0),we(n)}function Nf(n,e){if(we(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(ra(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)lc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function Of(n){cc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(G0(t),r!==t.version))return!0}return!1}function Ff(n){if(cc(n),ra(n))for(let e=0;e<n.producerNode.length;e++)lc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Q0(n,e,t){if(Y0(n),n.liveConsumerNode.length===0&&Z0(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Q0(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function lc(n,e){if(Y0(n),n.liveConsumerNode.length===1&&Z0(n))for(let r=0;r<n.producerNode.length;r++)lc(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],o=n.liveConsumerNode[e];cc(o),o.producerIndexOfThis[r]=e}}function ra(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function cc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function Y0(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Z0(n){return n.producerNode!==void 0}function X0(n){let e=Object.create(GT);e.computation=n;let t=()=>{if(G0(e),Pf(e),e.value===sc)throw e.error;return e.value};return t[Jn]=e,t}var Mf=Symbol("UNSET"),Rf=Symbol("COMPUTING"),sc=Symbol("ERRORED"),GT=be($({},oa),{value:Mf,dirty:!0,error:null,equal:H0,producerMustRecompute(n){return n.value===Mf||n.value===Rf},producerRecomputeValue(n){if(n.value===Rf)throw new Error("Detected cycle in computations.");let e=n.value;n.value=Rf;let t=ac(n),r;try{r=n.computation()}catch(o){r=sc,n.error=o}finally{Nf(n,t)}if(e!==Mf&&e!==sc&&r!==sc&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function WT(){throw new Error}var J0=WT;function ew(){J0()}function tw(n){J0=n}var KT=null;function nw(n){let e=Object.create(ow);e.value=n;let t=()=>(Pf(e),e.value);return t[Jn]=e,t}function Vf(n,e){K0()||ew(),n.equal(n.value,e)||(n.value=e,QT(n))}function rw(n,e){K0()||ew(),Vf(n,e(n.value))}var ow=be($({},oa),{equal:H0,value:void 0});function QT(n){n.version++,HT(),W0(n),KT?.()}function oe(n){return typeof n=="function"}function Xo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var uc=Xo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function ho(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var He=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(i){e=i instanceof uc?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{iw(i)}catch(s){e=e??[],s instanceof uc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new uc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)iw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&ho(t,e)}remove(e){let{_finalizers:t}=this;t&&ho(t,e),e instanceof n&&e._removeParent(this)}};He.EMPTY=(()=>{let n=new He;return n.closed=!0,n})();var Lf=He.EMPTY;function dc(n){return n instanceof He||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function iw(n){oe(n)?n():n.unsubscribe()}var dn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Jo={setTimeout(n,e,...t){let{delegate:r}=Jo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Jo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function hc(n){Jo.setTimeout(()=>{let{onUnhandledError:e}=dn;if(e)e(n);else throw n})}function ia(){}var sw=jf("C",void 0,void 0);function aw(n){return jf("E",void 0,n)}function lw(n){return jf("N",n,void 0)}function jf(n,e,t){return{kind:n,value:e,error:t}}var fo=null;function ei(n){if(dn.useDeprecatedSynchronousErrorHandling){let e=!fo;if(e&&(fo={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=fo;if(fo=null,t)throw r}}else n()}function cw(n){dn.useDeprecatedSynchronousErrorHandling&&fo&&(fo.errorThrown=!0,fo.error=n)}var po=class extends He{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,dc(e)&&e.add(this)):this.destination=XT}static create(e,t,r){return new er(e,t,r)}next(e){this.isStopped?Uf(lw(e),this):this._next(e)}error(e){this.isStopped?Uf(aw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Uf(sw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},YT=Function.prototype.bind;function Bf(n,e){return YT.call(n,e)}var $f=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){fc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){fc(r)}else fc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){fc(t)}}},er=class extends po{constructor(e,t,r){super();let o;if(oe(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&dn.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&Bf(e.next,i),error:e.error&&Bf(e.error,i),complete:e.complete&&Bf(e.complete,i)}):o=e}this.destination=new $f(o)}};function fc(n){dn.useDeprecatedSynchronousErrorHandling?cw(n):hc(n)}function ZT(n){throw n}function Uf(n,e){let{onStoppedNotification:t}=dn;t&&Jo.setTimeout(()=>t(n,e))}var XT={closed:!0,next:ia,error:ZT,complete:ia};var ti=typeof Symbol=="function"&&Symbol.observable||"@@observable";function jt(n){return n}function pc(...n){return zf(n)}function zf(n){return n.length===0?jt:n.length===1?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}var ae=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=eS(t)?t:new er(t,r,o);return ei(()=>{let{operator:s,source:l}=this;i.add(s?s.call(i,l):l?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=uw(r),new r((o,i)=>{let s=new er({next:l=>{try{t(l)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[ti](){return this}pipe(...t){return zf(t)(this)}toPromise(t){return t=uw(t),new t((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function uw(n){var e;return(e=n??dn.Promise)!==null&&e!==void 0?e:Promise}function JT(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function eS(n){return n&&n instanceof po||JT(n)&&dc(n)}function Hf(n){return oe(n?.lift)}function he(n){return e=>{if(Hf(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function fe(n,e,t,r,o){return new qf(n,e,t,r,o)}var qf=class extends po{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(l){try{t(l)}catch(c){e.error(c)}}:super._next,this._error=o?function(l){try{o(l)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function ni(){return he((n,e)=>{let t=null;n._refCount++;let r=fe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var ri=class extends ae{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Hf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new He;let t=this.getSubject();e.add(this.source.subscribe(fe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=He.EMPTY)}return e}refCount(){return ni()(this)}};var dw=Xo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Fe=(()=>{class n extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new mc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new dw}next(t){ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ei(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?Lf:(this.currentObservers=null,i.push(t),new He(()=>{this.currentObservers=null,ho(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new ae;return t.source=this,t}}return n.create=(e,t)=>new mc(e,t),n})(),mc=class extends Fe{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Lf}};var $e=class extends Fe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var sa={now(){return(sa.delegate||Date).now()},delegate:void 0};var gc=class extends Fe{constructor(e=1/0,t=1/0,r=sa){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!e.closed;s+=r?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){let s=t.now(),l=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)l=c;l&&r.splice(0,l+1)}}};var bc=class extends He{constructor(e,t){super()}schedule(e,t=0){return this}};var aa={setInterval(n,e,...t){let{delegate:r}=aa;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=aa;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var oi=class extends bc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return aa.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&aa.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,o;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,ho(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ii=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ii.now=sa.now;var si=class extends ii{constructor(e,t=ii.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Gf=new si(oi);var vc=class extends oi{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var yc=class extends si{};var Wf=new yc(vc);var Et=new ae(n=>n.complete());function hw(n){return n&&oe(n.schedule)}function Kf(n){return n[n.length-1]}function wc(n){return oe(Kf(n))?n.pop():void 0}function En(n){return hw(Kf(n))?n.pop():void 0}function fw(n,e){return typeof Kf(n)=="number"?n.pop():e}var xc=n=>n&&typeof n.length=="number"&&typeof n!="function";function _c(n){return oe(n?.then)}function Ic(n){return oe(n[ti])}function Ec(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function Cc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function tS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Dc=tS();function Tc(n){return oe(n?.[Dc])}function Sc(n){return N0(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:o}=yield tc(t.read());if(o)return yield tc(void 0);yield yield tc(r)}}finally{t.releaseLock()}})}function Ac(n){return oe(n?.getReader)}function Oe(n){if(n instanceof ae)return n;if(n!=null){if(Ic(n))return nS(n);if(xc(n))return rS(n);if(_c(n))return oS(n);if(Ec(n))return pw(n);if(Tc(n))return iS(n);if(Ac(n))return sS(n)}throw Cc(n)}function nS(n){return new ae(e=>{let t=n[ti]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function rS(n){return new ae(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function oS(n){return new ae(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,hc)})}function iS(n){return new ae(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function pw(n){return new ae(e=>{aS(n,e).catch(t=>e.error(t))})}function sS(n){return pw(Sc(n))}function aS(n,e){var t,r,o,i;return P0(this,void 0,void 0,function*(){try{for(t=O0(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})}function Pt(n,e,t,r=0,o=!1){let i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function Bt(n,e=0){return he((t,r)=>{t.subscribe(fe(r,o=>Pt(r,n,()=>r.next(o),e),()=>Pt(r,n,()=>r.complete(),e),o=>Pt(r,n,()=>r.error(o),e)))})}function Wt(n,e=0){return he((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function mw(n,e){return Oe(n).pipe(Wt(e),Bt(e))}function gw(n,e){return Oe(n).pipe(Wt(e),Bt(e))}function bw(n,e){return new ae(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function vw(n,e){return new ae(t=>{let r;return Pt(t,e,()=>{r=n[Dc](),Pt(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){t.error(s);return}i?t.complete():t.next(o)},0,!0)}),()=>oe(r?.return)&&r.return()})}function kc(n,e){if(!n)throw new Error("Iterable cannot be null");return new ae(t=>{Pt(t,e,()=>{let r=n[Symbol.asyncIterator]();Pt(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function yw(n,e){return kc(Sc(n),e)}function ww(n,e){if(n!=null){if(Ic(n))return mw(n,e);if(xc(n))return bw(n,e);if(_c(n))return gw(n,e);if(Ec(n))return kc(n,e);if(Tc(n))return vw(n,e);if(Ac(n))return yw(n,e)}throw Cc(n)}function Ee(n,e){return e?ww(n,e):Oe(n)}function Z(...n){let e=En(n);return Ee(n,e)}function ai(n,e){let t=oe(n)?n:()=>n,r=o=>o.error(t());return new ae(e?o=>e.schedule(r,0,o):r)}function Qf(n){return!!n&&(n instanceof ae||oe(n.lift)&&oe(n.subscribe))}var tr=Xo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function X(n,e){return he((t,r)=>{let o=0;t.subscribe(fe(r,i=>{r.next(n.call(e,i,o++))}))})}var{isArray:lS}=Array;function cS(n,e){return lS(e)?n(...e):n(e)}function Mc(n){return X(e=>cS(n,e))}var{isArray:uS}=Array,{getPrototypeOf:dS,prototype:hS,keys:fS}=Object;function Rc(n){if(n.length===1){let e=n[0];if(uS(e))return{args:e,keys:null};if(pS(e)){let t=fS(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function pS(n){return n&&typeof n=="object"&&dS(n)===hS}function Pc(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}function la(...n){let e=En(n),t=wc(n),{args:r,keys:o}=Rc(n);if(r.length===0)return Ee([],e);let i=new ae(mS(r,e,o?s=>Pc(o,s):jt));return t?i.pipe(Mc(t)):i}function mS(n,e,t=jt){return r=>{xw(e,()=>{let{length:o}=n,i=new Array(o),s=o,l=o;for(let c=0;c<o;c++)xw(e,()=>{let u=Ee(n[c],e),f=!1;u.subscribe(fe(r,p=>{i[c]=p,f||(f=!0,l--),l||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function xw(n,e,t){n?Pt(t,n,e):e()}function _w(n,e,t,r,o,i,s,l){let c=[],u=0,f=0,p=!1,g=()=>{p&&!c.length&&!u&&e.complete()},v=M=>u<r?D(M):c.push(M),D=M=>{i&&e.next(M),u++;let T=!1;Oe(t(M,f++)).subscribe(fe(e,F=>{o?.(F),i?v(F):e.next(F)},()=>{T=!0},void 0,()=>{if(T)try{for(u--;c.length&&u<r;){let F=c.shift();s?Pt(e,s,()=>D(F)):D(F)}g()}catch(F){e.error(F)}}))};return n.subscribe(fe(e,v,()=>{p=!0,g()})),()=>{l?.()}}function Ke(n,e,t=1/0){return oe(e)?Ke((r,o)=>X((i,s)=>e(r,i,o,s))(Oe(n(r,o))),t):(typeof e=="number"&&(t=e),he((r,o)=>_w(r,o,n,t)))}function kr(n=1/0){return Ke(jt,n)}function Iw(){return kr(1)}function li(...n){return Iw()(Ee(n,En(n)))}function Nc(n){return new ae(e=>{Oe(n()).subscribe(e)})}function Yf(...n){let e=wc(n),{args:t,keys:r}=Rc(n),o=new ae(i=>{let{length:s}=t;if(!s){i.complete();return}let l=new Array(s),c=s,u=s;for(let f=0;f<s;f++){let p=!1;Oe(t[f]).subscribe(fe(i,g=>{p||(p=!0,u--),l[f]=g},()=>c--,void 0,()=>{(!c||!p)&&(u||i.next(r?Pc(r,l):l),i.complete())}))}});return e?o.pipe(Mc(e)):o}function Zf(...n){let e=En(n),t=fw(n,1/0),r=n;return r.length?r.length===1?Oe(r[0]):kr(t)(Ee(r,e)):Et}function at(n,e){return he((t,r)=>{let o=0;t.subscribe(fe(r,i=>n.call(e,i,o++)&&r.next(i)))})}function Mr(n){return he((e,t)=>{let r=null,o=!1,i;r=e.subscribe(fe(t,void 0,void 0,s=>{i=Oe(n(s,Mr(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function Ew(n,e,t,r,o){return(i,s)=>{let l=t,c=e,u=0;i.subscribe(fe(s,f=>{let p=u++;c=l?n(c,f,p):(l=!0,f),r&&s.next(c)},o&&(()=>{l&&s.next(c),s.complete()})))}}function nr(n,e){return oe(e)?Ke(n,e,1):Ke(n,1)}function Rr(n){return he((e,t)=>{let r=!1;e.subscribe(fe(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function rr(n){return n<=0?()=>Et:he((e,t)=>{let r=0;e.subscribe(fe(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Xf(n){return X(()=>n)}function Oc(n=gS){return he((e,t)=>{let r=!1;e.subscribe(fe(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function gS(){return new tr}function mo(n){return he((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Kt(n,e){let t=arguments.length>=2;return r=>r.pipe(n?at((o,i)=>n(o,i,r)):jt,rr(1),t?Rr(e):Oc(()=>new tr))}function ci(n){return n<=0?()=>Et:he((e,t)=>{let r=[];e.subscribe(fe(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(let o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Jf(n,e){let t=arguments.length>=2;return r=>r.pipe(n?at((o,i)=>n(o,i,r)):jt,ci(1),t?Rr(e):Oc(()=>new tr))}function Fc(n,e){return he(Ew(n,e,arguments.length>=2,!0))}function Cw(n={}){let{connector:e=()=>new Fe,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,l,c,u=0,f=!1,p=!1,g=()=>{l?.unsubscribe(),l=void 0},v=()=>{g(),s=c=void 0,f=p=!1},D=()=>{let M=s;v(),M?.unsubscribe()};return he((M,T)=>{u++,!p&&!f&&g();let F=c=c??e();T.add(()=>{u--,u===0&&!p&&!f&&(l=ep(D,o))}),F.subscribe(T),!s&&u>0&&(s=new er({next:G=>F.next(G),error:G=>{p=!0,g(),l=ep(v,t,G),F.error(G)},complete:()=>{f=!0,g(),l=ep(v,r),F.complete()}}),Oe(M).subscribe(s))})(i)}}function ep(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new er({next:()=>{r.unsubscribe(),n()}});return Oe(e(...t)).subscribe(r)}function Vc(n,e,t){let r,o=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n:r=n??1/0,Cw({connector:()=>new gc(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function Lc(...n){let e=En(n);return he((t,r)=>{(e?li(n,t,e):li(n,t)).subscribe(r)})}function Ve(n,e){return he((t,r)=>{let o=null,i=0,s=!1,l=()=>s&&!o&&r.complete();t.subscribe(fe(r,c=>{o?.unsubscribe();let u=0,f=i++;Oe(n(c,f)).subscribe(o=fe(r,p=>r.next(e?e(c,p,f,u++):p),()=>{o=null,l()}))},()=>{s=!0,l()}))})}function jc(n,e){return oe(e)?Ve(()=>n,e):Ve(()=>n)}function tp(n){return he((e,t)=>{Oe(n).subscribe(fe(t,()=>t.complete(),ia)),!t.closed&&e.subscribe(t)})}function Qe(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?he((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let l=!0;o.subscribe(fe(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;l=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;l=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;l&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):jt}var hx="https://g.co/ng/security#xss",K=class extends Error{constructor(e,t){super(wu(e,t)),this.code=e}};function wu(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function ba(n){return{toString:n}.toString()}var Bc="__parameters__";function bS(n){return function(...t){if(n){let r=n(...t);for(let o in r)this[o]=r[o]}}}function fx(n,e,t){return ba(()=>{let r=bS(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return l.annotation=s,l;function l(c,u,f){let p=c.hasOwnProperty(Bc)?c[Bc]:Object.defineProperty(c,Bc,{value:[]})[Bc];for(;p.length<=f;)p.push(null);return(p[f]=p[f]||[]).push(s),c}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}var mp=globalThis;function ke(n){for(let e in n)if(n[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function vS(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Dt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Dt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Dw(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var yS=ke({__forward_ref__:ke});function mn(n){return n.__forward_ref__=mn,n.toString=function(){return Dt(this())},n}function Ct(n){return px(n)?n():n}function px(n){return typeof n=="function"&&n.hasOwnProperty(yS)&&n.__forward_ref__===mn}function z(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function pt(n){return{providers:n.providers||[],imports:n.imports||[]}}function xu(n){return Tw(n,gx)||Tw(n,bx)}function mx(n){return xu(n)!==null}function Tw(n,e){return n.hasOwnProperty(e)?n[e]:null}function wS(n){let e=n&&(n[gx]||n[bx]);return e||null}function Sw(n){return n&&(n.hasOwnProperty(Aw)||n.hasOwnProperty(xS))?n[Aw]:null}var gx=ke({\u0275prov:ke}),Aw=ke({\u0275inj:ke}),bx=ke({ngInjectableDef:ke}),xS=ke({ngInjectorDef:ke}),H=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=z({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function vx(n){return n&&!!n.\u0275providers}var _S=ke({\u0275cmp:ke}),IS=ke({\u0275dir:ke}),ES=ke({\u0275pipe:ke}),CS=ke({\u0275mod:ke}),Yc=ke({\u0275fac:ke}),ua=ke({__NG_ELEMENT_ID__:ke}),kw=ke({__NG_ENV_ID__:ke});function _u(n){return typeof n=="string"?n:n==null?"":String(n)}function DS(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():_u(n)}function TS(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new K(-200,n)}function lm(n,e){throw new K(-201,!1)}var ue=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ue||{}),gp;function yx(){return gp}function Qt(n){let e=gp;return gp=n,e}function wx(n,e,t){let r=xu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ue.Optional)return null;if(e!==void 0)return e;lm(n,"Injector")}var SS={},da=SS,bp="__NG_DI_FLAG__",Zc="ngTempTokenPath",AS="ngTokenPath",kS=/\n/gm,MS="\u0275",Mw="__source",pi;function RS(){return pi}function Pr(n){let e=pi;return pi=n,e}function PS(n,e=ue.Default){if(pi===void 0)throw new K(-203,!1);return pi===null?wx(n,void 0,e):pi.get(n,e&ue.Optional?null:void 0,e)}function U(n,e=ue.Default){return(yx()||PS)(Ct(n),e)}function N(n,e=ue.Default){return U(n,Iu(e))}function Iu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function vp(n){let e=[];for(let t=0;t<n.length;t++){let r=Ct(n[t]);if(Array.isArray(r)){if(r.length===0)throw new K(900,!1);let o,i=ue.Default;for(let s=0;s<r.length;s++){let l=r[s],c=NS(l);typeof c=="number"?c===-1?o=l.token:i|=c:o=l}e.push(U(o,i))}else e.push(U(r))}return e}function xx(n,e){return n[bp]=e,n.prototype[bp]=e,n}function NS(n){return n[bp]}function OS(n,e,t,r){let o=n[Zc];throw e[Mw]&&o.unshift(e[Mw]),n.message=FS(`
`+n.message,o,t,r),n[AS]=o,n[Zc]=null,n}function FS(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==MS?n.slice(2):n;let o=Dt(e);if(Array.isArray(e))o=e.map(Dt).join(" -> ");else if(typeof e=="object"){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let l=e[s];i.push(s+":"+(typeof l=="string"?JSON.stringify(l):Dt(l)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${n.replace(kS,`
  `)}`}var kt=xx(fx("Optional"),8);var Eu=xx(fx("SkipSelf"),4);function gi(n,e){let t=n.hasOwnProperty(Yc);return t?n[Yc]:null}function cm(n,e){n.forEach(t=>Array.isArray(t)?cm(t,e):e(t))}function _x(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Xc(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function VS(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(o===1)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;){let i=o-2;n[o]=n[i],o--}n[e]=t,n[e+1]=r}}function LS(n,e,t){let r=va(n,e);return r>=0?n[r|1]=t:(r=~r,VS(n,r,e,t)),r}function np(n,e){let t=va(n,e);if(t>=0)return n[t|1]}function va(n,e){return jS(n,e,1)}function jS(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){let i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}var bi={},Yt=[],vi=new H(""),Ix=new H("",-1),Ex=new H(""),Jc=class{get(e,t=da){if(t===da){let r=new Error(`NullInjectorError: No provider for ${Dt(e)}!`);throw r.name="NullInjectorError",r}return t}},Cx=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Cx||{}),Tn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Tn||{}),Fr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Fr||{});function BS(n,e,t){let r=n.length;for(;;){let o=n.indexOf(e,t);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}function yp(n,e,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],s=t[r++],l=t[r++];n.setAttribute(e,s,l,i)}else{let i=o,s=t[++r];US(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function Dx(n){return n===3||n===4||n===6}function US(n){return n.charCodeAt(0)===64}function ha(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?Rw(n,t,o,null,e[++r]):Rw(n,t,o,null,null))}}return n}function Rw(n,e,t,r,o){let i=0,s=n.length;if(e===-1)s=-1;else for(;i<n.length;){let l=n[i++];if(typeof l=="number"){if(l===e){s=-1;break}else if(l>e){s=i-1;break}}}for(;i<n.length;){let l=n[i];if(typeof l=="number")break;if(l===t){if(r===null){o!==null&&(n[i+1]=o);return}else if(r===n[i+1]){n[i+2]=o;return}}i++,r!==null&&i++,o!==null&&i++}s!==-1&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),r!==null&&n.splice(i++,0,r),o!==null&&n.splice(i++,0,o)}var Tx="ng-template";function $S(n,e,t,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&BS(e[o+1].toLowerCase(),t,0)!==-1)return!0}else if(um(n))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function um(n){return n.type===4&&n.value!==Tx}function zS(n,e,t){let r=n.type===4&&!t?Tx:n.value;return e===r}function HS(n,e,t){let r=4,o=n.attrs,i=o!==null?WS(o):0,s=!1;for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="number"){if(!s&&!hn(r)&&!hn(c))return!1;if(s&&hn(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!zS(n,c,t)||c===""&&e.length===1){if(hn(r))return!1;s=!0}}else if(r&8){if(o===null||!$S(n,o,c,t)){if(hn(r))return!1;s=!0}}else{let u=e[++l],f=qS(c,o,um(n),t);if(f===-1){if(hn(r))return!1;s=!0;continue}if(u!==""){let p;if(f>i?p="":p=o[f+1].toLowerCase(),r&2&&u!==p){if(hn(r))return!1;s=!0}}}}return hn(r)||s}function hn(n){return(n&1)===0}function qS(n,e,t,r){if(e===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){let s=e[o];if(s===n)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let l=e[++o];for(;typeof l=="string";)l=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return KS(e,n)}function GS(n,e,t=!1){for(let r=0;r<e.length;r++)if(HS(n,e[r],t))return!0;return!1}function WS(n){for(let e=0;e<n.length;e++){let t=n[e];if(Dx(t))return e}return n.length}function KS(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function Pw(n,e){return n?":not("+e.trim()+")":e}function QS(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let l=n[++t];o+="["+s+(l.length>0?'="'+l+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!hn(s)&&(e+=Pw(i,o),o=""),r=s,i=i||!hn(r);t++}return o!==""&&(e+=Pw(i,o)),e}function YS(n){return n.map(QS).join(",")}function ZS(n){let e=[],t=[],r=1,o=2;for(;r<n.length;){let i=n[r];if(typeof i=="string")o===2?i!==""&&e.push(i,n[++r]):o===8&&t.push(i);else{if(!hn(o))break;o=i}r++}return{attrs:e,classes:t}}function Le(n){return ba(()=>{let e=Rx(n),t=be($({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Cx.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Tn.Emulated,styles:n.styles||Yt,_:null,schemas:n.schemas||null,tView:null,id:""});Px(t);let r=n.dependencies;return t.directiveDefs=Ow(r,!1),t.pipeDefs=Ow(r,!0),t.id=eA(t),t})}function XS(n){return Vr(n)||Sx(n)}function JS(n){return n!==null}function mt(n){return ba(()=>({type:n.type,bootstrap:n.bootstrap||Yt,declarations:n.declarations||Yt,imports:n.imports||Yt,exports:n.exports||Yt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Nw(n,e){if(n==null)return bi;let t={};for(let r in n)if(n.hasOwnProperty(r)){let o=n[r],i,s,l=Fr.None;Array.isArray(o)?(l=o[0],i=o[1],s=o[2]??i):(i=o,s=o),e?(t[i]=l!==Fr.None?[r,l]:r,e[i]=s):t[i]=r}return t}function je(n){return ba(()=>{let e=Rx(n);return Px(e),e})}function Vr(n){return n[_S]||null}function Sx(n){return n[IS]||null}function Ax(n){return n[ES]||null}function kx(n){let e=Vr(n)||Sx(n)||Ax(n);return e!==null?e.standalone:!1}function Mx(n,e){let t=n[CS]||null;if(!t&&e===!0)throw new Error(`Type ${Dt(n)} does not have '\u0275mod' property.`);return t}function Rx(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||bi,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Yt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Nw(n.inputs,e),outputs:Nw(n.outputs),debugInfo:null}}function Px(n){n.features?.forEach(e=>e(n))}function Ow(n,e){if(!n)return null;let t=e?Ax:XS;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(JS)}function eA(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let o of t)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Rn(n){return{\u0275providers:n}}function Ai(...n){return{\u0275providers:Nx(!0,n),\u0275fromNgModule:!0}}function Nx(n,...e){let t=[],r=new Set,o,i=s=>{t.push(s)};return cm(e,s=>{let l=s;wp(l,i,[],r)&&(o||=[],o.push(l))}),o!==void 0&&Ox(o,i),t}function Ox(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:o}=n[t];dm(o,i=>{e(i,r)})}}function wp(n,e,t,r){if(n=Ct(n),!n)return!1;let o=null,i=Sw(n),s=!i&&Vr(n);if(!i&&!s){let c=n.ngModule;if(i=Sw(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=n}let l=r.has(o);if(s){if(l)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)wp(u,e,t,r)}}else if(i){if(i.imports!=null&&!l){r.add(o);let u;try{cm(i.imports,f=>{wp(f,e,t,r)&&(u||=[],u.push(f))})}finally{}u!==void 0&&Ox(u,e)}if(!l){let u=gi(o)||(()=>new o);e({provide:o,useFactory:u,deps:Yt},o),e({provide:Ex,useValue:o,multi:!0},o),e({provide:vi,useValue:()=>U(o),multi:!0},o)}let c=i.providers;if(c!=null&&!l){let u=n;dm(c,f=>{e(f,u)})}}else return!1;return o!==n&&n.providers!==void 0}function dm(n,e){for(let t of n)vx(t)&&(t=t.\u0275providers),Array.isArray(t)?dm(t,e):e(t)}var tA=ke({provide:String,useValue:ke});function Fx(n){return n!==null&&typeof n=="object"&&tA in n}function nA(n){return!!(n&&n.useExisting)}function rA(n){return!!(n&&n.useFactory)}function yi(n){return typeof n=="function"}function oA(n){return!!n.useClass}var Cu=new H(""),qc={},iA={},rp;function hm(){return rp===void 0&&(rp=new Jc),rp}var Tt=class{},fa=class extends Tt{get destroyed(){return this._destroyed}constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,_p(e,s=>this.processProvider(s)),this.records.set(Ix,ui(void 0,this)),o.has("environment")&&this.records.set(Tt,ui(void 0,this));let i=this.records.get(Cu);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(Ex,Yt,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=we(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),we(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Pr(this),r=Qt(void 0),o;try{return e()}finally{Pr(t),Qt(r)}}get(e,t=da,r=ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(kw))return e[kw](this);r=Iu(r);let o,i=Pr(this),s=Qt(void 0);try{if(!(r&ue.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=uA(e)&&xu(e);u&&this.injectableDefInScope(u)?c=ui(xp(e),qc):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let l=r&ue.Self?hm():this.parent;return t=r&ue.Optional&&t===da?null:t,l.get(e,t)}catch(l){if(l.name==="NullInjectorError"){if((l[Zc]=l[Zc]||[]).unshift(Dt(e)),i)throw l;return OS(l,e,"R3InjectorError",this.source)}else throw l}finally{Qt(s),Pr(i)}}resolveInjectorInitializers(){let e=we(null),t=Pr(this),r=Qt(void 0),o;try{let i=this.get(vi,Yt,ue.Self);for(let s of i)s()}finally{Pr(t),Qt(r),we(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(e){e=Ct(e);let t=yi(e)?e:Ct(e&&e.provide),r=aA(e);if(!yi(e)&&e.multi===!0){let o=this.records.get(t);o||(o=ui(void 0,qc,!0),o.factory=()=>vp(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=we(null);try{return t.value===qc&&(t.value=iA,t.value=t.factory()),typeof t.value=="object"&&t.value&&cA(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{we(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Ct(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function xp(n){let e=xu(n),t=e!==null?e.factory:gi(n);if(t!==null)return t;if(n instanceof H)throw new K(204,!1);if(n instanceof Function)return sA(n);throw new K(204,!1)}function sA(n){if(n.length>0)throw new K(204,!1);let t=wS(n);return t!==null?()=>t.factory(n):()=>new n}function aA(n){if(Fx(n))return ui(void 0,n.useValue);{let e=Vx(n);return ui(e,qc)}}function Vx(n,e,t){let r;if(yi(n)){let o=Ct(n);return gi(o)||xp(o)}else if(Fx(n))r=()=>Ct(n.useValue);else if(rA(n))r=()=>n.useFactory(...vp(n.deps||[]));else if(nA(n))r=()=>U(Ct(n.useExisting));else{let o=Ct(n&&(n.useClass||n.provide));if(lA(n))r=()=>new o(...vp(n.deps));else return gi(o)||xp(o)}return r}function ui(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function lA(n){return!!n.deps}function cA(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function uA(n){return typeof n=="function"||typeof n=="object"&&n instanceof H}function _p(n,e){for(let t of n)Array.isArray(t)?_p(t,e):t&&vx(t)?_p(t.\u0275providers,e):e(t)}function Jt(n,e){n instanceof fa&&n.assertNotDestroyed();let t,r=Pr(n),o=Qt(void 0);try{return e()}finally{Pr(r),Qt(o)}}function Lx(){return yx()!==void 0||RS()!=null}function dA(n){if(!Lx())throw new K(-203,!1)}function hA(n){return typeof n=="function"}var ar=0,pe=1,ie=2,St=3,fn=4,gn=5,eu=6,tu=7,pn=8,wi=9,Sn=10,Ye=11,pa=12,Fw=13,ki=14,An=15,xi=16,di=17,_i=18,Du=19,jx=20,Nr=21,op=22,Zt=23,or=25,Bx=1;var bo=7,nu=8,ru=9,Xt=10,ou=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(ou||{});function Or(n){return Array.isArray(n)&&typeof n[Bx]=="object"}function lr(n){return Array.isArray(n)&&n[Bx]===!0}function Ux(n){return(n.flags&4)!==0}function Tu(n){return n.componentOffset>-1}function fm(n){return(n.flags&1)===1}function Lr(n){return!!n.template}function Ip(n){return(n[ie]&512)!==0}var Ep=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function $x(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function cr(){return zx}function zx(n){return n.type.prototype.ngOnChanges&&(n.setInput=pA),fA}cr.ngInherit=!0;function fA(){let n=qx(this),e=n?.current;if(e){let t=n.previous;if(t===bi)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function pA(n,e,t,r,o){let i=this.declaredInputs[r],s=qx(n)||mA(n,{previous:bi,current:null}),l=s.current||(s.current={}),c=s.previous,u=c[i];l[i]=new Ep(u&&u.currentValue,t,c===bi),$x(n,e,o,t)}var Hx="__ngSimpleChanges__";function qx(n){return n[Hx]||null}function mA(n,e){return n[Hx]=e}var Vw=null;var Cn=function(n,e,t){Vw?.(n,e,t)},gA="svg",bA="math";function kn(n){for(;Array.isArray(n);)n=n[ar];return n}function Gx(n,e){return kn(e[n])}function en(n,e){return kn(e[n.index])}function Wx(n,e){return n.data[e]}function vA(n,e){return n[e]}function Br(n,e){let t=e[n];return Or(t)?t:t[ar]}function pm(n){return(n[ie]&128)===128}function yA(n){return lr(n[St])}function iu(n,e){return e==null?null:n[e]}function Kx(n){n[di]=0}function Qx(n){n[ie]&1024||(n[ie]|=1024,pm(n)&&Au(n))}function wA(n,e){for(;n>0;)e=e[ki],n--;return e}function Su(n){return!!(n[ie]&9216||n[Zt]?.dirty)}function Cp(n){n[Sn].changeDetectionScheduler?.notify(8),n[ie]&64&&(n[ie]|=1024),Su(n)&&Au(n)}function Au(n){n[Sn].changeDetectionScheduler?.notify(0);let e=vo(n);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!pm(e)));)e=vo(e)}function Yx(n,e){if((n[ie]&256)===256)throw new K(911,!1);n[Nr]===null&&(n[Nr]=[]),n[Nr].push(e)}function xA(n,e){if(n[Nr]===null)return;let t=n[Nr].indexOf(e);t!==-1&&n[Nr].splice(t,1)}function vo(n){let e=n[St];return lr(e)?e[St]:e}var de={lFrame:s_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Zx=!1;function _A(){return de.lFrame.elementDepthCount}function IA(){de.lFrame.elementDepthCount++}function EA(){de.lFrame.elementDepthCount--}function Xx(){return de.bindingsEnabled}function CA(){return de.skipHydrationRootTNode!==null}function DA(n){return de.skipHydrationRootTNode===n}function TA(){de.skipHydrationRootTNode=null}function Se(){return de.lFrame.lView}function Nt(){return de.lFrame.tView}function nt(n){return de.lFrame.contextLView=n,n[pn]}function rt(n){return de.lFrame.contextLView=null,n}function Mt(){let n=Jx();for(;n!==null&&n.type===64;)n=n.parent;return n}function Jx(){return de.lFrame.currentTNode}function SA(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ya(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function e_(){return de.lFrame.isParent}function AA(){de.lFrame.isParent=!1}function kA(){return de.lFrame.contextLView}function t_(){return Zx}function Lw(n){Zx=n}function n_(){let n=de.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function MA(n){return de.lFrame.bindingIndex=n}function ku(){return de.lFrame.bindingIndex++}function RA(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function PA(){return de.lFrame.inI18n}function NA(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,Dp(e)}function OA(){return de.lFrame.currentDirectiveIndex}function Dp(n){de.lFrame.currentDirectiveIndex=n}function FA(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function r_(n){de.lFrame.currentQueryIndex=n}function VA(n){let e=n[pe];return e.type===2?e.declTNode:e.type===1?n[gn]:null}function o_(n,e,t){if(t&ue.SkipSelf){let o=e,i=n;for(;o=o.parent,o===null&&!(t&ue.Host);)if(o=VA(i),o===null||(i=i[ki],o.type&10))break;if(o===null)return!1;e=o,n=i}let r=de.lFrame=i_();return r.currentTNode=e,r.lView=n,!0}function mm(n){let e=i_(),t=n[pe];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function i_(){let n=de.lFrame,e=n===null?null:n.child;return e===null?s_(n):e}function s_(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function a_(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var l_=a_;function gm(){let n=a_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function LA(n){return(de.lFrame.contextLView=wA(n,de.lFrame.contextLView))[pn]}function Mi(){return de.lFrame.selectedIndex}function yo(n){de.lFrame.selectedIndex=n}function Mu(){let n=de.lFrame;return Wx(n.tView,n.selectedIndex)}function jA(){return de.lFrame.currentNamespace}var c_=!0;function bm(){return c_}function vm(n){c_=n}function BA(n,e,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=zx(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}o&&(t.preOrderHooks??=[]).push(0-n,o),i&&((t.preOrderHooks??=[]).push(n,i),(t.preOrderCheckHooks??=[]).push(n,i))}function ym(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:l,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:f}=i;s&&(n.contentHooks??=[]).push(-t,s),l&&((n.contentHooks??=[]).push(t,l),(n.contentCheckHooks??=[]).push(t,l)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),f!=null&&(n.destroyHooks??=[]).push(t,f)}}function Gc(n,e,t){u_(n,e,3,t)}function Wc(n,e,t,r){(n[ie]&3)===t&&u_(n,e,t,r)}function ip(n,e){let t=n[ie];(t&3)===e&&(t&=16383,t+=1,n[ie]=t)}function u_(n,e,t,r){let o=r!==void 0?n[di]&65535:0,i=r??-1,s=e.length-1,l=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(l=e[c],r!=null&&l>=r)break}else e[c]<0&&(n[di]+=65536),(l<i||i==-1)&&(UA(n,t,e,c),n[di]=(n[di]&4294901760)+c+2),c++}function jw(n,e){Cn(4,n,e);let t=we(null);try{e.call(n)}finally{we(t),Cn(5,n,e)}}function UA(n,e,t,r){let o=t[r]<0,i=t[r+1],s=o?-t[r]:t[r],l=n[s];o?n[ie]>>14<n[di]>>16&&(n[ie]&3)===e&&(n[ie]+=16384,jw(l,i)):jw(l,i)}var mi=-1,wo=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function $A(n){return n instanceof wo}function zA(n){return(n.flags&8)!==0}function HA(n){return(n.flags&16)!==0}var sp={},Tp=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Iu(r);let o=this.injector.get(e,sp,r);return o!==sp||t===sp?o:this.parentInjector.get(e,t,r)}};function d_(n){return n!==mi}function su(n){return n&32767}function qA(n){return n>>16}function au(n,e){let t=qA(n),r=e;for(;t>0;)r=r[ki],t--;return r}var Sp=!0;function Bw(n){let e=Sp;return Sp=n,e}var GA=256,h_=GA-1,f_=5,WA=0,Dn={};function KA(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(ua)&&(r=t[ua]),r==null&&(r=t[ua]=WA++);let o=r&h_,i=1<<o;e.data[n+(o>>f_)]|=i}function lu(n,e){let t=p_(n,e);if(t!==-1)return t;let r=e[pe];r.firstCreatePass&&(n.injectorIndex=e.length,ap(r.data,n),ap(e,null),ap(r.blueprint,null));let o=wm(n,e),i=n.injectorIndex;if(d_(o)){let s=su(o),l=au(o,e),c=l[pe].data;for(let u=0;u<8;u++)e[i+u]=l[s+u]|c[s+u]}return e[i+8]=o,i}function ap(n,e){n.push(0,0,0,0,0,0,0,0,e)}function p_(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function wm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;o!==null;){if(r=y_(o),r===null)return mi;if(t++,o=o[ki],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return mi}function Ap(n,e,t){KA(n,e,t)}function QA(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,o=0;for(;o<r;){let i=t[o];if(Dx(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof t[o]=="string";)o++;else{if(i===e)return t[o+1];o=o+2}}}return null}function m_(n,e,t){if(t&ue.Optional||n!==void 0)return n;lm(e,"NodeInjector")}function g_(n,e,t,r){if(t&ue.Optional&&r===void 0&&(r=null),!(t&(ue.Self|ue.Host))){let o=n[wi],i=Qt(void 0);try{return o?o.get(e,r,t&ue.Optional):wx(e,r,t&ue.Optional)}finally{Qt(i)}}return m_(r,e,t)}function b_(n,e,t,r=ue.Default,o){if(n!==null){if(e[ie]&2048&&!(r&ue.Self)){let s=ek(n,e,t,r,Dn);if(s!==Dn)return s}let i=v_(n,e,t,r,Dn);if(i!==Dn)return i}return g_(e,t,r,o)}function v_(n,e,t,r,o){let i=XA(t);if(typeof i=="function"){if(!o_(e,n,r))return r&ue.Host?m_(o,t,r):g_(e,t,r,o);try{let s;if(s=i(r),s==null&&!(r&ue.Optional))lm(t);else return s}finally{l_()}}else if(typeof i=="number"){let s=null,l=p_(n,e),c=mi,u=r&ue.Host?e[An][gn]:null;for((l===-1||r&ue.SkipSelf)&&(c=l===-1?wm(n,e):e[l+8],c===mi||!$w(r,!1)?l=-1:(s=e[pe],l=su(c),e=au(c,e)));l!==-1;){let f=e[pe];if(Uw(i,l,f.data)){let p=YA(l,e,t,s,r,u);if(p!==Dn)return p}c=e[l+8],c!==mi&&$w(r,e[pe].data[l+8]===u)&&Uw(i,l,e)?(s=f,l=su(c),e=au(c,e)):l=-1}}return o}function YA(n,e,t,r,o,i){let s=e[pe],l=s.data[n+8],c=r==null?Tu(l)&&Sp:r!=s&&(l.type&3)!==0,u=o&ue.Host&&i===l,f=ZA(l,s,t,c,u);return f!==null?Ii(e,s,f,l):Dn}function ZA(n,e,t,r,o){let i=n.providerIndexes,s=e.data,l=i&1048575,c=n.directiveStart,u=n.directiveEnd,f=i>>20,p=r?l:l+f,g=o?l+f:u;for(let v=p;v<g;v++){let D=s[v];if(v<c&&t===D||v>=c&&D.type===t)return v}if(o){let v=s[c];if(v&&Lr(v)&&v.type===t)return c}return null}function Ii(n,e,t,r){let o=n[t],i=e.data;if($A(o)){let s=o;s.resolving&&TS(DS(i[t]));let l=Bw(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?Qt(s.injectImpl):null,f=o_(n,r,ue.Default);try{o=n[t]=s.factory(void 0,i,n,r),e.firstCreatePass&&t>=r.directiveStart&&BA(t,i[t],e)}finally{u!==null&&Qt(u),Bw(l),s.resolving=!1,l_()}}return o}function XA(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(ua)?n[ua]:void 0;return typeof e=="number"?e>=0?e&h_:JA:e}function Uw(n,e,t){let r=1<<n;return!!(t[e+(n>>f_)]&r)}function $w(n,e){return!(n&ue.Self)&&!(n&ue.Host&&e)}var go=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return b_(this._tNode,this._lView,e,Iu(r),t)}};function JA(){return new go(Mt(),Se())}function Ur(n){return ba(()=>{let e=n.prototype.constructor,t=e[Yc]||kp(e),r=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){let i=o[Yc]||kp(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function kp(n){return px(n)?()=>{let e=kp(Ct(n));return e&&e()}:gi(n)}function ek(n,e,t,r,o){let i=n,s=e;for(;i!==null&&s!==null&&s[ie]&2048&&!(s[ie]&512);){let l=v_(i,s,t,r|ue.Self,Dn);if(l!==Dn)return l;let c=i.parent;if(!c){let u=s[jx];if(u){let f=u.get(t,Dn,r);if(f!==Dn)return f}c=y_(s),s=s[ki]}i=c}return o}function y_(n){let e=n[pe],t=e.type;return t===2?e.declTNode:t===1?n[gn]:null}function xm(n){return QA(Mt(),n)}function zw(n,e=null,t=null,r){let o=w_(n,e,t,r);return o.resolveInjectorInitializers(),o}function w_(n,e=null,t=null,r,o=new Set){let i=[t||Yt,Ai(n)];return r=r||(typeof n=="object"?void 0:Dt(n)),new fa(i,e||hm(),r||null,o)}var At=class n{static{this.THROW_IF_NOT_FOUND=da}static{this.NULL=new Jc}static create(e,t){if(Array.isArray(e))return zw({name:""},t,e,"");{let r=e.name??"";return zw({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=z({token:n,providedIn:"any",factory:()=>U(Ix)})}static{this.__NG_ELEMENT_ID__=-1}};var tk=new H("");tk.__NG_ELEMENT_ID__=n=>{let e=Mt();if(e===null)throw new K(204,!1);if(e.type&2)return e.value;if(n&ue.Optional)return null;throw new K(204,!1)};var nk="ngOriginalError";function lp(n){return n[nk]}var x_=!0,_m=(()=>{class n{static{this.__NG_ELEMENT_ID__=rk}static{this.__NG_ENV_ID__=t=>t}}return n})(),Mp=class extends _m{constructor(e){super(),this._lView=e}onDestroy(e){return Yx(this._lView,e),()=>xA(this._lView,e)}};function rk(){return new Mp(Se())}var $r=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new $e(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}}return n})();var Rp=class extends Fe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,Lx()&&(this.destroyRef=N(_m,{optional:!0})??void 0,this.pendingTasks=N($r,{optional:!0})??void 0)}emit(e){let t=we(null);try{super.next(e)}finally{we(t)}}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let l=super.subscribe({next:o,error:i,complete:s});return e instanceof He&&e.add(l),l}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Re=Rp;function cu(...n){}function __(n){let e,t;function r(){n=cu;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Hw(n){return queueMicrotask(()=>n()),()=>{n=cu}}var Im="isAngularZone",uu=Im+"_ID",ok=0,ve=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Re(!1),this.onMicrotaskEmpty=new Re(!1),this.onStable=new Re(!1),this.onError=new Re(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=x_}=e;if(typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,ak(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Im)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new K(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,ik,cu,cu);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},ik={};function Em(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function sk(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){__(()=>{n.callbackScheduled=!1,Pp(n),n.isCheckStableRunning=!0,Em(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Pp(n)}function ak(n){let e=()=>{sk(n)},t=ok++;n._inner=n._inner.fork({name:"angular",properties:{[Im]:!0,[uu]:t,[uu+t]:!0},onInvokeTask:(r,o,i,s,l,c)=>{if(lk(c))return r.invokeTask(i,s,l,c);try{return qw(n),r.invokeTask(i,s,l,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Gw(n)}},onInvoke:(r,o,i,s,l,c,u)=>{try{return qw(n),r.invoke(i,s,l,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!ck(c)&&e(),Gw(n)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Pp(n),Em(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Pp(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function qw(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Gw(n){n._nesting--,Em(n)}var Np=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Re,this.onMicrotaskEmpty=new Re,this.onStable=new Re,this.onError=new Re}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}};function lk(n){return I_(n,"__ignore_ng_zone__")}function ck(n){return I_(n,"__scheduler_tick__")}function I_(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var ir=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&lp(e);for(;t&&lp(t);)t=lp(t);return t||null}},uk=new H("",{providedIn:"root",factory:()=>{let n=N(ve),e=N(ir);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function dk(){return Ru(Mt(),Se())}function Ru(n,e){return new tn(en(n,e))}var tn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=dk}}return n})();function E_(n){return(n.flags&128)===128}var C_=new Map,hk=0;function fk(){return hk++}function pk(n){C_.set(n[Du],n)}function Op(n){C_.delete(n[Du])}var Ww="__ngContext__";function xo(n,e){Or(e)?(n[Ww]=e[Du],pk(e)):n[Ww]=e}function D_(n){return S_(n[pa])}function T_(n){return S_(n[fn])}function S_(n){for(;n!==null&&!lr(n);)n=n[fn];return n}var Fp;function A_(n){Fp=n}function mk(){if(Fp!==void 0)return Fp;if(typeof document<"u")return document;throw new K(210,!1)}var Cm=new H("",{providedIn:"root",factory:()=>gk}),gk="ng",Dm=new H(""),gt=new H("",{providedIn:"platform",factory:()=>"unknown"});var Tm=new H("",{providedIn:"root",factory:()=>mk().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var bk="h",vk="b";var yk=()=>null;function Sm(n,e,t=!1){return yk(n,e,t)}var k_=!1,wk=new H("",{providedIn:"root",factory:()=>k_});var Uc;function xk(){if(Uc===void 0&&(Uc=null,mp.trustedTypes))try{Uc=mp.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Uc}function Kw(n){return xk()?.createScriptURL(n)||n}var du=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hx})`}};function wa(n){return n instanceof du?n.changingThisBreaksApplicationSecurity:n}function Am(n,e){let t=_k(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${hx})`)}return t===e}function _k(n){return n instanceof du&&n.getTypeName()||null}var Ik=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function M_(n){return n=String(n),n.match(Ik)?n:"unsafe:"+n}var Pu=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Pu||{});function Eo(n){let e=P_();return e?e.sanitize(Pu.URL,n)||"":Am(n,"URL")?wa(n):M_(_u(n))}function Ek(n){let e=P_();if(e)return Kw(e.sanitize(Pu.RESOURCE_URL,n)||"");if(Am(n,"ResourceURL"))return Kw(wa(n));throw new K(904,!1)}function Ck(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Ek:Eo}function R_(n,e,t){return Ck(e,t)(n)}function P_(){let n=Se();return n&&n[Sn].sanitizer}function N_(n){return n instanceof Function?n():n}function Dk(n){return(n??N(At)).get(gt)==="browser"}var Mn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Mn||{}),Tk;function km(n,e){return Tk(n,e)}function hi(n,e,t,r,o){if(r!=null){let i,s=!1;lr(r)?i=r:Or(r)&&(s=!0,r=r[ar]);let l=kn(r);n===0&&t!==null?o==null?j_(e,t,l):hu(e,t,l,o||null,!0):n===1&&t!==null?hu(e,t,l,o||null,!0):n===2?$k(e,l,s):n===3&&e.destroyNode(l),i!=null&&Hk(e,n,i,t,o)}}function Sk(n,e){return n.createText(e)}function Ak(n,e,t){n.setValue(e,t)}function O_(n,e,t){return n.createElement(e,t)}function kk(n,e){F_(n,e),e[ar]=null,e[gn]=null}function Mk(n,e,t,r,o,i){r[ar]=o,r[gn]=e,Nu(n,r,t,1,o,i)}function F_(n,e){e[Sn].changeDetectionScheduler?.notify(9),Nu(n,e,e[Ye],2,null,null)}function Rk(n){let e=n[pa];if(!e)return cp(n[pe],n);for(;e;){let t=null;if(Or(e))t=e[pa];else{let r=e[Xt];r&&(t=r)}if(!t){for(;e&&!e[fn]&&e!==n;)Or(e)&&cp(e[pe],e),e=e[St];e===null&&(e=n),Or(e)&&cp(e[pe],e),t=e&&e[fn]}e=t}}function Pk(n,e,t,r){let o=Xt+r,i=t.length;r>0&&(t[o-1][fn]=e),r<i-Xt?(e[fn]=t[o],_x(t,Xt+r,e)):(t.push(e),e[fn]=null),e[St]=t;let s=e[xi];s!==null&&t!==s&&V_(s,e);let l=e[_i];l!==null&&l.insertView(n),Cp(e),e[ie]|=128}function V_(n,e){let t=n[ru],r=e[St];if(Or(r))n[ie]|=ou.HasTransplantedViews;else{let o=r[St][An];e[An]!==o&&(n[ie]|=ou.HasTransplantedViews)}t===null?n[ru]=[e]:t.push(e)}function Mm(n,e){let t=n[ru],r=t.indexOf(e);t.splice(r,1)}function Vp(n,e){if(n.length<=Xt)return;let t=Xt+e,r=n[t];if(r){let o=r[xi];o!==null&&o!==n&&Mm(o,r),e>0&&(n[t-1][fn]=r[fn]);let i=Xc(n,Xt+e);kk(r[pe],r);let s=i[_i];s!==null&&s.detachView(i[pe]),r[St]=null,r[fn]=null,r[ie]&=-129}return r}function L_(n,e){if(!(e[ie]&256)){let t=e[Ye];t.destroyNode&&Nu(n,e,t,3,null,null),Rk(e)}}function cp(n,e){if(e[ie]&256)return;let t=we(null);try{e[ie]&=-129,e[ie]|=256,e[Zt]&&Ff(e[Zt]),Ok(n,e),Nk(n,e),e[pe].type===1&&e[Ye].destroy();let r=e[xi];if(r!==null&&lr(e[St])){r!==e[St]&&Mm(r,e);let o=e[_i];o!==null&&o.detachView(n)}Op(e)}finally{we(t)}}function Nk(n,e){let t=n.cleanup,r=e[tu];if(t!==null)for(let i=0;i<t.length-1;i+=2)if(typeof t[i]=="string"){let s=t[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else{let s=r[t[i+1]];t[i].call(s)}r!==null&&(e[tu]=null);let o=e[Nr];if(o!==null){e[Nr]=null;for(let i=0;i<o.length;i++){let s=o[i];s()}}}function Ok(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=e[t[r]];if(!(o instanceof wo)){let i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let l=o[i[s]],c=i[s+1];Cn(4,l,c);try{c.call(l)}finally{Cn(5,l,c)}}else{Cn(4,o,i);try{i.call(o)}finally{Cn(5,o,i)}}}}}function Fk(n,e,t){return Vk(n,e.parent,t)}function Vk(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ar];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:i}=n.data[r.directiveStart+o];if(i===Tn.None||i===Tn.Emulated)return null}return en(r,t)}}function hu(n,e,t,r,o){n.insertBefore(e,t,r,o)}function j_(n,e,t){n.appendChild(e,t)}function Qw(n,e,t,r,o){r!==null?hu(n,e,t,r,o):j_(n,e,t)}function B_(n,e){return n.parentNode(e)}function Lk(n,e){return n.nextSibling(e)}function jk(n,e,t){return Uk(n,e,t)}function Bk(n,e,t){return n.type&40?en(n,t):null}var Uk=Bk,Yw;function Rm(n,e,t,r){let o=Fk(n,r,e),i=e[Ye],s=r.parent||e[gn],l=jk(s,r,e);if(o!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Qw(i,o,t[c],l,!1);else Qw(i,o,t,l,!1);Yw!==void 0&&Yw(i,r,e,t,o)}function ca(n,e){if(e!==null){let t=e.type;if(t&3)return en(e,n);if(t&4)return Lp(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return ca(n,r);{let o=n[e.index];return lr(o)?Lp(-1,o):kn(o)}}else{if(t&128)return ca(n,e.next);if(t&32)return km(e,n)()||kn(n[e.index]);{let r=U_(n,e);if(r!==null){if(Array.isArray(r))return r[0];let o=vo(n[An]);return ca(o,r)}else return ca(n,e.next)}}}return null}function U_(n,e){if(e!==null){let r=n[An][gn],o=e.projection;return r.projection[o]}return null}function Lp(n,e){let t=Xt+n+1;if(t<e.length){let r=e[t],o=r[pe].firstChild;if(o!==null)return ca(r,o)}return e[bo]}function $k(n,e,t){n.removeChild(null,e,t)}function Pm(n,e,t,r,o,i,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let l=r[t.index],c=t.type;if(s&&e===0&&(l&&xo(kn(l),r),t.flags|=2),(t.flags&32)!==32)if(c&8)Pm(n,e,t.child,r,o,i,!1),hi(e,n,o,l,i);else if(c&32){let u=km(t,r),f;for(;f=u();)hi(e,n,o,f,i);hi(e,n,o,l,i)}else c&16?zk(n,e,r,t,o,i):hi(e,n,o,l,i);t=s?t.projectionNext:t.next}}function Nu(n,e,t,r,o,i){Pm(t,r,n.firstChild,e,o,i,!1)}function zk(n,e,t,r,o,i){let s=t[An],c=s[gn].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let f=c[u];hi(e,n,o,f,i)}else{let u=c,f=s[St];E_(r)&&(u.flags|=128),Pm(n,e,u,f,o,i,!0)}}function Hk(n,e,t,r,o){let i=t[bo],s=kn(t);i!==s&&hi(e,n,r,i,o);for(let l=Xt;l<t.length;l++){let c=t[l];Nu(c[pe],c,n,e,r,i)}}function qk(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=r.indexOf("-")===-1?void 0:Mn.DashCase;o==null?n.removeStyle(t,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Mn.Important),n.setStyle(t,r,o,i))}}function Gk(n,e,t){n.setAttribute(e,"style",t)}function $_(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function z_(n,e,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&yp(n,e,r),o!==null&&$_(n,e,o),i!==null&&Gk(n,e,i)}var ur={};function q(n=1){H_(Nt(),Se(),Mi()+n,!1)}function H_(n,e,t,r){if(!r)if((e[ie]&3)===3){let i=n.preOrderCheckHooks;i!==null&&Gc(e,i,t)}else{let i=n.preOrderHooks;i!==null&&Wc(e,i,0,t)}yo(t)}function j(n,e=ue.Default){let t=Se();if(t===null)return U(n,e);let r=Mt();return b_(r,t,Ct(n),e)}function q_(){let n="invalid";throw new Error(n)}function G_(n,e,t,r,o,i){let s=we(null);try{let l=null;o&Fr.SignalBased&&(l=e[r][Jn]),l!==null&&l.transformFn!==void 0&&(i=l.transformFn(i)),o&Fr.HasDecoratorInputTransform&&(i=n.inputTransforms[r].call(e,i)),n.setInput!==null?n.setInput(e,l,i,t,r):$x(e,l,r,i)}finally{we(s)}}function Wk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)yo(~o);else{let i=o,s=t[++r],l=t[++r];NA(s,i);let c=e[i];l(2,c)}}}finally{yo(-1)}}function Ou(n,e,t,r,o,i,s,l,c,u,f){let p=e.blueprint.slice();return p[ar]=o,p[ie]=r|4|128|8|64,(u!==null||n&&n[ie]&2048)&&(p[ie]|=2048),Kx(p),p[St]=p[ki]=n,p[pn]=t,p[Sn]=s||n&&n[Sn],p[Ye]=l||n&&n[Ye],p[wi]=c||n&&n[wi]||null,p[gn]=i,p[Du]=fk(),p[eu]=f,p[jx]=u,p[An]=e.type==2?n[An]:p,p}function Fu(n,e,t,r,o){let i=n.data[e];if(i===null)i=Kk(n,e,t,r,o),PA()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let s=SA();i.injectorIndex=s===null?-1:s.injectorIndex}return ya(i,!0),i}function Kk(n,e,t,r,o){let i=Jx(),s=e_(),l=s?i:i&&i.parent,c=n.data[e]=Jk(n,l,t,e,r,o);return n.firstChild===null&&(n.firstChild=c),i!==null&&(s?i.child==null&&c.parent!==null&&(i.child=c):i.next===null&&(i.next=c,c.prev=i)),c}function W_(n,e,t,r){if(t===0)return-1;let o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function K_(n,e,t,r,o){let i=Mi(),s=r&2;try{yo(-1),s&&e.length>or&&H_(n,e,or,!1),Cn(s?2:0,o),t(r,o)}finally{yo(i),Cn(s?3:1,o)}}function Q_(n,e,t){if(Ux(e)){let r=we(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let l=n.data[s];if(l.contentQueries){let c=t[s];l.contentQueries(1,c,s)}}}finally{we(r)}}}function Y_(n,e,t){Xx()&&(iM(n,e,t,en(t,e)),(t.flags&64)===64&&tI(n,e,t))}function Z_(n,e,t=en){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],l=s===-1?t(e,n):n[s];n[o++]=l}}}function X_(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Nm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Nm(n,e,t,r,o,i,s,l,c,u,f){let p=or+r,g=p+o,v=Qk(p,g),D=typeof u=="function"?u():u;return v[pe]={type:n,blueprint:v,template:t,queries:null,viewQuery:l,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:D,incompleteFirstPass:!1,ssrId:f}}function Qk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:ur);return t}function Yk(n,e,t,r){let i=r.get(wk,k_)||t===Tn.ShadowDom,s=n.selectRootElement(e,i);return Zk(s),s}function Zk(n){Xk(n)}var Xk=()=>null;function Jk(n,e,t,r,o,i){let s=e?e.injectorIndex:-1,l=0;return CA()&&(l|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Zw(n,e,t,r,o){for(let i in e){if(!e.hasOwnProperty(i))continue;let s=e[i];if(s===void 0)continue;r??={};let l,c=Fr.None;Array.isArray(s)?(l=s[0],c=s[1]):l=s;let u=i;if(o!==null){if(!o.hasOwnProperty(i))continue;u=o[i]}n===0?Xw(r,t,u,l,c):Xw(r,t,u,l)}return r}function Xw(n,e,t,r,o){let i;n.hasOwnProperty(t)?(i=n[t]).push(e,r):i=n[t]=[e,r],o!==void 0&&i.push(o)}function eM(n,e,t){let r=e.directiveStart,o=e.directiveEnd,i=n.data,s=e.attrs,l=[],c=null,u=null;for(let f=r;f<o;f++){let p=i[f],g=t?t.get(p):null,v=g?g.inputs:null,D=g?g.outputs:null;c=Zw(0,p.inputs,f,c,v),u=Zw(1,p.outputs,f,u,D);let M=c!==null&&s!==null&&!um(e)?gM(c,f,s):null;l.push(M)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=l,e.inputs=c,e.outputs=u}function tM(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Om(n,e,t,r,o,i,s,l){let c=en(e,t),u=e.inputs,f;!l&&u!=null&&(f=u[r])?(Fm(n,t,f,r,o),Tu(e)&&nM(t,e.index)):e.type&3?(r=tM(r),o=s!=null?s(o,e.value||"",r):o,i.setProperty(c,r,o)):e.type&12}function nM(n,e){let t=Br(e,n);t[ie]&16||(t[ie]|=64)}function J_(n,e,t,r){if(Xx()){let o=r===null?null:{"":-1},i=aM(n,t),s,l;i===null?s=l=null:[s,l]=i,s!==null&&eI(n,e,t,s,o,l),o&&lM(t,r,o)}t.mergedAttrs=ha(t.mergedAttrs,t.attrs)}function eI(n,e,t,r,o,i){for(let u=0;u<r.length;u++)Ap(lu(t,e),n,r[u].type);uM(t,n.data.length,r.length);for(let u=0;u<r.length;u++){let f=r[u];f.providersResolver&&f.providersResolver(f)}let s=!1,l=!1,c=W_(n,e,r.length,null);for(let u=0;u<r.length;u++){let f=r[u];t.mergedAttrs=ha(t.mergedAttrs,f.hostAttrs),dM(n,t,e,c,f),cM(c,f,o),f.contentQueries!==null&&(t.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(t.flags|=64);let p=f.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!l&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),l=!0),c++}eM(n,t,i)}function rM(n,e,t,r,o){let i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let l=~e.index;oM(s)!=l&&s.push(l),s.push(t,r,i)}}function oM(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function iM(n,e,t,r){let o=t.directiveStart,i=t.directiveEnd;Tu(t)&&hM(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||lu(t,e),xo(r,e);let s=t.initialInputs;for(let l=o;l<i;l++){let c=n.data[l],u=Ii(e,n,l,t);if(xo(u,e),s!==null&&mM(e,l-o,u,c,t,s),Lr(c)){let f=Br(t.index,e);f[pn]=Ii(e,n,l,t)}}}function tI(n,e,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,s=OA();try{yo(i);for(let l=r;l<o;l++){let c=n.data[l],u=e[l];Dp(l),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&sM(c,u)}}finally{yo(-1),Dp(s)}}function sM(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function aM(n,e){let t=n.directiveRegistry,r=null,o=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];if(GS(e,s.selectors,!1))if(r||(r=[]),Lr(s))if(s.findHostDirectiveDefs!==null){let l=[];o=o||new Map,s.findHostDirectiveDefs(s,l,o),r.unshift(...l,s);let c=l.length;jp(n,e,c)}else r.unshift(s),jp(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return r===null?null:[r,o]}function jp(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function lM(n,e,t){if(e){let r=n.localNames=[];for(let o=0;o<e.length;o+=2){let i=t[e[o+1]];if(i==null)throw new K(-301,!1);r.push(e[o],i)}}}function cM(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Lr(e)&&(t[""]=n)}}function uM(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function dM(n,e,t,r,o){n.data[r]=o;let i=o.factory||(o.factory=gi(o.type,!0)),s=new wo(i,Lr(o),j);n.blueprint[r]=s,t[r]=s,rM(n,e,r,W_(n,t,o.hostVars,ur),o)}function hM(n,e,t){let r=en(e,n),o=X_(t),i=n[Sn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let l=Vu(n,Ou(n,o,null,s,r,e,null,i.createRenderer(r,t),null,null,null));n[e.index]=l}function fM(n,e,t,r,o,i){let s=en(n,e);pM(e[Ye],s,i,n.value,t,r,o)}function pM(n,e,t,r,o,i,s){if(i==null)n.removeAttribute(e,o,t);else{let l=s==null?_u(i):s(i,r||"",o);n.setAttribute(e,o,l,t)}}function mM(n,e,t,r,o,i){let s=i[e];if(s!==null)for(let l=0;l<s.length;){let c=s[l++],u=s[l++],f=s[l++],p=s[l++];G_(r,t,c,u,f,p)}}function gM(n,e,t){let r=null,o=0;for(;o<t.length;){let i=t[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(n.hasOwnProperty(i)){r===null&&(r=[]);let s=n[i];for(let l=0;l<s.length;l+=3)if(s[l]===e){r.push(i,s[l+1],s[l+2],t[o+1]);break}}o+=2}return r}function nI(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function rI(n,e){let t=n.contentQueries;if(t!==null){let r=we(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];if(s!==-1){let l=n.data[s];r_(i),l.contentQueries(2,e[s],s)}}}finally{we(r)}}}function Vu(n,e){return n[pa]?n[Fw][fn]=e:n[pa]=e,n[Fw]=e,e}function Bp(n,e,t){r_(0);let r=we(null);try{e(n,t)}finally{we(r)}}function bM(n){return n[tu]??=[]}function vM(n){return n.cleanup??=[]}function oI(n,e){let t=n[wi],r=t?t.get(ir,null):null;r&&r.handleError(e)}function Fm(n,e,t,r,o){for(let i=0;i<t.length;){let s=t[i++],l=t[i++],c=t[i++],u=e[s],f=n.data[s];G_(f,u,r,l,c,o)}}function yM(n,e,t){let r=Gx(e,n);Ak(n[Ye],r,t)}function wM(n,e){let t=Br(e,n),r=t[pe];xM(r,t);let o=t[ar];o!==null&&t[eu]===null&&(t[eu]=Sm(o,t[wi])),Vm(r,t,t[pn])}function xM(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Vm(n,e,t){mm(e);try{let r=n.viewQuery;r!==null&&Bp(1,r,t);let o=n.template;o!==null&&K_(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[_i]?.finishViewCreation(n),n.staticContentQueries&&rI(n,e),n.staticViewQueries&&Bp(2,n.viewQuery,t);let i=n.components;i!==null&&_M(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ie]&=-5,gm()}}function _M(n,e){for(let t=0;t<e.length;t++)wM(n,e[t])}function IM(n,e,t,r){let o=we(null);try{let i=e.tView,l=n[ie]&4096?4096:16,c=Ou(n,i,t,l,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[xi]=u;let f=n[_i];return f!==null&&(c[_i]=f.createEmbeddedView(i)),Vm(i,c,t),c}finally{we(o)}}function Jw(n,e){return!e||e.firstChild===null||E_(n)}function EM(n,e,t,r=!0){let o=e[pe];if(Pk(o,e,n,t),r){let s=Lp(t,n),l=e[Ye],c=B_(l,n[bo]);c!==null&&Mk(o,n[gn],l,e,c,s)}let i=e[eu];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function fu(n,e,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=e[t.index];i!==null&&r.push(kn(i)),lr(i)&&CM(i,r);let s=t.type;if(s&8)fu(n,e,t.child,r);else if(s&32){let l=km(t,e),c;for(;c=l();)r.push(c)}else if(s&16){let l=U_(e,t);if(Array.isArray(l))r.push(...l);else{let c=vo(e[An]);fu(c[pe],c,l,r,!0)}}t=o?t.projectionNext:t.next}return r}function CM(n,e){for(let t=Xt;t<n.length;t++){let r=n[t],o=r[pe].firstChild;o!==null&&fu(r[pe],r,o,e)}n[bo]!==n[ar]&&e.push(n[bo])}var iI=[];function DM(n){return n[Zt]??TM(n)}function TM(n){let e=iI.pop()??Object.create(AM);return e.lView=n,e}function SM(n){n.lView[Zt]!==n&&(n.lView=null,iI.push(n))}var AM=be($({},oa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Au(n.lView)},consumerOnSignalRead(){this.lView[Zt]=this}});function kM(n){let e=n[Zt]??Object.create(MM);return e.lView=n,e}var MM=be($({},oa),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=vo(n.lView);for(;e&&!sI(e[pe]);)e=vo(e);e&&Qx(e)},consumerOnSignalRead(){this.lView[Zt]=this}});function sI(n){return n.type!==2}var RM=100;function aI(n,e=!0,t=0){let r=n[Sn],o=r.rendererFactory,i=!1;i||o.begin?.();try{PM(n,t)}catch(s){throw e&&oI(n,s),s}finally{i||(o.end?.(),r.inlineEffectRunner?.flush())}}function PM(n,e){let t=t_();try{Lw(!0),Up(n,e);let r=0;for(;Su(n);){if(r===RM)throw new K(103,!1);r++,Up(n,1)}}finally{Lw(t)}}function NM(n,e,t,r){let o=e[ie];if((o&256)===256)return;let i=!1,s=!1;!i&&e[Sn].inlineEffectRunner?.flush(),mm(e);let l=!0,c=null,u=null;i||(sI(n)?(u=DM(e),c=ac(u)):q0()===null?(l=!1,u=kM(e),c=ac(u)):e[Zt]&&(Ff(e[Zt]),e[Zt]=null));try{Kx(e),MA(n.bindingStartIndex),t!==null&&K_(n,e,t,2,r);let f=(o&3)===3;if(!i)if(f){let v=n.preOrderCheckHooks;v!==null&&Gc(e,v,null)}else{let v=n.preOrderHooks;v!==null&&Wc(e,v,0,null),ip(e,0)}if(s||OM(e),lI(e,0),n.contentQueries!==null&&rI(n,e),!i)if(f){let v=n.contentCheckHooks;v!==null&&Gc(e,v)}else{let v=n.contentHooks;v!==null&&Wc(e,v,1),ip(e,1)}Wk(n,e);let p=n.components;p!==null&&uI(e,p,0);let g=n.viewQuery;if(g!==null&&Bp(2,g,r),!i)if(f){let v=n.viewCheckHooks;v!==null&&Gc(e,v)}else{let v=n.viewHooks;v!==null&&Wc(e,v,2),ip(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[op]){for(let v of e[op])v();e[op]=null}i||(e[ie]&=-73)}catch(f){throw i||Au(e),f}finally{u!==null&&(Nf(u,c),l&&SM(u)),gm()}}function lI(n,e){for(let t=D_(n);t!==null;t=T_(t))for(let r=Xt;r<t.length;r++){let o=t[r];cI(o,e)}}function OM(n){for(let e=D_(n);e!==null;e=T_(e)){if(!(e[ie]&ou.HasTransplantedViews))continue;let t=e[ru];for(let r=0;r<t.length;r++){let o=t[r];Qx(o)}}}function FM(n,e,t){let r=Br(e,n);cI(r,t)}function cI(n,e){pm(n)&&Up(n,e)}function Up(n,e){let r=n[pe],o=n[ie],i=n[Zt],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&Of(i)),s||=!1,i&&(i.dirty=!1),n[ie]&=-9217,s)NM(r,n,r.template,n[pn]);else if(o&8192){lI(n,1);let l=r.components;l!==null&&uI(n,l,1)}}function uI(n,e,t){for(let r=0;r<e.length;r++)FM(n,e[r],t)}function Lm(n,e){let t=t_()?64:1088;for(n[Sn].changeDetectionScheduler?.notify(e);n;){n[ie]|=t;let r=vo(n);if(Ip(n)&&!r)return n;n=r}return null}var _o=class{get rootNodes(){let e=this._lView,t=e[pe];return fu(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[pn]}set context(e){this._lView[pn]=e}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[St];if(lr(e)){let t=e[nu],r=t?t.indexOf(this):-1;r>-1&&(Vp(e,r),Xc(t,r))}this._attachedToViewContainer=!1}L_(this._lView[pe],this._lView)}onDestroy(e){Yx(this._lView,e)}markForCheck(){Lm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){Cp(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,aI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ip(this._lView),t=this._lView[xi];t!==null&&!e&&Mm(t,this._lView),F_(this._lView[pe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e;let t=Ip(this._lView),r=this._lView[xi];r!==null&&!t&&V_(r,this._lView),Cp(this._lView)}},Lu=(()=>{class n{static{this.__NG_ELEMENT_ID__=jM}}return n})(),VM=Lu,LM=class extends VM{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let o=IM(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new _o(o)}};function jM(){return dI(Mt(),Se())}function dI(n,e){return n.type&4?new LM(e,n,Ru(n,e)):null}var hz=new RegExp(`^(\\d+)*(${vk}|${bk})*(.*)`);var BM=()=>null;function ex(n,e){return BM(n,e)}var Ei=class{},jm=new H("",{providedIn:"root",factory:()=>!1});var hI=new H(""),fI=new H(""),$p=class{},pu=class{};function UM(n){let e=Error(`No component factory found for ${Dt(n)}.`);return e[$M]=n,e}var $M="ngComponent";var zp=class{resolveComponentFactory(e){throw UM(e)}},Ci=class{static{this.NULL=new zp}},Di=class{},bn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>zM()}}return n})();function zM(){let n=Se(),e=Mt(),t=Br(e.index,n);return(Or(t)?t:n)[Ye]}var HM=(()=>{class n{static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>null})}}return n})();function Hp(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let l=e[s];if(typeof l=="number")i=l;else if(i==1)o=Dw(o,l);else if(i==2){let c=l,u=e[++s];r=Dw(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}var mu=class extends Ci{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Vr(e);return new Ti(t,this.ngModule)}};function tx(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let o=n[r];if(o===void 0)continue;let i=Array.isArray(o),s=i?o[0]:o,l=i?o[1]:Fr.None;e?t.push({propName:s,templateName:r,isSignal:(l&Fr.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function qM(n){let e=n.toLowerCase();return e==="svg"?gA:e==="math"?bA:null}var Ti=class extends pu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=tx(e.inputs,!0);if(t!==null)for(let o of r)t.hasOwnProperty(o.propName)&&(o.transform=t[o.propName]);return r}get outputs(){return tx(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=YS(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,o){let i=we(null);try{o=o||this.ngModule;let s=o instanceof Tt?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let l=s?new Tp(e,s):e,c=l.get(Di,null);if(c===null)throw new K(407,!1);let u=l.get(HM,null),f=l.get(Ei,null),p={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:f},g=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",D=r?Yk(g,r,this.componentDef.encapsulation,l):O_(g,v,qM(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let T=null;D!==null&&(T=Sm(D,l,!0));let F=Nm(0,null,null,1,0,null,null,null,null,null,null),G=Ou(null,F,null,M,null,null,p,g,l,null,T);mm(G);let V,ee,ge=null;try{let re=this.componentDef,x,b=null;re.findHostDirectiveDefs?(x=[],b=new Map,re.findHostDirectiveDefs(re,x,b),x.push(re)):x=[re];let w=GM(G,D);ge=WM(w,D,re,x,G,p,g),ee=Wx(F,or),D&&YM(g,re,D,r),t!==void 0&&ZM(ee,this.ngContentSelectors,t),V=QM(ge,re,x,b,G,[XM]),Vm(F,G,null)}catch(re){throw ge!==null&&Op(ge),Op(G),re}finally{gm()}return new qp(this.componentType,V,Ru(ee,G),G,ee)}finally{we(i)}}},qp=class extends $p{constructor(e,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new _o(o,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,o;if(r!==null&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView;Fm(i[pe],i,o,e,t),this.previousInputValues.set(e,t);let s=Br(this._tNode.index,i);Lm(s,1)}}get injector(){return new go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function GM(n,e){let t=n[pe],r=or;return n[r]=e,Fu(t,r,2,"#host",null)}function WM(n,e,t,r,o,i,s){let l=o[pe];KM(r,n,e,s);let c=null;e!==null&&(c=Sm(e,o[wi]));let u=i.rendererFactory.createRenderer(e,t),f=16;t.signals?f=4096:t.onPush&&(f=64);let p=Ou(o,X_(t),null,f,o[n.index],n,i,u,null,null,c);return l.firstCreatePass&&jp(l,n,r.length-1),Vu(o,p),o[n.index]=p}function KM(n,e,t,r){for(let o of n)e.mergedAttrs=ha(e.mergedAttrs,o.hostAttrs);e.mergedAttrs!==null&&(Hp(e,e.mergedAttrs,!0),t!==null&&z_(r,t,e))}function QM(n,e,t,r,o,i){let s=Mt(),l=o[pe],c=en(s,o);eI(l,o,s,t,null,r);for(let f=0;f<t.length;f++){let p=s.directiveStart+f,g=Ii(o,l,p,s);xo(g,o)}tI(l,o,s),c&&xo(c,o);let u=Ii(o,l,s.directiveStart+s.componentOffset,s);if(n[pn]=o[pn]=u,i!==null)for(let f of i)f(u,e);return Q_(l,s,o),u}function YM(n,e,t,r){if(r)yp(n,t,["ng-version","18.2.5"]);else{let{attrs:o,classes:i}=ZS(e.selectors[0]);o&&yp(n,t,o),i&&i.length>0&&$_(n,t,i.join(" "))}}function ZM(n,e,t){let r=n.projection=[];for(let o=0;o<e.length;o++){let i=t[o];r.push(i!=null?Array.from(i):null)}}function XM(){let n=Mt();ym(Se()[pe],n)}var Ri=(()=>{class n{static{this.__NG_ELEMENT_ID__=JM}}return n})();function JM(){let n=Mt();return tR(n,Se())}var eR=Ri,pI=class extends eR{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Ru(this._hostTNode,this._hostLView)}get injector(){return new go(this._hostTNode,this._hostLView)}get parentInjector(){let e=wm(this._hostTNode,this._hostLView);if(d_(e)){let t=au(e,this._hostLView),r=su(e),o=t[pe].data[r+8];return new go(o,t)}else return new go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=nx(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(e,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=ex(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(t||{},i,s);return this.insertImpl(l,o,Jw(this._hostTNode,s)),l}createComponent(e,t,r,o,i){let s=e&&!hA(e),l;if(s)l=t;else{let D=t||{};l=D.index,r=D.injector,o=D.projectableNodes,i=D.environmentInjector||D.ngModuleRef}let c=s?e:new Ti(Vr(e)),u=r||this.parentInjector;if(!i&&c.ngModule==null){let M=(s?u:this.parentInjector).get(Tt,null);M&&(i=M)}let f=Vr(c.componentType??{}),p=ex(this._lContainer,f?.id??null),g=p?.firstChild??null,v=c.create(u,o,g,i);return this.insertImpl(v.hostView,l,Jw(this._hostTNode,p)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let o=e._lView;if(yA(o)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let c=o[St],u=new pI(c,c[gn],c[St]);u.detach(u.indexOf(e))}}let i=this._adjustIndex(t),s=this._lContainer;return EM(s,o,i,r),e.attachToViewContainerRef(),_x(up(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=nx(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Vp(this._lContainer,t);r&&(Xc(up(this._lContainer),t),L_(r[pe],r))}detach(e){let t=this._adjustIndex(e,-1),r=Vp(this._lContainer,t);return r&&Xc(up(this._lContainer),t)!=null?new _o(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function nx(n){return n[nu]}function up(n){return n[nu]||(n[nu]=[])}function tR(n,e){let t,r=e[n.index];return lr(r)?t=r:(t=nI(r,e,null,n),e[n.index]=t,Vu(e,t)),rR(t,e,n,r),new pI(t,n,e)}function nR(n,e){let t=n[Ye],r=t.createComment(""),o=en(e,n),i=B_(t,o);return hu(t,i,r,Lk(t,o),!1),r}var rR=sR,oR=()=>!1;function iR(n,e,t){return oR(n,e,t)}function sR(n,e,t,r){if(n[bo])return;let o;t.type&8?o=kn(r):o=nR(e,t),n[bo]=o}var rx=new Set;function Co(n){rx.has(n)||(rx.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function aR(n){return typeof n=="function"&&n[Jn]!==void 0}function Pi(n,e){Co("NgSignals");let t=nw(n),r=t[Jn];return e?.equal&&(r.equal=e.equal),t.set=o=>Vf(r,o),t.update=o=>rw(r,o),t.asReadonly=lR.bind(t),t}function lR(){let n=this[Jn];if(n.readonlyFn===void 0){let e=()=>this();e[Jn]=n,n.readonlyFn=e}return n.readonlyFn}function mI(n){return aR(n)&&typeof n.set=="function"}function cR(n){return Object.getPrototypeOf(n.prototype).constructor}function Ut(n){let e=cR(n.type),t=!0,r=[n];for(;e;){let o;if(Lr(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new K(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);let s=n;s.inputs=$c(n.inputs),s.inputTransforms=$c(n.inputTransforms),s.declaredInputs=$c(n.declaredInputs),s.outputs=$c(n.outputs);let l=o.hostBindings;l&&pR(n,l);let c=o.viewQuery,u=o.contentQueries;if(c&&hR(n,c),u&&fR(n,u),uR(n,o),vS(n.outputs,o.outputs),Lr(o)&&o.data.animation){let f=n.data;f.animation=(f.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let l=i[s];l&&l.ngInherit&&l(n),l===Ut&&(t=!1)}}e=Object.getPrototypeOf(e)}dR(r)}function uR(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let o=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(o))continue;n.inputTransforms??={},n.inputTransforms[o]=e.inputTransforms[o]}}}function dR(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=ha(o.hostAttrs,t=ha(t,o.hostAttrs))}}function $c(n){return n===bi?{}:n===Yt?[]:n}function hR(n,e){let t=n.viewQuery;t?n.viewQuery=(r,o)=>{e(r,o),t(r,o)}:n.viewQuery=e}function fR(n,e){let t=n.contentQueries;t?n.contentQueries=(r,o,i)=>{e(r,o,i),t(r,o,i)}:n.contentQueries=e}function pR(n,e){let t=n.hostBindings;t?n.hostBindings=(r,o)=>{e(r,o),t(r,o)}:n.hostBindings=e}function Bm(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)&&o[3]&&(t[r]=o[3])}n.inputTransforms=t}var jr=class{},ma=class{};var Gp=class extends jr{constructor(e,t,r,o=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mu(this);let i=Mx(e);this._bootstrapComponents=N_(i.bootstrap),this._r3Injector=w_(e,t,[{provide:jr,useValue:this},{provide:Ci,useValue:this.componentFactoryResolver},...r],Dt(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Wp=class extends ma{constructor(e){super(),this.moduleType=e}create(e){return new Gp(this.moduleType,e,[])}};var gu=class extends jr{constructor(e){super(),this.componentFactoryResolver=new mu(this),this.instance=null;let t=new fa([...e.providers,{provide:jr,useValue:this},{provide:Ci,useValue:this.componentFactoryResolver}],e.parent||hm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ju(n,e,t=null){return new gu({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function gI(n){return Um(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function mR(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function Um(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function bI(n,e,t){return n[e]=t}function gR(n,e){return n[e]}function Ni(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function bR(n){return(n.flags&32)===32}function vR(n,e,t,r,o,i,s,l,c){let u=e.consts,f=Fu(e,n,4,s||null,l||null);J_(e,t,f,iu(u,c)),ym(e,f);let p=f.tView=Nm(2,f,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,f),p.queries=e.queries.embeddedTView(f)),f}function yR(n,e,t,r,o,i,s,l,c,u){let f=t+or,p=e.firstCreatePass?vR(f,e,n,r,o,i,s,l,c):e.data[f];ya(p,!1);let g=wR(e,n,p,t);bm()&&Rm(e,n,g,p),xo(g,n);let v=nI(g,n,g,p);return n[f]=v,Vu(n,v),iR(v,p,n),fm(p)&&Y_(e,n,p),c!=null&&Z_(n,p,u),p}function Ce(n,e,t,r,o,i,s,l){let c=Se(),u=Nt(),f=iu(u.consts,i);return yR(c,u,n,e,t,r,o,f,s,l),Ce}var wR=xR;function xR(n,e,t,r){return vm(!0),e[Ye].createComment("")}var fi=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(fi||{}),vI=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Kp=class n{constructor(){this.ngZone=N(ve),this.scheduler=N(Ei),this.errorHandler=N(ir,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[fi.EarlyRead,fi.Write,fi.MixedReadWrite,fi.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>new n})}},Qp=class{constructor(e,t,r,o){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=o.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function $m(n,e){!e?.injector&&dA($m);let t=e?.injector??N(At);return Dk(t)?(Co("NgAfterNextRender"),IR(n,t,e,!0)):ER}function _R(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function IR(n,e,t,r){let o=e.get(vI);o.impl??=e.get(Kp);let i=t?.phase??fi.MixedReadWrite,s=new Qp(o.impl,_R(n,i),r,e.get(_m));return o.impl.register(s),s}var ER={destroy(){}};function Bu(n,e,t,r){let o=Se(),i=ku();if(Ni(o,i,e)){let s=Nt(),l=Mu();fM(l,o,n,e,t,r)}return Bu}function yI(n,e,t,r){return Ni(n,ku(),t)?e+_u(t)+r:ur}function zc(n,e){return n<<17|e<<2}function Io(n){return n>>17&32767}function CR(n){return(n&2)==2}function DR(n,e){return n&131071|e<<17}function Yp(n){return n|2}function Si(n){return(n&131068)>>2}function dp(n,e){return n&-131069|e<<2}function TR(n){return(n&1)===1}function Zp(n){return n|1}function SR(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,l=Io(s),c=Si(s);n[r]=t;let u=!1,f;if(Array.isArray(t)){let p=t;f=p[1],(f===null||va(p,f)>0)&&(u=!0)}else f=t;if(o)if(c!==0){let g=Io(n[l+1]);n[r+1]=zc(g,l),g!==0&&(n[g+1]=dp(n[g+1],r)),n[l+1]=DR(n[l+1],r)}else n[r+1]=zc(l,0),l!==0&&(n[l+1]=dp(n[l+1],r)),l=r;else n[r+1]=zc(c,0),l===0?l=r:n[c+1]=dp(n[c+1],r),c=r;u&&(n[r+1]=Yp(n[r+1])),ox(n,f,r,!0),ox(n,f,r,!1),AR(e,f,n,r,i),s=zc(l,c),i?e.classBindings=s:e.styleBindings=s}function AR(n,e,t,r,o){let i=o?n.residualClasses:n.residualStyles;i!=null&&typeof e=="string"&&va(i,e)>=0&&(t[r+1]=Zp(t[r+1]))}function ox(n,e,t,r){let o=n[t+1],i=e===null,s=r?Io(o):Si(o),l=!1;for(;s!==0&&(l===!1||i);){let c=n[s],u=n[s+1];kR(c,e)&&(l=!0,n[s+1]=r?Zp(u):Yp(u)),s=r?Io(u):Si(u)}l&&(n[t+1]=r?Yp(o):Zp(o))}function kR(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?va(n,e)>=0:!1}function J(n,e,t){let r=Se(),o=ku();if(Ni(r,o,e)){let i=Nt(),s=Mu();Om(i,s,r,n,e,r[Ye],t,!1)}return J}function ix(n,e,t,r,o){let i=e.inputs,s=o?"class":"style";Fm(n,t,i[s],s,r)}function Uu(n,e){return MR(n,e,null,!0),Uu}function MR(n,e,t,r){let o=Se(),i=Nt(),s=RA(2);if(i.firstUpdatePass&&PR(i,n,s,r),e!==ur&&Ni(o,s,e)){let l=i.data[Mi()];LR(i,l,o,o[Ye],n,o[s+1]=jR(e,t),r,s)}}function RR(n,e){return e>=n.expandoStartIndex}function PR(n,e,t,r){let o=n.data;if(o[t+1]===null){let i=o[Mi()],s=RR(n,t);BR(i,r)&&e===null&&!s&&(e=!1),e=NR(o,i,e,r),SR(o,i,e,t,s,r)}}function NR(n,e,t,r){let o=FA(n),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(t=hp(null,n,e,t,r),t=ga(t,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==o)if(t=hp(o,n,e,t,r),i===null){let c=OR(n,e,r);c!==void 0&&Array.isArray(c)&&(c=hp(null,n,e,c[1],r),c=ga(c,e.attrs,r),FR(n,e,r,c))}else i=VR(n,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),t}function OR(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Si(r)!==0)return n[Io(r)]}function FR(n,e,t,r){let o=t?e.classBindings:e.styleBindings;n[Io(o)]=r}function VR(n,e,t){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=n[i].hostAttrs;r=ga(r,s,t)}return ga(r,e.attrs,t)}function hp(n,e,t,r,o){let i=null,s=t.directiveEnd,l=t.directiveStylingLast;for(l===-1?l=t.directiveStart:l++;l<s&&(i=e[l],r=ga(r,i.hostAttrs,o),i!==n);)l++;return n!==null&&(t.directiveStylingLast=l),r}function ga(n,e,t){let r=t?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),LS(n,s,t?!0:e[++i]))}return n===void 0?null:n}function LR(n,e,t,r,o,i,s,l){if(!(e.type&3))return;let c=n.data,u=c[l+1],f=TR(u)?sx(c,e,t,o,Si(u),s):void 0;if(!bu(f)){bu(i)||CR(u)&&(i=sx(c,null,t,o,l,s));let p=Gx(Mi(),t);qk(r,s,p,o,i)}}function sx(n,e,t,r,o,i){let s=e===null,l;for(;o>0;){let c=n[o],u=Array.isArray(c),f=u?c[1]:c,p=f===null,g=t[o+1];g===ur&&(g=p?Yt:void 0);let v=p?np(g,r):f===r?g:void 0;if(u&&!bu(v)&&(v=np(c,r)),bu(v)&&(l=v,s))return l;let D=n[o+1];o=s?Io(D):Si(D)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(l=np(c,r))}return l}function bu(n){return n!==void 0}function jR(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Dt(wa(n)))),n}function BR(n,e){return(n.flags&(e?8:16))!==0}function UR(n,e,t,r,o,i){let s=e.consts,l=iu(s,o),c=Fu(e,n,2,r,l);return J_(e,t,c,iu(s,i)),c.attrs!==null&&Hp(c,c.attrs,!1),c.mergedAttrs!==null&&Hp(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function A(n,e,t,r){let o=Se(),i=Nt(),s=or+n,l=o[Ye],c=i.firstCreatePass?UR(s,i,o,e,t,r):i.data[s],u=$R(i,o,c,l,e,n);o[s]=u;let f=fm(c);return ya(c,!0),z_(l,u,c),!bR(c)&&bm()&&Rm(i,o,u,c),_A()===0&&xo(u,o),IA(),f&&(Y_(i,o,c),Q_(i,c,o)),r!==null&&Z_(o,c),A}function k(){let n=Mt();e_()?AA():(n=n.parent,ya(n,!1));let e=n;DA(e)&&TA(),EA();let t=Nt();return t.firstCreatePass&&(ym(t,n),Ux(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&zA(e)&&ix(t,e,Se(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&HA(e)&&ix(t,e,Se(),e.stylesWithoutHost,!1),k}function Y(n,e,t,r){return A(n,e,t,r),k(),Y}var $R=(n,e,t,r,o,i)=>(vm(!0),O_(r,o,jA()));function $t(){return Se()}var vu="en-US";var zR=vu;function HR(n){typeof n=="string"&&(zR=n.toLowerCase().replace(/_/g,"-"))}var qR=(n,e,t)=>{};function xe(n,e,t,r){let o=Se(),i=Nt(),s=Mt();return wI(i,o,o[Ye],s,n,e,r),xe}function GR(n,e,t,r){let o=n.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===t&&o[i+1]===r){let l=e[tu],c=o[i+2];return l.length>c?l[c]:null}typeof s=="string"&&(i+=2)}return null}function wI(n,e,t,r,o,i,s){let l=fm(r),u=n.firstCreatePass&&vM(n),f=e[pn],p=bM(e),g=!0;if(r.type&3||s){let M=en(r,e),T=s?s(M):M,F=p.length,G=s?ee=>s(kn(ee[r.index])):r.index,V=null;if(!s&&l&&(V=GR(n,e,o,r.index)),V!==null){let ee=V.__ngLastListenerFn__||V;ee.__ngNextListenerFn__=i,V.__ngLastListenerFn__=i,g=!1}else{i=lx(r,e,f,i),qR(M,o,i);let ee=t.listen(T,o,i);p.push(i,ee),u&&u.push(o,G,F,F+1)}}else i=lx(r,e,f,i);let v=r.outputs,D;if(g&&v!==null&&(D=v[o])){let M=D.length;if(M)for(let T=0;T<M;T+=2){let F=D[T],G=D[T+1],ge=e[F][G].subscribe(i),re=p.length;p.push(i,ge),u&&u.push(o,r.index,re,-(re+1))}}}function ax(n,e,t,r){let o=we(null);try{return Cn(6,e,t),t(r)!==!1}catch(i){return oI(n,i),!1}finally{Cn(7,e,t),we(o)}}function lx(n,e,t,r){return function o(i){if(i===Function)return r;let s=n.componentOffset>-1?Br(n.index,e):e;Lm(s,5);let l=ax(e,t,r,i),c=o.__ngNextListenerFn__;for(;c;)l=ax(e,t,c,i)&&l,c=c.__ngNextListenerFn__;return l}}function Me(n=1){return LA(n)}function xa(n,e,t){return xI(n,"",e,"",t),xa}function xI(n,e,t,r,o){let i=Se(),s=yI(i,e,t,r);if(s!==ur){let l=Nt(),c=Mu();Om(l,c,i,n,s,i[Ye],o,!1)}return xI}function _I(n){let e=kA();return vA(e,or+n)}function R(n,e=""){let t=Se(),r=Nt(),o=n+or,i=r.firstCreatePass?Fu(r,o,1,e,null):r.data[o],s=WR(r,t,i,e,n);t[o]=s,bm()&&Rm(r,t,s,i),ya(i,!1)}var WR=(n,e,t,r,o)=>(vm(!0),Sk(e[Ye],r));function Rt(n){return nn("",n,""),Rt}function nn(n,e,t){let r=Se(),o=yI(r,n,e,t);return o!==ur&&yM(r,Mi(),o),nn}function _a(n,e,t){mI(e)&&(e=e());let r=Se(),o=ku();if(Ni(r,o,e)){let i=Nt(),s=Mu();Om(i,s,r,n,e,r[Ye],t,!1)}return _a}function $u(n,e){let t=mI(n);return t&&n.set(e),t}function Ia(n,e){let t=Se(),r=Nt(),o=Mt();return wI(r,t,t[Ye],o,n,e),Ia}function KR(n,e,t){let r=Nt();if(r.firstCreatePass){let o=Lr(n);Xp(t,r.data,r.blueprint,o,!0),Xp(e,r.data,r.blueprint,o,!1)}}function Xp(n,e,t,r,o){if(n=Ct(n),Array.isArray(n))for(let i=0;i<n.length;i++)Xp(n[i],e,t,r,o);else{let i=Nt(),s=Se(),l=Mt(),c=yi(n)?n:Ct(n.provide),u=Vx(n),f=l.providerIndexes&1048575,p=l.directiveStart,g=l.providerIndexes>>20;if(yi(n)||!n.multi){let v=new wo(u,o,j),D=pp(c,e,o?f:f+g,p);D===-1?(Ap(lu(l,s),i,c),fp(i,n,e.length),e.push(c),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=1048576),t.push(v),s.push(v)):(t[D]=v,s[D]=v)}else{let v=pp(c,e,f+g,p),D=pp(c,e,f,f+g),M=v>=0&&t[v],T=D>=0&&t[D];if(o&&!T||!o&&!M){Ap(lu(l,s),i,c);let F=ZR(o?YR:QR,t.length,o,r,u);!o&&T&&(t[D].providerFactory=F),fp(i,n,e.length,0),e.push(c),l.directiveStart++,l.directiveEnd++,o&&(l.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=II(t[o?D:v],u,!o&&r);fp(i,n,v>-1?v:D,F)}!o&&r&&T&&t[D].componentProviders++}}}function fp(n,e,t,r){let o=yi(e),i=oA(e);if(o||i){let c=(i?Ct(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){let f=u.indexOf(t);f===-1?u.push(t,[r,c]):u[f+1].push(r,c)}else u.push(t,c)}}}function II(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function pp(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function QR(n,e,t,r){return Jp(this.multi,[])}function YR(n,e,t,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,l=Ii(t,t[pe],this.providerFactory.index,r);i=l.slice(0,s),Jp(o,i);for(let c=s;c<l.length;c++)i.push(l[c])}else i=[],Jp(o,i);return i}function Jp(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function ZR(n,e,t,r,o){let i=new wo(n,t,j);return i.multi=[],i.index=e,i.componentProviders=0,II(i,o,r&&!t),i}function dr(n,e=[]){return t=>{t.providersResolver=(r,o)=>KR(r,o?o(n):n,e)}}var XR=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Nx(!1,t.type),o=r.length>0?ju([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=z({token:n,providedIn:"environment",factory:()=>new n(U(Tt))})}}return n})();function Be(n){Co("NgStandalone"),n.getStandaloneInjector=e=>e.get(XR).getOrCreateStandaloneInjector(n)}function zu(n,e,t){let r=n_()+n,o=Se();return o[r]===ur?bI(o,r,t?e.call(t):e()):gR(o,r)}function Oi(n,e,t,r){return eP(Se(),n_(),n,e,t,r)}function JR(n,e){let t=n[e];return t===ur?void 0:t}function eP(n,e,t,r,o,i){let s=e+t;return Ni(n,s,o)?bI(n,s+1,i?r.call(i,o):r(o)):JR(n,s+1)}function EI(n,e){return dI(n,e)}var sr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Hu=new sr("18.2.5");var qu=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var CI=new H("");function Do(n){return!!n&&typeof n.then=="function"}function DI(n){return!!n&&typeof n.subscribe=="function"}var Gu=new H(""),TI=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=N(Gu,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=o();if(Do(i))t.push(i);else if(DI(i)){let s=new Promise((l,c)=>{i.subscribe({complete:l,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ea=new H("");function tP(){tw(()=>{throw new K(600,!1)})}function nP(n){return n.isBoundToModule}var rP=10;function oP(n,e,t){try{let r=t();return Do(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var zr=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(uk),this.afterRenderManager=N(vI),this.zonelessEnabled=N(jm),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Fe,this.afterTick=new Fe,this.componentTypes=[],this.components=[],this.isStable=N($r).hasPendingTasks.pipe(X(t=>!t)),this._injector=N(Tt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let o=t instanceof pu;if(!this._injector.get(TI).done){let g=!o&&kx(t),v=!1;throw new K(405,v)}let s;o?s=t:s=this._injector.get(Ci).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let l=nP(s)?void 0:this._injector.get(jr),c=r||s.selector,u=s.create(At.NULL,[],c,l),f=u.location.nativeElement,p=u.injector.get(CI,null);return p?.registerApplication(f),u.onDestroy(()=>{this.detachView(u.hostView),Kc(this.components,u),p?.unregisterApplication(f)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new K(101,!1);let t=we(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,we(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Di,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<rP;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:o,notifyErrorHandler:i}of this._views)iP(o,i,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Su(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Kc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Ea,[]);[...this._bootstrapListeners,...r].forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Kc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new K(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Kc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function iP(n,e,t,r){if(!t&&!Su(n))return;aI(n,e,t&&!r?0:1)}var em=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Wu=(()=>{class n{compileModuleSync(t){return new Wp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),o=Mx(t),i=N_(o.declarations).reduce((s,l)=>{let c=Vr(l);return c&&s.push(new Ti(c)),s},[]);return new em(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var sP=(()=>{class n{constructor(){this.zone=N(ve),this.changeDetectionScheduler=N(Ei),this.applicationRef=N(zr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),aP=new H("",{factory:()=>!1});function SI({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ve(be($({},kI()),{scheduleInRootZone:t})),[{provide:ve,useFactory:n},{provide:vi,multi:!0,useFactory:()=>{let r=N(sP,{optional:!0});return()=>r.initialize()}},{provide:vi,multi:!0,useFactory:()=>{let r=N(lP);return()=>{r.initialize()}}},e===!0?{provide:hI,useValue:!0}:[],{provide:fI,useValue:t??x_}]}function AI(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=SI({ngZoneFactory:()=>{let o=kI(n);return o.scheduleInRootZone=t,o.shouldCoalesceEventChangeDetection&&Co("NgZone_CoalesceEvent"),new ve(o)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Rn([{provide:aP,useValue:!0},{provide:jm,useValue:!1},r])}function kI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var lP=(()=>{class n{constructor(){this.subscription=new He,this.initialized=!1,this.zone=N(ve),this.pendingTasks=N($r)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ve.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ve.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var cP=(()=>{class n{constructor(){this.appRef=N(zr),this.taskService=N($r),this.ngZone=N(ve),this.zonelessEnabled=N(jm),this.disableScheduling=N(hI,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new He,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(uu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(fI,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Np||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Hw:__;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(uu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Hw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function uP(){return typeof $localize<"u"&&$localize.locale||vu}var zm=new H("",{providedIn:"root",factory:()=>N(zm,ue.Optional|ue.SkipSelf)||uP()});var MI=new H("");function Hc(n){return!!n.platformInjector}function dP(n){let e=Hc(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ve);return t.run(()=>{Hc(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(ir,null),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:i=>{r.handleError(i)}})}),Hc(n)){let i=()=>e.destroy(),s=n.platformInjector.get(MI);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else n.moduleRef.onDestroy(()=>{Kc(n.allPlatformModules,n.moduleRef),o.unsubscribe()});return oP(r,t,()=>{let i=e.get(TI);return i.runInitializers(),i.donePromise.then(()=>{let s=e.get(zm,vu);if(HR(s||vu),Hc(n)){let l=e.get(zr);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return hP(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function hP(n,e){let t=n.injector.get(zr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new K(-403,!1);e.push(n)}var Qc=null;function fP(n=[],e){return At.create({name:e,providers:[{provide:Cu,useValue:"platform"},{provide:MI,useValue:new Set([()=>Qc=null])},...n]})}function pP(n=[]){if(Qc)return Qc;let e=fP(n);return Qc=e,tP(),mP(e),e}function mP(n){n.get(Dm,null)?.forEach(t=>t())}function Hm(){return!1}var To=(()=>{class n{static{this.__NG_ELEMENT_ID__=gP}}return n})();function gP(n){return bP(Mt(),Se(),(n&16)===16)}function bP(n,e,t){if(Tu(n)&&!t){let r=Br(n.index,e);return new _o(r,r)}else if(n.type&175){let r=e[An];return new _o(r,e)}return null}var tm=class{constructor(){}supports(e){return gI(e)}create(e){return new nm(e)}},vP=(n,e)=>e,nm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||vP}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){let s=!r||t&&t.currentIndex<cx(r,o,i)?t:r,l=cx(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)o++;else{i||(i=[]);let u=l-o,f=c-o;if(u!=f){for(let g=0;g<u;g++){let v=g<i.length?i[g]:i[g]=0,D=v+g;f<=D&&D<u&&(i[g]=v+1)}let p=s.previousIndex;i[p]=f-u}}l!==c&&e(s,l,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!gI(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,o,i,s;if(Array.isArray(e)){this.length=e.length;for(let l=0;l<this.length;l++)i=e[l],s=this._trackByFn(l,i),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,i,s,l),r=!0):(r&&(t=this._verifyReinsertion(t,i,s,l)),Object.is(t.item,i)||this._addIdentityChange(t,i)),t=t._next}else o=0,mR(e,l=>{s=this._trackByFn(o,l),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,l,s,o),r=!0):(r&&(t=this._verifyReinsertion(t,l,s,o)),Object.is(t.item,l)||this._addIdentityChange(t,l)),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new rm(t,r),i,o)),e}_verifyReinsertion(e,t,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let o=t===null?this._itHead:t._next;return e._next=o,e._prev=t,o===null?this._itTail=e:o._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new yu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new yu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},rm=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},om=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},yu=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new om,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,o=this.map.get(r);return o?o.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function cx(n,e,t){let r=n.previousIndex;if(r===null)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}var im=class{constructor(){}supports(e){return e instanceof Map||Um(e)}create(){return new sm}},sm=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||Um(e)))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,o)=>{if(t&&t.key===o)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let i=this._getOrCreateRecordForKey(o,r);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let o=this._records.get(e);this._maybeAddToChanges(o,t);let i=o._prev,s=o._next;return i&&(i._next=s),s&&(s._prev=i),o._next=null,o._prev=null,o}let r=new am(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},am=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function ux(){return new qm([new tm])}var qm=(()=>{class n{static{this.\u0275prov=z({token:n,providedIn:"root",factory:ux})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ux()),deps:[[n,new Eu,new kt]]}}find(t){let r=this.factories.find(o=>o.supports(t));if(r!=null)return r;throw new K(901,!1)}}return n})();function dx(){return new Gm([new im])}var Gm=(()=>{class n{static{this.\u0275prov=z({token:n,providedIn:"root",factory:dx})}constructor(t){this.factories=t}static create(t,r){if(r){let o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||dx()),deps:[[n,new Eu,new kt]]}}find(t){let r=this.factories.find(o=>o.supports(t));if(r)return r;throw new K(901,!1)}}return n})();function RI(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,o=pP(r),i=[SI({}),{provide:Ei,useExisting:cP},...t||[]],s=new gu({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return dP({r3Injector:s.injector,platformInjector:o,rootComponent:e})}catch(e){return Promise.reject(e)}}var PI=new H("");function So(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function Fi(n,e){Co("NgSignals");let t=X0(n);return e?.equal&&(t[Jn].equal=e.equal),t}function Pn(n){let e=we(null);try{return n()}finally{we(e)}}function NI(n){let e=Vr(n);if(!e)return null;let t=new Ti(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var BI=null;function fr(){return BI}function UI(n){BI??=n}var Ku=class{};var lt=new H(""),Xm=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>N(wP),providedIn:"platform"})}}return n})(),$I=new H(""),wP=(()=>{class n extends Xm{constructor(){super(),this._doc=N(lt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return fr().getBaseHref(this._doc)}onPopState(t){let r=fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=fr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Jm(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function OI(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function hr(n){return n&&n[0]!=="?"?"?"+n:n}var pr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>N(eg),providedIn:"root"})}}return n})(),zI=new H(""),eg=(()=>{class n extends pr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(lt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Jm(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+hr(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+hr(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+hr(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(U(Xm),U(zI,8))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),HI=(()=>{class n extends pr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Jm(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+hr(i));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+hr(i));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(U(Xm),U(zI,8))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),Li=(()=>{class n{constructor(t){this._subject=new Re,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=IP(OI(FI(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+hr(r))}normalize(t){return n.stripTrailingSlash(_P(this._basePath,FI(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hr(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+hr(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}static{this.normalizeQueryParams=hr}static{this.joinWithSlash=Jm}static{this.stripTrailingSlash=OI}static{this.\u0275fac=function(r){return new(r||n)(U(pr))}}static{this.\u0275prov=z({token:n,factory:()=>xP(),providedIn:"root"})}}return n})();function xP(){return new Li(U(pr))}function _P(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function FI(n){return n.replace(/\/index.html$/,"")}function IP(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function Qu(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var Wm=/\s+/,VI=[],Yu=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=VI,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Wm):VI}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Wm):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let o=this.stateMap.get(t);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Wm).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static{this.\u0275fac=function(r){return new(r||n)(j(tn),j(bn))}}static{this.\u0275dir=je({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Km=class{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Nn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new Km(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let l=r.get(i);r.move(l,s),LI(l,o)}});for(let o=0,i=r.length;o<i;o++){let l=r.get(o).context;l.index=o,l.count=i,l.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);LI(i,o)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(j(Ri),j(Lu),j(qm))}}static{this.\u0275dir=je({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function LI(n,e){n.context.$implicit=e.item}var Ot=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Qm,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){jI("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){jI("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(j(Ri),j(Lu))}}static{this.\u0275dir=je({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Qm=class{constructor(){this.$implicit=null,this.ngIf=null}};function jI(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Dt(e)}'.`)}var qI=(()=>{class n{constructor(t,r,o){this._ngEl=t,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[o,i]=t.split("."),s=o.indexOf("-")===-1?void 0:Mn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,i?`${r}${i}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,o,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(j(tn),j(Gm),j(bn))}}static{this.\u0275dir=je({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})();var et=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({})}}return n})(),tg="browser",EP="server";function CP(n){return n===tg}function ji(n){return n===EP}var GI=(()=>{class n{static{this.\u0275prov=z({token:n,providedIn:"root",factory:()=>CP(N(gt))?new Ym(N(lt),window):new Zm})}}return n})(),Ym=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=DP(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}};function DP(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}var Zm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Vi=class{};var Da=class{},Xu=class{},mr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let o=t.slice(0,r),i=o.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let o=(e.op==="a"?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":let i=e.value;if(!i)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(l=>i.indexOf(l)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(i=>i.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var rg=class{encodeKey(e){return WI(e)}encodeValue(e){return WI(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function TP(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,l]=i==-1?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],c=t.get(s)||[];c.push(l),t.set(s,c)}),t}var SP=/%(\d[a-f0-9])/gi,AP={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function WI(n){return encodeURIComponent(n).replace(SP,(e,t)=>AP[t]??e)}function Zu(n){return`${n}`}var qr=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new rg,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=TP(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],o=Array.isArray(r)?r.map(Zu):[Zu(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Zu(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],o=r.indexOf(Zu(e.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var og=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function kP(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function KI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function QI(n){return typeof Blob<"u"&&n instanceof Blob}function YI(n){return typeof FormData<"u"&&n instanceof FormData}function MP(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ca=class n{constructor(e,t,r,o){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let i;if(kP(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new mr,this.context??=new og,!this.params)this.params=new qr,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let l=t.indexOf("?"),c=l===-1?"?":l<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||KI(this.body)||QI(this.body)||YI(this.body)||MP(this.body)?this.body:this.body instanceof qr?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||YI(this.body)?null:QI(this.body)?this.body.type||null:KI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof qr?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,l=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,f=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,v)=>g.set(v,e.setHeaders[v]),u)),e.setParams&&(f=Object.keys(e.setParams).reduce((g,v)=>g.set(v,e.setParams[v]),f)),new n(t,r,s,{params:f,headers:u,context:p,reportProgress:c,responseType:o,withCredentials:l,transferCache:i})}},Gr=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Gr||{}),Ta=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new mr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ju=class n extends Ta{constructor(e={}){super(e),this.type=Gr.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Sa=class n extends Ta{constructor(e={}){super(e),this.type=Gr.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Hr=class extends Ta{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},eE=200,RP=204;function ng(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Aa=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof Ca)i=t;else{let c;o.headers instanceof mr?c=o.headers:c=new mr(o.headers);let u;o.params&&(o.params instanceof qr?u=o.params:u=new qr({fromObject:o.params})),i=new Ca(t,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=Z(i).pipe(nr(c=>this.handler.handle(c)));if(t instanceof Ca||o.observe==="events")return s;let l=s.pipe(at(c=>c instanceof Sa));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return l.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return l.pipe(X(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return l.pipe(X(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return l.pipe(X(c=>c.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new qr().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,ng(o,r))}post(t,r,o={}){return this.request("POST",t,ng(o,r))}put(t,r,o={}){return this.request("PUT",t,ng(o,r))}static{this.\u0275fac=function(r){return new(r||n)(U(Da))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),PP=/^\)\]\}',?\n/,NP="X-Request-URL";function ZI(n){if(n.url)return n.url;let e=NP.toLocaleLowerCase();return n.headers.get(e)}var OP=(()=>{class n{constructor(){this.fetchImpl=N(ig,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=N(ve)}handle(t){return new ae(r=>{let o=new AbortController;return this.doRequest(t,o.signal,r).then(sg,i=>r.error(new Hr({error:i}))),()=>o.abort()})}doRequest(t,r,o){return B(this,null,function*(){let i=this.createRequestInit(t),s;try{let v=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,$({signal:r},i)));FP(v),o.next({type:Gr.Sent}),s=yield v}catch(v){o.error(new Hr({error:v,status:v.status??0,statusText:v.statusText,url:t.urlWithParams,headers:v.headers}));return}let l=new mr(s.headers),c=s.statusText,u=ZI(s)??t.urlWithParams,f=s.status,p=null;if(t.reportProgress&&o.next(new Ju({headers:l,status:f,statusText:c,url:u})),s.body){let v=s.headers.get("content-length"),D=[],M=s.body.getReader(),T=0,F,G,V=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>B(this,null,function*(){for(;;){let{done:ge,value:re}=yield M.read();if(ge)break;if(D.push(re),T+=re.length,t.reportProgress){G=t.responseType==="text"?(G??"")+(F??=new TextDecoder).decode(re,{stream:!0}):void 0;let x=()=>o.next({type:Gr.DownloadProgress,total:v?+v:void 0,loaded:T,partialText:G});V?V.run(x):x()}}}));let ee=this.concatChunks(D,T);try{let ge=s.headers.get("Content-Type")??"";p=this.parseBody(t,ee,ge)}catch(ge){o.error(new Hr({error:ge,headers:new mr(s.headers),status:s.status,statusText:s.statusText,url:ZI(s)??t.urlWithParams}));return}}f===0&&(f=p?eE:0),f>=200&&f<300?(o.next(new Sa({body:p,headers:l,status:f,statusText:c,url:u})),o.complete()):o.error(new Hr({error:p,headers:l,status:f,statusText:c,url:u}))})}parseBody(t,r,o){switch(t.responseType){case"json":let i=new TextDecoder().decode(r).replace(PP,"");return i===""?null:JSON.parse(i);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},o=t.withCredentials?"include":void 0;if(t.headers.forEach((i,s)=>r[i]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let i=t.detectContentTypeHeader();i!==null&&(r["Content-Type"]=i)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:o}}concatChunks(t,r){let o=new Uint8Array(r),i=0;for(let s of t)o.set(s,i),i+=s.length;return o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),ig=class{};function sg(){}function FP(n){n.then(sg,sg)}function VP(n,e){return e(n)}function LP(n,e,t){return(r,o)=>Jt(t,()=>e(r,i=>n(i,o)))}var tE=new H(""),nE=new H(""),jP=new H(""),BP=new H("",{providedIn:"root",factory:()=>!0});var XI=(()=>{class n extends Da{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=N($r),this.contributeToStability=N(BP)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(nE),...this.injector.get(jP,[])]));this.chain=r.reduceRight((o,i)=>LP(o,i,this.injector),VP)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(mo(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(U(Xu),U(Tt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();var UP=/^\)\]\}',?\n/;function $P(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var JI=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new K(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ee(r.\u0275loadImpl()):Z(null)).pipe(Ve(()=>new ae(i=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,T)=>s.setRequestHeader(M,T.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let M=t.detectContentTypeHeader();M!==null&&s.setRequestHeader("Content-Type",M)}if(t.responseType){let M=t.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let l=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let M=s.statusText||"OK",T=new mr(s.getAllResponseHeaders()),F=$P(s)||t.url;return c=new Ju({headers:T,status:s.status,statusText:M,url:F}),c},f=()=>{let{headers:M,status:T,statusText:F,url:G}=u(),V=null;T!==RP&&(V=typeof s.response>"u"?s.responseText:s.response),T===0&&(T=V?eE:0);let ee=T>=200&&T<300;if(t.responseType==="json"&&typeof V=="string"){let ge=V;V=V.replace(UP,"");try{V=V!==""?JSON.parse(V):null}catch(re){V=ge,ee&&(ee=!1,V={error:re,text:V})}}ee?(i.next(new Sa({body:V,headers:M,status:T,statusText:F,url:G||void 0})),i.complete()):i.error(new Hr({error:V,headers:M,status:T,statusText:F,url:G||void 0}))},p=M=>{let{url:T}=u(),F=new Hr({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:T||void 0});i.error(F)},g=!1,v=M=>{g||(i.next(u()),g=!0);let T={type:Gr.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(T.total=M.total),t.responseType==="text"&&s.responseText&&(T.partialText=s.responseText),i.next(T)},D=M=>{let T={type:Gr.UploadProgress,loaded:M.loaded};M.lengthComputable&&(T.total=M.total),i.next(T)};return s.addEventListener("load",f),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),l!==null&&s.upload&&s.upload.addEventListener("progress",D)),s.send(l),i.next({type:Gr.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",f),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),l!==null&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(U(Vi))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),rE=new H(""),zP="XSRF-TOKEN",HP=new H("",{providedIn:"root",factory:()=>zP}),qP="X-XSRF-TOKEN",GP=new H("",{providedIn:"root",factory:()=>qP}),ed=class{},WP=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Qu(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(U(lt),U(gt),U(HP))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function KP(n,e){let t=n.url.toLowerCase();if(!N(rE)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=N(ed).getToken(),o=N(GP);return r!=null&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}function oE(...n){let e=[Aa,JI,XI,{provide:Da,useExisting:XI},{provide:Xu,useFactory:()=>N(OP,{optional:!0})??N(JI)},{provide:nE,useValue:KP,multi:!0},{provide:rE,useValue:!0},{provide:ed,useClass:WP}];for(let t of n)e.push(...t.\u0275providers);return Rn(e)}var cg=class extends Ku{constructor(){super(...arguments),this.supportsDOMEvents=!0}},ug=class n extends cg{static makeCurrent(){UI(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=QP();return t==null?null:YP(t)}resetBaseElement(){ka=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Qu(document.cookie,e)}},ka=null;function QP(){return ka=ka||document.querySelector("base"),ka?ka.getAttribute("href"):null}function YP(n){return new URL(n,document.baseURI).pathname}var ZP=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),td=new H(""),cE=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new K(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(U(td),U(ve))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),Ma=class{constructor(e){this._doc=e}},ag="ng-app-id",uE=(()=>{class n{constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ji(i),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${ag}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){let o=this.styleRef;if(o.has(t)){let i=o.get(t);return i.usage+=r,i.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let o=this.styleNodesInDOM,i=o?.get(r);if(i?.parentNode===t)return o.delete(r),i.removeAttribute(ag),i;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(ag,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let o=this.getStyleElement(t,r),i=this.styleRef,s=i.get(r)?.elements;s?s.push(o):i.set(r,{elements:[o],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(U(lt),U(Cm),U(Tm,8),U(gt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),lg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},hg=/%COMP%/g,dE="%COMP%",XP=`_nghost-${dE}`,JP=`_ngcontent-${dE}`,eN=!0,tN=new H("",{providedIn:"root",factory:()=>eN});function nN(n){return JP.replace(hg,n)}function rN(n){return XP.replace(hg,n)}function hE(n,e){return e.map(t=>t.replace(hg,n))}var sE=(()=>{class n{constructor(t,r,o,i,s,l,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=l,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=ji(l),this.defaultRenderer=new Ra(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Tn.ShadowDom&&(r=be($({},r),{encapsulation:Tn.Emulated}));let o=this.getOrCreateRenderer(t,r);return o instanceof nd?o.applyToHost(t):o instanceof Pa&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,l=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,f=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case Tn.Emulated:i=new nd(c,u,r,this.appId,f,s,l,p);break;case Tn.ShadowDom:return new dg(c,u,t,r,s,l,this.nonce,p);default:i=new Pa(c,u,r,f,s,l,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(U(cE),U(uE),U(Cm),U(tN),U(lt),U(gt),U(ve),U(Tm))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),Ra=class{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(lg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(aE(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(aE(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new K(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;let i=lg[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let o=lg[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(Mn.DashCase|Mn.Important)?e.style.setProperty(t,r,o&Mn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Mn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=fr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function aE(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var dg=class extends Ra{constructor(e,t,r,o,i,s,l,c){super(e,i,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=hE(o.id,o.styles);for(let f of u){let p=document.createElement("style");l&&p.setAttribute("nonce",l),p.textContent=f,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Pa=class extends Ra{constructor(e,t,r,o,i,s,l,c){super(e,i,s,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.styles=c?hE(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},nd=class extends Pa{constructor(e,t,r,o,i,s,l,c){let u=o+"-"+r.id;super(e,t,r,i,s,l,c,u),this.contentAttr=nN(u),this.hostAttr=rN(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},oN=(()=>{class n extends Ma{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||n)(U(lt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),iN=(()=>{class n extends Ma{constructor(t){super(t),this.delegate=N(PI,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,r,o){return this.delegate.addEventListener(t,r,o)}removeEventListener(t,r,o){return this.delegate.removeEventListener(t,r,o)}static{this.\u0275fac=function(r){return new(r||n)(U(lt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})(),lE=["alt","control","meta","shift"],sN={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},aN={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},lN=(()=>{class n extends Ma{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,o){let i=n.parseEventName(r),s=n.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>fr().onAndCancel(t,i.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=n._normalizeKey(r.pop()),s="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),s="code."),lE.forEach(u=>{let f=r.indexOf(u);f>-1&&(r.splice(f,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let o=sN[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),lE.forEach(s=>{if(s!==o){let l=aN[s];l(t)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(U(lt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function fE(n,e){return RI($({rootComponent:n},cN(e)))}function cN(n){return{appProviders:[...pN,...n?.providers??[]],platformProviders:fN}}function uN(){ug.makeCurrent()}function dN(){return new ir}function hN(){return A_(document),document}var fN=[{provide:gt,useValue:tg},{provide:Dm,useValue:uN,multi:!0},{provide:lt,useFactory:hN,deps:[]}];var pN=[{provide:Cu,useValue:"root"},{provide:ir,useFactory:dN,deps:[]},{provide:td,useClass:oN,multi:!0,deps:[lt,ve,gt]},{provide:td,useClass:lN,multi:!0,deps:[lt]},{provide:td,useClass:iN,multi:!0},sE,uE,cE,{provide:Di,useExisting:sE},{provide:Vi,useClass:ZP,deps:[]},[]];var pE=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(U(lt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ce="primary",Ka=Symbol("RouteTitle"),bg=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function qi(n){return new bg(n)}function gN(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],l=n[i];if(s[0]===":")o[s.substring(1)]=l;else if(s!==l.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function bN(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Fn(n[t],e[t]))return!1;return!0}function Fn(n,e){let t=n?vg(n):void 0,r=e?vg(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!CE(n[o],e[o]))return!1;return!0}function vg(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function CE(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}else return n===e}function DE(n){return n.length>0?n[n.length-1]:null}function Kr(n){return Qf(n)?n:Do(n)?Ee(Promise.resolve(n)):Z(n)}var vN={exact:SE,subset:AE},TE={exact:yN,subset:wN,ignored:()=>!0};function mE(n,e,t){return vN[t.paths](n.root,e.root,t.matrixParams)&&TE[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function yN(n,e){return Fn(n,e)}function SE(n,e,t){if(!ko(n.segments,e.segments)||!id(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!SE(n.children[r],e.children[r],t))return!1;return!0}function wN(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>CE(n[t],e[t]))}function AE(n,e,t){return kE(n,e,e.segments,t)}function kE(n,e,t,r){if(n.segments.length>t.length){let o=n.segments.slice(0,t.length);return!(!ko(o,t)||e.hasChildren()||!id(o,t,r))}else if(n.segments.length===t.length){if(!ko(n.segments,t)||!id(n.segments,t,r))return!1;for(let o in e.children)if(!n.children[o]||!AE(n.children[o],e.children[o],r))return!1;return!0}else{let o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!ko(n.segments,o)||!id(n.segments,o,r)||!n.children[ce]?!1:kE(n.children[ce],e,i,r)}}function id(n,e,t){return e.every((r,o)=>TE[t](n[o].parameters,r.parameters))}var br=class{constructor(e=new De([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=qi(this.queryParams),this._queryParamMap}toString(){return IN.serialize(this)}},De=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sd(this)}},Ao=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=qi(this.parameters),this._parameterMap}toString(){return RE(this)}};function xN(n,e){return ko(n,e)&&n.every((t,r)=>Fn(t.parameters,e[r].parameters))}function ko(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function _N(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===ce&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==ce&&(t=t.concat(e(o,r)))}),t}var Qa=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>new Gi,providedIn:"root"})}}return n})(),Gi=class{parse(e){let t=new wg(e);return new br(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Na(e.root,!0)}`,r=DN(e.queryParams),o=typeof e.fragment=="string"?`#${EN(e.fragment)}`:"";return`${t}${r}${o}`}},IN=new Gi;function sd(n){return n.segments.map(e=>RE(e)).join("/")}function Na(n,e){if(!n.hasChildren())return sd(n);if(e){let t=n.children[ce]?Na(n.children[ce],!1):"",r=[];return Object.entries(n.children).forEach(([o,i])=>{o!==ce&&r.push(`${o}:${Na(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=_N(n,(r,o)=>o===ce?[Na(n.children[ce],!1)]:[`${o}:${Na(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ce]!=null?`${sd(n)}/${t[0]}`:`${sd(n)}/(${t.join("//")})`}}function ME(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function rd(n){return ME(n).replace(/%3B/gi,";")}function EN(n){return encodeURI(n)}function yg(n){return ME(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ad(n){return decodeURIComponent(n)}function gE(n){return ad(n.replace(/\+/g,"%20"))}function RE(n){return`${yg(n.path)}${CN(n.parameters)}`}function CN(n){return Object.entries(n).map(([e,t])=>`;${yg(e)}=${yg(t)}`).join("")}function DN(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(o=>`${rd(t)}=${rd(o)}`).join("&"):`${rd(t)}=${rd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var TN=/^[^\/()?;#]+/;function fg(n){let e=n.match(TN);return e?e[0]:""}var SN=/^[^\/()?;=#]+/;function AN(n){let e=n.match(SN);return e?e[0]:""}var kN=/^[^=?&#]+/;function MN(n){let e=n.match(kN);return e?e[0]:""}var RN=/^[^&#]+/;function PN(n){let e=n.match(RN);return e?e[0]:""}var wg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ce]=new De(e,t)),r}parseSegment(){let e=fg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new Ao(ad(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=AN(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=fg(this.remaining);o&&(r=o,this.capture(r))}e[ad(t)]=ad(r)}parseQueryParam(e){let t=MN(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=PN(this.remaining);s&&(r=s,this.capture(r))}let o=gE(t),i=gE(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=fg(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new K(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=ce);let s=this.parseChildren();t[i]=Object.keys(s).length===1?s[ce]:new De([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}};function PE(n){return n.segments.length>0?new De([],{[ce]:n}):n}function NE(n){let e={};for(let[r,o]of Object.entries(n.children)){let i=NE(o);if(r===ce&&i.segments.length===0&&i.hasChildren())for(let[s,l]of Object.entries(i.children))e[s]=l;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let t=new De(n.segments,e);return NN(t)}function NN(n){if(n.numberOfChildren===1&&n.children[ce]){let e=n.children[ce];return new De(n.segments.concat(e.segments),e.children)}return n}function Mo(n){return n instanceof br}function ON(n,e,t=null,r=null){let o=OE(n);return FE(o,e,t,r)}function OE(n){let e;function t(i){let s={};for(let c of i.children){let u=t(c);s[c.outlet]=u}let l=new De(i.url,s);return i===n&&(e=l),l}let r=t(n.root),o=PE(r);return e??o}function FE(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return pg(o,o,o,t,r);let i=FN(e);if(i.toRoot())return pg(o,o,new De([],{}),t,r);let s=VN(i,o,n),l=s.processChildren?Va(s.segmentGroup,s.index,i.commands):LE(s.segmentGroup,s.index,i.commands);return pg(o,s.segmentGroup,l,t,r)}function ld(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ba(n){return typeof n=="object"&&n!=null&&n.outlets}function pg(n,e,t,r,o){let i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(f=>`${f}`):`${u}`});let s;n===e?s=t:s=VE(n,e,t);let l=PE(NE(s));return new br(l,i,o)}function VE(n,e,t){let r={};return Object.entries(n.children).forEach(([o,i])=>{i===e?r[o]=t:r[o]=VE(i,e,t)}),new De(n.segments,r)}var cd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&ld(r[0]))throw new K(4003,!1);let o=r.find(Ba);if(o&&o!==DE(r))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function FN(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new cd(!0,0,n);let e=0,t=!1,r=n.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let l={};return Object.entries(i.outlets).forEach(([c,u])=>{l[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:l}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((l,c)=>{c==0&&l==="."||(c==0&&l===""?t=!0:l===".."?e++:l!=""&&o.push(l))}),o):[...o,i]},[]);return new cd(t,e,r)}var $i=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function VN(n,e,t){if(n.isAbsolute)return new $i(e,!0,0);if(!t)return new $i(e,!1,NaN);if(t.parent===null)return new $i(t,!0,0);let r=ld(n.commands[0])?0:1,o=t.segments.length-1+r;return LN(t,o,n.numberOfDoubleDots)}function LN(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new K(4005,!1);o=r.segments.length}return new $i(r,!1,o-i)}function jN(n){return Ba(n[0])?n[0].outlets:{[ce]:n}}function LE(n,e,t){if(n??=new De([],{}),n.segments.length===0&&n.hasChildren())return Va(n,e,t);let r=BN(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let i=new De(n.segments.slice(0,r.pathIndex),{});return i.children[ce]=new De(n.segments.slice(r.pathIndex),n.children),Va(i,0,o)}else return r.match&&o.length===0?new De(n.segments,{}):r.match&&!n.hasChildren()?xg(n,e,t):r.match?Va(n,0,o):xg(n,e,t)}function Va(n,e,t){if(t.length===0)return new De(n.segments,{});{let r=jN(t),o={};if(Object.keys(r).some(i=>i!==ce)&&n.children[ce]&&n.numberOfChildren===1&&n.children[ce].segments.length===0){let i=Va(n.children[ce],e,t);return new De(n.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=LE(n.children[i],e,s))}),Object.entries(n.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new De(n.segments,o)}}function BN(n,e,t){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;let s=n.segments[o],l=t[r];if(Ba(l))break;let c=`${l}`,u=r<t.length-1?t[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!vE(c,u,s))return i;r+=2}else{if(!vE(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function xg(n,e,t){let r=n.segments.slice(0,e),o=0;for(;o<t.length;){let i=t[o];if(Ba(i)){let c=UN(i.outlets);return new De(r,c)}if(o===0&&ld(t[0])){let c=n.segments[e];r.push(new Ao(c.path,bE(t[0]))),o++;continue}let s=Ba(i)?i.outlets[ce]:`${i}`,l=o<t.length-1?t[o+1]:null;s&&l&&ld(l)?(r.push(new Ao(s,bE(l))),o+=2):(r.push(new Ao(s,{})),o++)}return new De(r,{})}function UN(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=xg(new De([],{}),0,r))}),e}function bE(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function vE(n,e,t){return n==t.path&&Fn(e,t.parameters)}var La="imperative",ot=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ot||{}),rn=class{constructor(e,t){this.id=e,this.url=t}},Wi=class extends rn{constructor(e,t,r="imperative",o=null){super(e,t),this.type=ot.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},on=class extends rn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=ot.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ht=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ht||{}),ud=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ud||{}),gr=class extends rn{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=ot.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wr=class extends rn{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=ot.NavigationSkipped}},Ua=class extends rn{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=ot.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},dd=class extends rn{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=ot.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_g=class extends rn{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=ot.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ig=class extends rn{constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=ot.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Eg=class extends rn{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=ot.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cg=class extends rn{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=ot.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dg=class{constructor(e){this.route=e,this.type=ot.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Tg=class{constructor(e){this.route=e,this.type=ot.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Sg=class{constructor(e){this.snapshot=e,this.type=ot.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ag=class{constructor(e){this.snapshot=e,this.type=ot.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kg=class{constructor(e){this.snapshot=e,this.type=ot.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mg=class{constructor(e){this.snapshot=e,this.type=ot.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hd=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=ot.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},$a=class{},Ki=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function $N(n,e){return n.providers&&!n._injector&&(n._injector=ju(n.providers,e,`Route: ${n.path}`)),n._injector??e}function vn(n){return n.outlet||ce}function zN(n,e){let t=n.filter(r=>vn(r)===e);return t.push(...n.filter(r=>vn(r)!==e)),t}function Ya(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Rg=class{get injector(){return Ya(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Za(this.rootInjector),this.attachRef=null}},Za=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Rg(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(U(Tt))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),fd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Pg(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Pg(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Ng(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return Ng(e,this._root).map(t=>t.value)}};function Pg(n,e){if(n===e.value)return e;for(let t of e.children){let r=Pg(n,t);if(r)return r}return null}function Ng(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Ng(n,t);if(r.length)return r.unshift(e),r}return[]}var zt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function Ui(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var pd=class extends fd{constructor(e,t){super(e),this.snapshot=t,zg(this,e)}toString(){return this.snapshot.toString()}};function jE(n){let e=HN(n),t=new $e([new Ao("",{})]),r=new $e({}),o=new $e({}),i=new $e({}),s=new $e(""),l=new sn(t,r,i,s,o,ce,n,e.root);return l.snapshot=e.root,new pd(new zt(l,[]),e)}function HN(n){let e={},t={},r={},o="",i=new zi([],e,r,o,t,ce,n,null,{});return new gd("",new zt(i,[]))}var sn=class{constructor(e,t,r,o,i,s,l,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=l,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(X(u=>u[Ka]))??Z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>qi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>qi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function md(n,e,t="emptyOnly"){let r,{routeConfig:o}=n;return e!==null&&(t==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:$($({},e.params),n.params),data:$($({},e.data),n.data),resolve:$($($($({},n.data),e.data),o?.data),n._resolvedData)}:r={params:$({},n.params),data:$({},n.data),resolve:$($({},n.data),n._resolvedData??{})},o&&UE(o)&&(r.resolve[Ka]=o.title),r}var zi=class{get title(){return this.data?.[Ka]}constructor(e,t,r,o,i,s,l,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=l,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=qi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=qi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},gd=class extends fd{constructor(e,t){super(t),this.url=e,zg(this,t)}toString(){return BE(this._root)}};function zg(n,e){e.value._routerState=n,e.children.forEach(t=>zg(n,t))}function BE(n){let e=n.children.length>0?` { ${n.children.map(BE).join(", ")} } `:"";return`${n.value}${e}`}function mg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Fn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Fn(e.params,t.params)||n.paramsSubject.next(t.params),bN(e.url,t.url)||n.urlSubject.next(t.url),Fn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Og(n,e){let t=Fn(n.params,e.params)&&xN(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Og(n.parent,e.parent))}function UE(n){return typeof n.title=="string"||n.title===null}var Hg=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=N(Za),this.location=N(Ri),this.changeDetector=N(To),this.inputBinder=N(wd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;let o=this.location,s=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Fg(t,l,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=je({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[cr]})}}return n})(),Fg=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===sn?this.route:e===Za?this.childContexts:this.parent.get(e,t)}},wd=new H(""),yE=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,o=la([r.queryParams,r.params,r.data]).pipe(Ve(([i,s,l],c)=>(l=$($($({},i),s),l),c===0?Z(l):Promise.resolve(l)))).subscribe(i=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=NI(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:l}of s.inputs)t.activatedComponentRef.setInput(l,i[l])});this.outletDataSubscriptions.set(t,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function qN(n,e,t){let r=za(n,e._root,t?t._root:void 0);return new pd(r,e)}function za(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let o=GN(n,e,t);return new zt(r,o)}else{if(n.shouldAttach(e.value)){let i=n.retrieve(e.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(l=>za(n,l)),s}}let r=WN(e.value),o=e.children.map(i=>za(n,i));return new zt(r,o)}}function GN(n,e,t){return e.children.map(r=>{for(let o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return za(n,r,o);return za(n,r)})}function WN(n){return new sn(new $e(n.url),new $e(n.params),new $e(n.queryParams),new $e(n.fragment),new $e(n.data),n.outlet,n.component,n)}var Ha=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},$E="ngNavigationCancelingError";function bd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Mo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=zE(!1,Ht.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function zE(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[$E]=!0,t.cancellationCode=e,t}function KN(n){return HE(n)&&Mo(n.url)}function HE(n){return!!n&&n[$E]}var QN=(n,e,t,r)=>X(o=>(new Vg(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)),Vg=class{constructor(e,t,r,o,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),mg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let o=Ui(t);e.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){let o=e.value,i=t?t.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Ui(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=Ui(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let o=Ui(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new Mg(i.value.snapshot))}),e.children.length&&this.forwardEvent(new Ag(e.value.snapshot))}activateRoutes(e,t,r){let o=e.value,i=t?t.value:null;if(mg(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let l=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(l.contexts),s.attachRef=l.componentRef,s.route=l.route.value,s.outlet&&s.outlet.attach(l.componentRef,l.route.value),mg(l.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},vd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Hi=class{constructor(e,t){this.component=e,this.route=t}};function YN(n,e,t){let r=n._root,o=e?e._root:null;return Oa(r,o,t,[r.value])}function ZN(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Yi(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!mx(n)?n:e.get(n):r}function Oa(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=Ui(e);return n.children.forEach(s=>{XN(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,l])=>ja(l,t.getContext(s),o)),o}function XN(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=n.value,s=e?e.value:null,l=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=JN(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new vd(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?Oa(n,e,l?l.children:null,r,o):Oa(n,e,t,r,o),c&&l&&l.outlet&&l.outlet.isActivated&&o.canDeactivateChecks.push(new Hi(l.outlet.component,s))}else s&&ja(e,l,o),o.canActivateChecks.push(new vd(r)),i.component?Oa(n,null,l?l.children:null,r,o):Oa(n,null,t,r,o);return o}function JN(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!ko(n.url,e.url);case"pathParamsOrQueryParamsChange":return!ko(n.url,e.url)||!Fn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Og(n,e)||!Fn(n.queryParams,e.queryParams);case"paramsChange":default:return!Og(n,e)}}function ja(n,e,t){let r=Ui(n),o=n.value;Object.entries(r).forEach(([i,s])=>{o.component?e?ja(s,e.children.getContext(i),t):ja(s,null,t):ja(s,e,t)}),o.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new Hi(e.outlet.component,o)):t.canDeactivateChecks.push(new Hi(null,o)):t.canDeactivateChecks.push(new Hi(null,o))}function Xa(n){return typeof n=="function"}function eO(n){return typeof n=="boolean"}function tO(n){return n&&Xa(n.canLoad)}function nO(n){return n&&Xa(n.canActivate)}function rO(n){return n&&Xa(n.canActivateChild)}function oO(n){return n&&Xa(n.canDeactivate)}function iO(n){return n&&Xa(n.canMatch)}function qE(n){return n instanceof tr||n?.name==="EmptyError"}var od=Symbol("INITIAL_VALUE");function Qi(){return Ve(n=>la(n.map(e=>e.pipe(rr(1),Lc(od)))).pipe(X(e=>{for(let t of e)if(t!==!0){if(t===od)return od;if(t===!1||sO(t))return t}return!0}),at(e=>e!==od),rr(1)))}function sO(n){return Mo(n)||n instanceof Ha}function aO(n,e){return Ke(t=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return s.length===0&&i.length===0?Z(be($({},t),{guardsResult:!0})):lO(s,r,o,n).pipe(Ke(l=>l&&eO(l)?cO(r,i,n,e):Z(l)),X(l=>be($({},t),{guardsResult:l})))})}function lO(n,e,t,r){return Ee(n).pipe(Ke(o=>pO(o.component,o.route,t,e,r)),Kt(o=>o!==!0,!0))}function cO(n,e,t,r){return Ee(e).pipe(nr(o=>li(dO(o.route.parent,r),uO(o.route,r),fO(n,o.path,t),hO(n,o.route,t))),Kt(o=>o!==!0,!0))}function uO(n,e){return n!==null&&e&&e(new kg(n)),Z(!0)}function dO(n,e){return n!==null&&e&&e(new Sg(n)),Z(!0)}function hO(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Z(!0);let o=r.map(i=>Nc(()=>{let s=Ya(e)??t,l=Yi(i,s),c=nO(l)?l.canActivate(e,n):Jt(s,()=>l(e,n));return Kr(c).pipe(Kt())}));return Z(o).pipe(Qi())}function fO(n,e,t){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>ZN(s)).filter(s=>s!==null).map(s=>Nc(()=>{let l=s.guards.map(c=>{let u=Ya(s.node)??t,f=Yi(c,u),p=rO(f)?f.canActivateChild(r,n):Jt(u,()=>f(r,n));return Kr(p).pipe(Kt())});return Z(l).pipe(Qi())}));return Z(i).pipe(Qi())}function pO(n,e,t,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return Z(!0);let s=i.map(l=>{let c=Ya(e)??o,u=Yi(l,c),f=oO(u)?u.canDeactivate(n,e,t,r):Jt(c,()=>u(n,e,t,r));return Kr(f).pipe(Kt())});return Z(s).pipe(Qi())}function mO(n,e,t,r){let o=e.canLoad;if(o===void 0||o.length===0)return Z(!0);let i=o.map(s=>{let l=Yi(s,n),c=tO(l)?l.canLoad(e,t):Jt(n,()=>l(e,t));return Kr(c)});return Z(i).pipe(Qi(),GE(r))}function GE(n){return pc(Qe(e=>{if(typeof e!="boolean")throw bd(n,e)}),X(e=>e===!0))}function gO(n,e,t,r){let o=e.canMatch;if(!o||o.length===0)return Z(!0);let i=o.map(s=>{let l=Yi(s,n),c=iO(l)?l.canMatch(e,t):Jt(n,()=>l(e,t));return Kr(c)});return Z(i).pipe(Qi(),GE(r))}var qa=class{constructor(e){this.segmentGroup=e||null}},Ga=class extends Error{constructor(e){super(),this.urlTree=e}};function Bi(n){return ai(new qa(n))}function bO(n){return ai(new K(4e3,!1))}function vO(n){return ai(zE(!1,Ht.GuardRejected))}var Lg=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return Z(r);if(o.numberOfChildren>1||!o.children[ce])return bO(`${e.redirectTo}`);o=o.children[ce]}}applyRedirectCommands(e,t,r,o,i){if(typeof t!="string"){let l=t,{queryParams:c,fragment:u,routeConfig:f,url:p,outlet:g,params:v,data:D,title:M}=o,T=Jt(i,()=>l({params:v,data:D,queryParams:c,fragment:u,routeConfig:f,url:p,outlet:g,title:M}));if(T instanceof br)throw new Ga(T);t=T}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Ga(s);return s}applyRedirectCreateUrlTree(e,t,r,o){let i=this.createSegmentGroup(e,t.root,r,o);return new br(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let l=i.substring(1);r[o]=t[l]}else r[o]=i}),r}createSegmentGroup(e,t,r,o){let i=this.createSegments(e,t.segments,r,o),s={};return Object.entries(t.children).forEach(([l,c])=>{s[l]=this.createSegmentGroup(e,c,r,o)}),new De(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path[0]===":"?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){let o=r[t.path.substring(1)];if(!o)throw new K(4001,!1);return o}findOrReturn(e,t){let r=0;for(let o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}},jg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yO(n,e,t,r,o){let i=WE(n,e,t);return i.matched?(r=$N(e,r),gO(r,e,t,o).pipe(X(s=>s===!0?i:$({},jg)))):Z(i)}function WE(n,e,t){if(e.path==="**")return wO(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?$({},jg):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(e.matcher||gN)(t,n,e);if(!o)return $({},jg);let i={};Object.entries(o.posParams??{}).forEach(([l,c])=>{i[l]=c.path});let s=o.consumed.length>0?$($({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function wO(n){return{matched:!0,parameters:n.length>0?DE(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function wE(n,e,t,r){return t.length>0&&IO(n,t,r)?{segmentGroup:new De(e,_O(r,new De(t,n.children))),slicedSegments:[]}:t.length===0&&EO(n,t,r)?{segmentGroup:new De(n.segments,xO(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new De(n.segments,n.children),slicedSegments:t}}function xO(n,e,t,r){let o={};for(let i of t)if(xd(n,e,i)&&!r[vn(i)]){let s=new De([],{});o[vn(i)]=s}return $($({},r),o)}function _O(n,e){let t={};t[ce]=e;for(let r of n)if(r.path===""&&vn(r)!==ce){let o=new De([],{});t[vn(r)]=o}return t}function IO(n,e,t){return t.some(r=>xd(n,e,r)&&vn(r)!==ce)}function EO(n,e,t){return t.some(r=>xd(n,e,r))}function xd(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function CO(n,e,t){return e.length===0&&!n.children[t]}var Bg=class{};function DO(n,e,t,r,o,i,s="emptyOnly"){return new Ug(n,e,t,r,o,s,i).recognize()}var TO=31,Ug=class{constructor(e,t,r,o,i,s,l){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=l,this.applyRedirects=new Lg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){let e=wE(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:t,rootSnapshot:r})=>{let o=new zt(r,t),i=new gd("",o),s=ON(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(e){let t=new zi([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,t).pipe(X(r=>({children:r,rootSnapshot:t})),Mr(r=>{if(r instanceof Ga)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof qa?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,i):this.processSegment(e,t,r,r.segments,o,!0,i).pipe(X(s=>s instanceof zt?[s]:[]))}processChildren(e,t,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Ee(i).pipe(nr(s=>{let l=r.children[s],c=zN(t,s);return this.processSegmentGroup(e,c,l,s,o)}),Fc((s,l)=>(s.push(...l),s)),Rr(null),Jf(),Ke(s=>{if(s===null)return Bi(r);let l=KE(s);return SO(l),Z(l)}))}processSegment(e,t,r,o,i,s,l){return Ee(t).pipe(nr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,o,i,s,l).pipe(Mr(u=>{if(u instanceof qa)return Z(null);throw u}))),Kt(c=>!!c),Mr(c=>{if(qE(c))return CO(r,o,i)?Z(new Bg):Bi(r);throw c}))}processSegmentAgainstRoute(e,t,r,o,i,s,l,c){return vn(r)!==s&&(s===ce||!xd(o,i,r))?Bi(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,s,c):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,i,s,c):Bi(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s,l){let{matched:c,parameters:u,consumedSegments:f,positionalParamSegments:p,remainingSegments:g}=WE(t,o,i);if(!c)return Bi(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>TO&&(this.allowRedirects=!1));let v=new zi(i,u,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,xE(o),vn(o),o.component??o._loadedComponent??null,o,_E(o)),D=md(v,l,this.paramsInheritanceStrategy);v.params=Object.freeze(D.params),v.data=Object.freeze(D.data);let M=this.applyRedirects.applyRedirectCommands(f,o.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(o,M).pipe(Ke(T=>this.processSegment(e,r,t,T.concat(g),s,!1,l)))}matchSegmentAgainstRoute(e,t,r,o,i,s){let l=yO(t,r,o,e,this.urlSerializer);return r.path==="**"&&(t.children={}),l.pipe(Ve(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(Ve(({routes:u})=>{let f=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:v}=c,D=new zi(g,p,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,xE(r),vn(r),r.component??r._loadedComponent??null,r,_E(r)),M=md(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(M.params),D.data=Object.freeze(M.data);let{segmentGroup:T,slicedSegments:F}=wE(t,g,v,u);if(F.length===0&&T.hasChildren())return this.processChildren(f,u,T,D).pipe(X(V=>new zt(D,V)));if(u.length===0&&F.length===0)return Z(new zt(D,[]));let G=vn(r)===i;return this.processSegment(f,u,T,F,G?ce:i,!0,D).pipe(X(V=>new zt(D,V instanceof zt?[V]:[])))}))):Bi(t)))}getChildConfig(e,t,r){return t.children?Z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Z({routes:t._loadedRoutes,injector:t._loadedInjector}):mO(e,t,r,this.urlSerializer).pipe(Ke(o=>o?this.configLoader.loadChildren(e,t).pipe(Qe(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):vO(t))):Z({routes:[],injector:e})}};function SO(n){n.sort((e,t)=>e.value.outlet===ce?-1:t.value.outlet===ce?1:e.value.outlet.localeCompare(t.value.outlet))}function AO(n){let e=n.value.routeConfig;return e&&e.path===""}function KE(n){let e=[],t=new Set;for(let r of n){if(!AO(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),t.add(o)):e.push(r)}for(let r of t){let o=KE(r.children);e.push(new zt(r.value,o))}return e.filter(r=>!t.has(r))}function xE(n){return n.data||{}}function _E(n){return n.resolve||{}}function kO(n,e,t,r,o,i){return Ke(s=>DO(n,e,t,r,s.extractedUrl,o,i).pipe(X(({state:l,tree:c})=>be($({},s),{targetSnapshot:l,urlAfterRedirects:c}))))}function MO(n,e){return Ke(t=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return Z(t);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of QE(c))s.add(u);let l=0;return Ee(s).pipe(nr(c=>i.has(c)?RO(c,r,n,e):(c.data=md(c,c.parent,n).resolve,Z(void 0))),Qe(()=>l++),ci(1),Ke(c=>l===s.size?Z(t):Et))})}function QE(n){let e=n.children.map(t=>QE(t)).flat();return[n,...e]}function RO(n,e,t,r){let o=n.routeConfig,i=n._resolve;return o?.title!==void 0&&!UE(o)&&(i[Ka]=o.title),PO(i,n,e,r).pipe(X(s=>(n._resolvedData=s,n.data=md(n,n.parent,t).resolve,null)))}function PO(n,e,t,r){let o=vg(n);if(o.length===0)return Z({});let i={};return Ee(o).pipe(Ke(s=>NO(n[s],e,t,r).pipe(Kt(),Qe(l=>{if(l instanceof Ha)throw bd(new Gi,l);i[s]=l}))),ci(1),Xf(i),Mr(s=>qE(s)?Et:ai(s)))}function NO(n,e,t,r){let o=Ya(e)??r,i=Yi(n,o),s=i.resolve?i.resolve(e,t):Jt(o,()=>i(e,t));return Kr(s)}function gg(n){return Ve(e=>{let t=n(e);return t?Ee(t).pipe(X(()=>e)):Z(e)})}var YE=(()=>{class n{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===ce);return r}getResolvedTitleForRoute(t){return t.data[Ka]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>N(OO),providedIn:"root"})}}return n})(),OO=(()=>{class n extends YE{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(U(pE))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Ja=new H("",{providedIn:"root",factory:()=>({})}),FO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=Le({type:n,selectors:[["ng-component"]],standalone:!0,features:[Be],decls:1,vars:0,template:function(r,o){r&1&&Y(0,"router-outlet")},dependencies:[Hg],encapsulation:2})}}return n})();function qg(n){let e=n.children&&n.children.map(qg),t=e?be($({},n),{children:e}):$({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ce&&(t.component=FO),t}var Wa=new H(""),Gg=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(Wu)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Kr(t.loadComponent()).pipe(X(ZE),Qe(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),mo(()=>{this.componentLoaders.delete(t)})),o=new ri(r,()=>new Fe).pipe(ni());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=VO(r,this.compiler,t,this.onLoadEndListener).pipe(mo(()=>{this.childrenLoaders.delete(r)})),s=new ri(i,()=>new Fe).pipe(ni());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function VO(n,e,t,r){return Kr(n.loadChildren()).pipe(X(ZE),Ke(o=>o instanceof ma||Array.isArray(o)?Z(o):Ee(e.compileModuleAsync(o))),X(o=>{r&&r(n);let i,s,l=!1;return Array.isArray(o)?(s=o,l=!0):(i=o.create(t).injector,s=i.get(Wa,[],{optional:!0,self:!0}).flat()),{routes:s.map(qg),injector:i}}))}function LO(n){return n&&typeof n=="object"&&"default"in n}function ZE(n){return LO(n)?n.default:n}var Wg=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>N(jO),providedIn:"root"})}}return n})(),jO=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XE=new H(""),JE=new H("");function BO(n,e,t){let r=n.get(JE),o=n.get(lt);return n.get(ve).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let i,s=new Promise(u=>{i=u}),l=o.startViewTransition(()=>(i(),UO(n))),{onViewTransitionCreated:c}=r;return c&&Jt(n,()=>c({transition:l,from:e,to:t})),s})}function UO(n){return new Promise(e=>{$m({read:()=>setTimeout(e)},{injector:n})})}var $O=new H(""),Kg=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Fe,this.transitionAbortSubject=new Fe,this.configLoader=N(Gg),this.environmentInjector=N(Tt),this.urlSerializer=N(Qa),this.rootContexts=N(Za),this.location=N(Li),this.inputBindingEnabled=N(wd,{optional:!0})!==null,this.titleStrategy=N(YE),this.options=N(Ja,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(Wg),this.createViewTransition=N(XE,{optional:!0}),this.navigationErrorHandler=N($O,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null;let t=o=>this.events.next(new Dg(o)),r=o=>this.events.next(new Tg(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(be($($({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,o){return this.transitions=new $e({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:La,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(at(i=>i.id!==0),X(i=>be($({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ve(i=>{let s=!1,l=!1;return Z(i).pipe(Ve(c=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Ht.SupersededByNewNavigation),Et;this.currentTransition=i,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?be($({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),f=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&f!=="reload"){let p="";return this.events.next(new Wr(c.id,this.urlSerializer.serialize(c.rawUrl),p,ud.IgnoredSameUrlNavigation)),c.resolve(!1),Et}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return Z(c).pipe(Ve(p=>{let g=this.transitions?.getValue();return this.events.next(new Wi(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?Et:Promise.resolve(p)}),kO(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Qe(p=>{i.targetSnapshot=p.targetSnapshot,i.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=be($({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new dd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:g,source:v,restoredState:D,extras:M}=c,T=new Wi(p,this.urlSerializer.serialize(g),v,D);this.events.next(T);let F=jE(this.rootComponentType).snapshot;return this.currentTransition=i=be($({},c),{targetSnapshot:F,urlAfterRedirects:g,extras:be($({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,Z(i)}else{let p="";return this.events.next(new Wr(c.id,this.urlSerializer.serialize(c.extractedUrl),p,ud.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Et}}),Qe(c=>{let u=new _g(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),X(c=>(this.currentTransition=i=be($({},c),{guards:YN(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),i)),aO(this.environmentInjector,c=>this.events.next(c)),Qe(c=>{if(i.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw bd(this.urlSerializer,c.guardsResult);let u=new Ig(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),at(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",Ht.GuardRejected),!1)),gg(c=>{if(c.guards.canActivateChecks.length)return Z(c).pipe(Qe(u=>{let f=new Eg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}),Ve(u=>{let f=!1;return Z(u).pipe(MO(this.paramsInheritanceStrategy,this.environmentInjector),Qe({next:()=>f=!0,complete:()=>{f||this.cancelNavigationTransition(u,"",Ht.NoDataFromResolver)}}))}),Qe(u=>{let f=new Cg(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(f)}))}),gg(c=>{let u=f=>{let p=[];f.routeConfig?.loadComponent&&!f.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(f.routeConfig).pipe(Qe(g=>{f.component=g}),X(()=>{})));for(let g of f.children)p.push(...u(g));return p};return la(u(c.targetSnapshot.root)).pipe(Rr(null),rr(1))}),gg(()=>this.afterPreactivation()),Ve(()=>{let{currentSnapshot:c,targetSnapshot:u}=i,f=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return f?Ee(f).pipe(X(()=>i)):Z(i)}),X(c=>{let u=qN(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=i=be($({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,i}),Qe(()=>{this.events.next(new $a)}),QN(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),rr(1),Qe({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new on(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),tp(this.transitionAbortSubject.pipe(Qe(c=>{throw c}))),mo(()=>{!s&&!l&&this.cancelNavigationTransition(i,"",Ht.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),Mr(c=>{if(l=!0,HE(c))this.events.next(new gr(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode)),KN(c)?this.events.next(new Ki(c.url,c.navigationBehaviorOptions)):i.resolve(!1);else{let u=new Ua(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);try{let f=Jt(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(f instanceof Ha){let{message:p,cancellationCode:g}=bd(this.urlSerializer,f);this.events.next(new gr(i.id,this.urlSerializer.serialize(i.extractedUrl),p,g)),this.events.next(new Ki(f.redirectTo,f.navigationBehaviorOptions))}else{this.events.next(u);let p=t.errorHandler(c);i.resolve(!!p)}}catch(f){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(f)}}return Et}))}))}cancelNavigationTransition(t,r,o){let i=new gr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function zO(n){return n!==La}var HO=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>N(qO),providedIn:"root"})}}return n})(),$g=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},qO=(()=>{class n extends $g{static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=Ur(n)))(o||n)}})()}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:()=>N(GO),providedIn:"root"})}}return n})(),GO=(()=>{class n extends eC{constructor(){super(...arguments),this.location=N(Li),this.urlSerializer=N(Qa),this.options=N(Ja,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(Wg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new br,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jE(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof Wi)this.stateMemento=this.createStateMemento();else if(t instanceof Wr)this.rawUrlTree=r.initialUrl;else if(t instanceof dd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else t instanceof $a?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof gr&&(t.code===Ht.GuardRejected||t.code===Ht.NoDataFromResolver)?this.restoreHistory(r):t instanceof Ua?this.restoreHistory(r,!0):t instanceof on&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let o=t instanceof br?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let i=this.browserPageId,s=$($({},r.extras.state),this.generateNgRouterState(r.id,i));this.location.replaceState(o,"",s)}else{let i=$($({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",i)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.currentUrlTree===t.finalUrl&&i===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=Ur(n)))(o||n)}})()}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Fa=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Fa||{});function tC(n,e){n.events.pipe(at(t=>t instanceof on||t instanceof gr||t instanceof Ua||t instanceof Wr),X(t=>t instanceof on||t instanceof Wr?Fa.COMPLETE:(t instanceof gr?t.code===Ht.Redirect||t.code===Ht.SupersededByNewNavigation:!1)?Fa.REDIRECTING:Fa.FAILED),at(t=>t!==Fa.REDIRECTING),rr(1)).subscribe(()=>{e()})}function WO(n){throw n}var KO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},We=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=N(qu),this.stateManager=N(eC),this.options=N(Ja,{optional:!0})||{},this.pendingTasks=N($r),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(Kg),this.urlSerializer=N(Qa),this.location=N(Li),this.urlHandlingStrategy=N(Wg),this._events=new Fe,this.errorHandler=this.options.errorHandler||WO,this.navigated=!1,this.routeReuseStrategy=N(HO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(Wa,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(wd,{optional:!0}),this.eventsSubscription=new He,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof gr&&r.code!==Ht.Redirect&&r.code!==Ht.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof on)this.navigated=!0;else if(r instanceof Ki){let s=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=$({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||zO(o.source)},s);this.scheduleNavigation(l,La,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}ZO(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),La,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=$({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let l=this.parseUrl(t);this.scheduleNavigation(l,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(qg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:l,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,f=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":f=$($({},this.currentUrlTree.queryParams),i);break;case"preserve":f=this.currentUrlTree.queryParams;break;default:f=i||null}f!==null&&(f=this.removeEmptyProps(f));let p;try{let g=o?o.snapshot:this.routerState.snapshot.root;p=OE(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return FE(p,t,f,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let o=Mo(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,La,null,r)}navigate(t,r={skipLocationChange:!1}){return YO(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=$({},KO):r===!1?o=$({},QO):o=r,Mo(t))return mE(this.currentUrlTree,t,o);let i=this.parseUrl(t);return mE(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let l,c,u;s?(l=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,g)=>{l=p,c=g});let f=this.pendingTasks.add();return tC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(f))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:l,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function YO(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new K(4008,!1)}function ZO(n){return!(n instanceof $a)&&!(n instanceof Ki)}var Qr=(()=>{class n{constructor(t,r,o,i,s,l){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=l,this.href=null,this.onChanges=new Fe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof on&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Mo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,o,i,s){let l=this.urlTree;if(l===null||this.isAnchorElement&&(t!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:R_(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,t,r):o.removeAttribute(i,t)}get urlTree(){return this.routerLinkInput===null?null:Mo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(j(We),j(sn),xm("tabindex"),j(bn),j(tn),j(pr))}}static{this.\u0275dir=je({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&xe("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Bu("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",So],skipLocationChange:[2,"skipLocationChange","skipLocationChange",So],replaceUrl:[2,"replaceUrl","replaceUrl",So],routerLink:"routerLink"},standalone:!0,features:[Bm,cr]})}}return n})();var yd=class{};var XO=(()=>{class n{constructor(t,r,o,i,s){this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(at(t=>t instanceof on),nr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=ju(i.providers,t,`Route: ${i.path}`));let s=i._injector??t,l=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(l,i.children??i._loadedRoutes))}return Ee(o).pipe(kr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(t,r):o=Z(null);let i=o.pipe(Ke(s=>s===null?Z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ee([i,s]).pipe(kr())}else return i})}static{this.\u0275fac=function(r){return new(r||n)(U(We),U(Wu),U(Tt),U(yd),U(Gg))}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nC=new H(""),JO=(()=>{class n{constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wi?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof on?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Wr&&t.code===ud.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof hd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new hd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){q_()}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac})}}return n})();function rC(n,...e){return Rn([{provide:Wa,multi:!0,useValue:n},[],{provide:sn,useFactory:oC,deps:[We]},{provide:Ea,multi:!0,useFactory:iC},e.map(t=>t.\u0275providers)])}function oC(n){return n.routerState.root}function el(n,e){return{\u0275kind:n,\u0275providers:e}}function iC(){let n=N(At);return e=>{let t=n.get(zr);if(e!==t.components[0])return;let r=n.get(We),o=n.get(sC);n.get(Qg)===1&&r.initialNavigation(),n.get(aC,null,ue.Optional)?.setUpPreloading(),n.get(nC,null,ue.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var sC=new H("",{factory:()=>new Fe}),Qg=new H("",{providedIn:"root",factory:()=>1});function e2(){return el(2,[{provide:Qg,useValue:0},{provide:Gu,multi:!0,deps:[At],useFactory:e=>{let t=e.get($I,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let o=e.get(We),i=e.get(sC);tC(o,()=>{r(!0)}),e.get(Kg).afterPreactivation=()=>(r(!0),i.closed?Z(void 0):i),o.initialNavigation()}))}}])}function t2(){return el(3,[{provide:Gu,multi:!0,useFactory:()=>{let e=N(We);return()=>{e.setUpLocationChangeListener()}}},{provide:Qg,useValue:2}])}var aC=new H("");function n2(n){return el(0,[{provide:aC,useExisting:XO},{provide:yd,useExisting:n}])}function r2(){return el(8,[yE,{provide:wd,useExisting:yE}])}function o2(n){let e=[{provide:XE,useValue:BO},{provide:JE,useValue:$({skipNextTransition:!!n?.skipInitialTransition},n)}];return el(9,e)}var IE=new H("ROUTER_FORROOT_GUARD"),i2=[Li,{provide:Qa,useClass:Gi},We,Za,{provide:sn,useFactory:oC,deps:[We]},Gg,[]],yn=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[i2,[],{provide:Wa,multi:!0,useValue:t},{provide:IE,useFactory:c2,deps:[[We,new kt,new Eu]]},{provide:Ja,useValue:r||{}},r?.useHash?a2():l2(),s2(),r?.preloadingStrategy?n2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?u2(r):[],r?.bindToComponentInputs?r2().\u0275providers:[],r?.enableViewTransitions?o2().\u0275providers:[],d2()]}}static forChild(t){return{ngModule:n,providers:[{provide:Wa,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(U(IE,8))}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({})}}return n})();function s2(){return{provide:nC,useFactory:()=>{let n=N(GI),e=N(ve),t=N(Ja),r=N(Kg),o=N(Qa);return t.scrollOffset&&n.setOffset(t.scrollOffset),new JO(o,r,n,e,t)}}}function a2(){return{provide:pr,useClass:HI}}function l2(){return{provide:pr,useClass:eg}}function c2(n){return"guarded"}function u2(n){return[n.initialNavigation==="disabled"?t2().\u0275providers:[],n.initialNavigation==="enabledBlocking"?e2().\u0275providers:[]]}var EE=new H("");function d2(){return[{provide:EE,useFactory:iC},{provide:Ea,multi:!0,useExisting:EE}]}var bC=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(j(bn),j(tn))}}static{this.\u0275dir=je({type:n})}}return n})(),kd=(()=>{class n extends bC{static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=Ur(n)))(o||n)}})()}static{this.\u0275dir=je({type:n,features:[Ut]})}}return n})(),ts=new H(""),h2={provide:ts,useExisting:mn(()=>tb),multi:!0},tb=(()=>{class n extends kd{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=Ur(n)))(o||n)}})()}static{this.\u0275dir=je({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){r&1&&xe("change",function(s){return o.onChange(s.target.checked)})("blur",function(){return o.onTouched()})},features:[dr([h2]),Ut]})}}return n})(),f2={provide:ts,useExisting:mn(()=>Vn),multi:!0};function p2(){let n=fr()?fr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var m2=new H(""),Vn=(()=>{class n extends bC{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!p2())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(j(bn),j(tn),j(m2,8))}}static{this.\u0275dir=je({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&xe("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[dr([f2]),Ut]})}}return n})();function Zr(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function vC(n){return n!=null&&typeof n.length=="number"}var Md=new H(""),Rd=new H(""),g2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ft=class{static min(e){return b2(e)}static max(e){return v2(e)}static required(e){return y2(e)}static requiredTrue(e){return w2(e)}static email(e){return x2(e)}static minLength(e){return _2(e)}static maxLength(e){return I2(e)}static pattern(e){return E2(e)}static nullValidator(e){return yC(e)}static compose(e){return CC(e)}static composeAsync(e){return DC(e)}};function b2(n){return e=>{if(Zr(e.value)||Zr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function v2(n){return e=>{if(Zr(e.value)||Zr(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function y2(n){return Zr(n.value)?{required:!0}:null}function w2(n){return n.value===!0?null:{required:!0}}function x2(n){return Zr(n.value)||g2.test(n.value)?null:{email:!0}}function _2(n){return e=>Zr(e.value)||!vC(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function I2(n){return e=>vC(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function E2(n){if(!n)return yC;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Zr(r.value))return null;let o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}function yC(n){return null}function wC(n){return n!=null}function xC(n){return Do(n)?Ee(n):n}function _C(n){let e={};return n.forEach(t=>{e=t!=null?$($({},e),t):e}),Object.keys(e).length===0?null:e}function IC(n,e){return e.map(t=>t(n))}function C2(n){return!n.validate}function EC(n){return n.map(e=>C2(e)?e:t=>e.validate(t))}function CC(n){if(!n)return null;let e=n.filter(wC);return e.length==0?null:function(t){return _C(IC(t,e))}}function nb(n){return n!=null?CC(EC(n)):null}function DC(n){if(!n)return null;let e=n.filter(wC);return e.length==0?null:function(t){let r=IC(t,e).map(xC);return Yf(r).pipe(X(_C))}}function rb(n){return n!=null?DC(EC(n)):null}function lC(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function TC(n){return n._rawValidators}function SC(n){return n._rawAsyncValidators}function Yg(n){return n?Array.isArray(n)?n:[n]:[]}function Id(n,e){return Array.isArray(n)?n.includes(e):n===e}function cC(n,e){let t=Yg(e);return Yg(n).forEach(o=>{Id(t,o)||t.push(o)}),t}function uC(n,e){return Yg(e).filter(t=>!Id(n,t))}var Ed=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rb(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},vr=class extends Ed{get formDirective(){return null}get path(){return null}},Ro=class extends Ed{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Cd=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},D2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},r8=be($({},D2),{"[class.ng-submitted]":"isSubmitted"}),Jr=(()=>{class n extends Cd{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(j(Ro,2))}}static{this.\u0275dir=je({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&Uu("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Ut]})}}return n})(),ns=(()=>{class n extends Cd{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(j(vr,10))}}static{this.\u0275dir=je({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&Uu("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Ut]})}}return n})();var tl="VALID",_d="INVALID",Zi="PENDING",nl="DISABLED",Xr=class{},Dd=class extends Xr{constructor(e,t){super(),this.value=e,this.source=t}},ol=class extends Xr{constructor(e,t){super(),this.pristine=e,this.source=t}},il=class extends Xr{constructor(e,t){super(),this.touched=e,this.source=t}},Xi=class extends Xr{constructor(e,t){super(),this.status=e,this.source=t}},Zg=class extends Xr{constructor(e){super(),this.source=e}},Xg=class extends Xr{constructor(e){super(),this.source=e}};function ob(n){return(Pd(n)?n.validators:n)||null}function T2(n){return Array.isArray(n)?nb(n):n||null}function ib(n,e){return(Pd(e)?e.asyncValidators:n)||null}function S2(n){return Array.isArray(n)?rb(n):n||null}function Pd(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function AC(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new K(1e3,"");if(!r[t])throw new K(1001,"")}function kC(n,e,t){n._forEachChild((r,o)=>{if(t[o]===void 0)throw new K(1002,"")})}var Ji=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Fi(()=>this.statusReactive()),this.statusReactive=Pi(void 0),this._pristine=Fi(()=>this.pristineReactive()),this.pristineReactive=Pi(!0),this._touched=Fi(()=>this.touchedReactive()),this.touchedReactive=Pi(!1),this._events=new Fe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Pn(this.statusReactive)}set status(e){Pn(()=>this.statusReactive.set(e))}get valid(){return this.status===tl}get invalid(){return this.status===_d}get pending(){return this.status==Zi}get disabled(){return this.status===nl}get enabled(){return this.status!==nl}get pristine(){return Pn(this.pristineReactive)}set pristine(e){Pn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Pn(this.touchedReactive)}set touched(e){Pn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(cC(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(cC(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(uC(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(uC(e,this._rawAsyncValidators))}hasValidator(e){return Id(this._rawValidators,e)}hasAsyncValidator(e){return Id(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(be($({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new il(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new il(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(be($({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new ol(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new ol(!0,r))}markAsPending(e={}){this.status=Zi;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Xi(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(be($({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=nl,this.errors=null,this._forEachChild(o=>{o.disable(be($({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dd(this.value,r)),this._events.next(new Xi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be($({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=tl,this._forEachChild(r=>{r.enable(be($({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(be($({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===tl||this.status===Zi)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Dd(this.value,t)),this._events.next(new Xi(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(be($({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?nl:tl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=Zi,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=xC(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Xi(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?nl:this.errors?_d:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Zi)?Zi:this._anyControlsHaveStatus(_d)?_d:tl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),o&&this._events.next(new ol(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new il(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=T2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=S2(this._rawAsyncValidators)}},es=class extends Ji{constructor(e,t,r){super(ob(t),ib(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){kC(this,!0,e),Object.keys(e).forEach(r=>{AC(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Jg=class extends es{};var al=new H("CallSetDisabledState",{providedIn:"root",factory:()=>Nd}),Nd="always";function MC(n,e){return[...e.path,n]}function Td(n,e,t=Nd){sb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),k2(n,e),R2(n,e),M2(n,e),A2(n,e)}function dC(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Ad(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Sd(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function A2(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function sb(n,e){let t=TC(n);e.validator!==null?n.setValidators(lC(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=SC(n);e.asyncValidator!==null?n.setAsyncValidators(lC(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let o=()=>n.updateValueAndValidity();Sd(e._rawValidators,o),Sd(e._rawAsyncValidators,o)}function Ad(n,e){let t=!1;if(n!==null){if(e.validator!==null){let o=TC(n);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==e.validator);i.length!==o.length&&(t=!0,n.setValidators(i))}}if(e.asyncValidator!==null){let o=SC(n);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(t=!0,n.setAsyncValidators(i))}}}let r=()=>{};return Sd(e._rawValidators,r),Sd(e._rawAsyncValidators,r),t}function k2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&RC(n,e)})}function M2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&RC(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function RC(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function R2(n,e){let t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function PC(n,e){n==null,sb(n,e)}function P2(n,e){return Ad(n,e)}function NC(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function N2(n){return Object.getPrototypeOf(n.constructor)===kd}function OC(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function FC(n,e){if(!e)return null;Array.isArray(e);let t,r,o;return e.forEach(i=>{i.constructor===Vn?t=i:N2(i)?r=i:o=i}),o||r||t||null}function O2(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var F2={provide:vr,useExisting:mn(()=>ab)},rl=Promise.resolve(),ab=(()=>{class n extends vr{get submitted(){return Pn(this.submittedReactive)}constructor(t,r,o){super(),this.callSetDisabledState=o,this._submitted=Fi(()=>this.submittedReactive()),this.submittedReactive=Pi(!1),this._directives=new Set,this.ngSubmit=new Re,this.form=new es({},nb(t),rb(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){rl.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Td(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){rl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){rl.then(()=>{let r=this._findContainer(t.path),o=new es({});PC(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){rl.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){rl.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),OC(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(j(Md,10),j(Rd,10),j(al,8))}}static{this.\u0275dir=je({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&xe("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[dr([F2]),Ut]})}}return n})();function hC(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function fC(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var sl=class extends Ji{constructor(e=null,t,r){super(ob(t),ib(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pd(t)&&(t.nonNullable||t.initialValueIsDefault)&&(fC(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){hC(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){hC(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){fC(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var V2=n=>n instanceof sl;var L2={provide:Ro,useExisting:mn(()=>ll)},pC=Promise.resolve(),ll=(()=>{class n extends Ro{constructor(t,r,o,i,s,l){super(),this._changeDetectorRef=s,this.callSetDisabledState=l,this.control=new sl,this._registered=!1,this.name="",this.update=new Re,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=FC(this,i)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),NC(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Td(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){pC.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,o=r!==0&&So(r);pC.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?MC(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(j(vr,9),j(Md,10),j(Rd,10),j(ts,10),j(To,8),j(al,8))}}static{this.\u0275dir=je({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[dr([L2]),Ut,cr]})}}return n})(),rs=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=je({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var VC=new H("");var j2={provide:vr,useExisting:mn(()=>cl)},cl=(()=>{class n extends vr{get submitted(){return Pn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,o){super(),this.callSetDisabledState=o,this._submitted=Fi(()=>this._submittedReactive()),this._submittedReactive=Pi(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Re,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ad(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return Td(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){dC(t.control||null,t,!1),O2(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),OC(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Zg(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Xg(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,o=this.form.get(t.path);r!==o&&(dC(r||null,t),V2(o)&&(Td(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);PC(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&P2(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){sb(this.form,this),this._oldForm&&Ad(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(j(Md,10),j(Rd,10),j(al,8))}}static{this.\u0275dir=je({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&xe("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[dr([j2]),Ut,cr]})}}return n})();var B2={provide:Ro,useExisting:mn(()=>ul)},ul=(()=>{class n extends Ro{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Re,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=FC(this,i)}ngOnChanges(t){this._added||this._setUpControl(),NC(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return MC(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(j(vr,13),j(Md,10),j(Rd,10),j(ts,10),j(VC,8))}}static{this.\u0275dir=je({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[dr([B2]),Ut,cr]})}}return n})(),U2={provide:ts,useExisting:mn(()=>jC),multi:!0};function LC(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function $2(n){return n.split(":")[0]}var jC=(()=>{class n extends kd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),o=LC(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=$2(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=Ur(n)))(o||n)}})()}static{this.\u0275dir=je({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&xe("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[dr([U2]),Ut]})}}return n})(),BC=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(LC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(j(tn),j(bn),j(jC,9))}}static{this.\u0275dir=je({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),z2={provide:ts,useExisting:mn(()=>UC),multi:!0};function mC(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function H2(n){return n.split(":")[0]}var UC=(()=>{class n extends kd{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let o=t.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let l=0;l<s.length;l++){let c=s[l],u=this._getOptionValue(c.value);o.push(u)}}else{let s=r.options;for(let l=0;l<s.length;l++){let c=s[l];if(c.selected){let u=this._getOptionValue(c.value);o.push(u)}}}this.value=o,t(o)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=H2(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=Ur(n)))(o||n)}})()}static{this.\u0275dir=je({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&xe("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[dr([z2]),Ut]})}}return n})(),$C=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(mC(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(mC(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(j(tn),j(bn),j(UC,9))}}static{this.\u0275dir=je({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var zC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({})}}return n})(),eb=class extends Ji{constructor(e,t,r){super(ob(t),ib(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){kC(this,!1,e),e.forEach((r,o)=>{AC(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function gC(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Od=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let o=this._reduceControls(t),i={};return gC(r)?i=r:r!==null&&(i.validators=r.validator,i.asyncValidators=r.asyncValidator),new es(o,i)}record(t,r=null){let o=this._reduceControls(t);return new Jg(o,r)}control(t,r,o){let i={};return this.useNonNullable?(gC(r)?i=r:(i.validators=r,i.asyncValidators=o),new sl(t,be($({},i),{nonNullable:!0}))):new sl(t,r,o)}array(t,r,o){let i=t.map(s=>this._createControl(s));return new eb(i,r,o)}_reduceControls(t){let r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){if(t instanceof sl)return t;if(t instanceof Ji)return t;if(Array.isArray(t)){let r=t[0],o=t.length>1?t[1]:null,i=t.length>2?t[2]:null;return this.control(r,o,i)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Fd=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:al,useValue:t.callSetDisabledState??Nd}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[zC]})}}return n})(),os=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:VC,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:al,useValue:t.callSetDisabledState??Nd}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=mt({type:n})}static{this.\u0275inj=pt({imports:[zC]})}}return n})();var q2="firebase",G2="10.14.1";It(q2,G2,"app");var wn=new sr("ANGULARFIRE2_VERSION");function cb(n,e,t){if(e){if(e.length===1)return e[0];let i=e.filter(s=>s.app===t);if(i.length===1)return i[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var dl=(n,e)=>{let t=e?[e]:rc(),r=[];return t.forEach(o=>{o.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},eo=class{constructor(){return dl(W2)}},W2="app-check";function is(){}var Ld=class{zone;delegate;constructor(e,t=Wf){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let o=this.zone,i=function(s){o.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(i,t,r)}},lb=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",is,{},is,is)),t.pipe(Qe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},No=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Ld(Zone.current)),this.insideAngular=t.run(()=>new Ld(Zone.current,Gf)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(U(ve))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jd(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function K2(n){return jd().ngZone.runOutsideAngular(()=>n())}function Po(n){return jd().ngZone.run(()=>n())}function ub(n){return Q2(jd())(n)}function Q2(n){return function(t){return t=t.lift(new lb(n.ngZone)),t.pipe(Wt(n.outsideAngular),Bt(n.insideAngular))}}var Y2=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Po(()=>n.apply(void 0,r))},xn=(n,e)=>function(){let t,r=arguments;for(let i=0;i<arguments.length;i++)typeof r[i]=="function"&&(e&&(t||=Po(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",is,{},is,is))),r[i]=Y2(r[i],t));let o=K2(()=>n.apply(this,r));if(!e)if(o instanceof ae){let i=jd();return o.pipe(Wt(i.outsideAngular),Bt(i.insideAngular))}else return Po(()=>o);return o instanceof ae?o.pipe(ub):o instanceof Promise?Po(()=>new Promise((i,s)=>o.then(l=>Po(()=>i(l)),l=>Po(()=>s(l))))):typeof o=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),o.apply(this,arguments)}:Po(()=>o)};var Oo=class{constructor(e){return e}},hl=class{constructor(){return rc()}};function X2(n){return n&&n.length===1?n[0]:new Oo(na())}var db=new H("angularfire2._apps"),J2={provide:Oo,useFactory:X2,deps:[[new kt,db]]},eF={provide:hl,deps:[[new kt,db]]};function tF(n){return(e,t)=>{let r=t.get(gt);It("angularfire",wn.full,"core"),It("angularfire",wn.full,"app"),It("angular",Hu.full,r.toString());let o=e.runOutsideAngular(()=>n(t));return new Oo(o)}}function HC(n,...e){return Rn([J2,eF,{provide:db,useFactory:tF(n),multi:!0,deps:[ve,At,No,...e]}])}var nF=new Map,rF={activated:!1,tokenObservers:[]},oF={initialized:!1,enabled:!1};function _n(n){return nF.get(n)||Object.assign({},rF)}function QC(){return oF}var iF="https://content-firebaseappcheck.googleapis.com/v1";var sF="exchangeDebugToken",qC={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},P8=24*60*60*1e3;var fb=class{constructor(e,t,r,o,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=o,o>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return B(this,null,function*(){this.stop();try{this.pending=new Tf,this.pending.promise.catch(t=>{}),yield aF(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Tf,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function aF(n){return new Promise(e=>{setTimeout(e,n)})}var lF={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},to=new $0("appCheck","AppCheck",lF);function YC(n){if(!_n(n).activated)throw to.create("use-before-activation",{appName:n.name})}function ZC(r,o){return B(this,arguments,function*({url:n,body:e},t){let i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(i["X-Firebase-Client"]=v)}let l={method:"POST",body:JSON.stringify(e),headers:i},c;try{c=yield fetch(n,l)}catch(v){throw to.create("fetch-network-error",{originalErrorMessage:v?.message})}if(c.status!==200)throw to.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(v){throw to.create("fetch-parse-error",{originalErrorMessage:v?.message})}let f=u.ttl.match(/^([\d.]+)(s)$/);if(!f||!f[2]||isNaN(Number(f[1])))throw to.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(f[1])*1e3,g=Date.now();return{token:u.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function XC(n,e){let{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${iF}/projects/${t}/apps/${r}:${sF}?key=${o}`,body:{debug_token:e}}}var cF="firebase-app-check-database",uF=1,pb="firebase-app-check-store";var Bd=null;function dF(){return Bd||(Bd=new Promise((n,e)=>{try{let t=indexedDB.open(cF,uF);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(to.create("storage-open",{originalErrorMessage:(o=r.target.error)===null||o===void 0?void 0:o.message}))},t.onupgradeneeded=r=>{let o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(pb,{keyPath:"compositeKey"})}}}catch(t){e(to.create("storage-open",{originalErrorMessage:t?.message}))}}),Bd)}function hF(n,e){return fF(pF(n),e)}function fF(n,e){return B(this,null,function*(){let r=(yield dF()).transaction(pb,"readwrite"),i=r.objectStore(pb).put({compositeKey:n,value:e});return new Promise((s,l)=>{i.onsuccess=c=>{s()},r.onerror=c=>{var u;l(to.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function pF(n){return`${n.options.appId}-${n.name}`}var mb=new nc("@firebase/app-check");function hb(n,e){return Sf()?hF(n,e).catch(t=>{mb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function JC(){return QC().enabled}function eD(){return B(this,null,function*(){let n=QC();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var mF={error:"UNKNOWN_ERROR"};function gF(n){return F0.encodeString(JSON.stringify(n),!1)}function gb(n,e=!1){return B(this,null,function*(){let t=n.app;YC(t);let r=_n(t),o=r.token,i;if(o&&!fl(o)&&(r.token=void 0,o=void 0),!o){let c=yield r.cachedTokenPromise;c&&(fl(c)?o=c:yield hb(t,void 0))}if(!e&&o&&fl(o))return{token:o.token};let s=!1;if(JC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=ZC(XC(t,yield eD()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield hb(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),o=yield _n(t).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?mb.warn(c.message):mb.error(c),i=c}let l;return o?i?fl(o)?l={token:o.token,internalError:i}:l=WC(i):(l={token:o.token},r.token=o,yield hb(t,o)):l=WC(i),s&&wF(t,l),l})}function bF(n){return B(this,null,function*(){let e=n.app;YC(e);let{provider:t}=_n(e);if(JC()){let r=yield eD(),{token:o}=yield ZC(XC(e,r),n.heartbeatServiceProvider);return{token:o}}else{let{token:r}=yield t.getToken();return{token:r}}})}function vF(n,e,t,r){let{app:o}=n,i=_n(o),s={next:t,error:r,type:e};if(i.tokenObservers=[...i.tokenObservers,s],i.token&&fl(i.token)){let l=i.token;Promise.resolve().then(()=>{t({token:l.token}),GC(n)}).catch(()=>{})}i.cachedTokenPromise.then(()=>GC(n))}function tD(n,e){let t=_n(n),r=t.tokenObservers.filter(o=>o.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function GC(n){let{app:e}=n,t=_n(e),r=t.tokenRefresher;r||(r=yF(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function yF(n){let{app:e}=n;return new fb(()=>B(this,null,function*(){let t=_n(e),r;if(t.token?r=yield gb(n,!0):r=yield gb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=_n(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,o=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,o),Math.max(0,r-Date.now())}else return 0},qC.RETRIAL_MIN_WAIT,qC.RETRIAL_MAX_WAIT)}function wF(n,e){let t=_n(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function fl(n){return n.expireTimeMillis-Date.now()>0}function WC(n){return{token:gF(mF),error:n}}var bb=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=_n(this.app);for(let t of e)tD(this.app,t.next);return Promise.resolve()}};function xF(n,e){return new bb(n,e)}function _F(n){return{getToken:e=>gb(n,e),getLimitedUseToken:()=>bF(n),addTokenListener:e=>vF(n,"INTERNAL",e),removeTokenListener:e=>tD(n.app,e)}}var IF="@firebase/app-check",EF="0.8.8";var CF="app-check",KC="app-check-internal";function DF(){ta(new ea(CF,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return xF(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(KC).initialize()})),ta(new ea(KC,n=>{let e=n.getProvider("app-check").getImmediate();return _F(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),It(IF,EF)}DF();var TF=["localhost","0.0.0.0","127.0.0.1"],q8=typeof window<"u"&&TF.includes(window.location.hostname);var AF="firebase",kF="10.14.1";un.registerVersion(AF,kF,"app-compat");var MF=["ngOnDestroy"],rD=(n,e,t,r={})=>new Proxy(n,{get:(o,i)=>t.runOutsideAngular(()=>{if(n[i])return r?.spy?.get&&r.spy.get(i,n[i]),n[i];if(MF.indexOf(i)>-1)return()=>{};let s=e.toPromise().then(l=>{let c=l?.[i];return typeof c=="function"?c.bind(l):c?.then?c.then(u=>t.run(()=>u)):t.run(()=>c)});return new Proxy(()=>{},{get:(l,c)=>s[c],apply:(l,c,u)=>s.then(f=>{let p=f?.(...u);return r?.spy?.apply&&r.spy.apply(i,u,p),p})})})});var Ud=class{constructor(e){return e}},$d=new H("angularfire2.app.options"),zd=new H("angularfire2.app.name");function vb(n,e,t){let r=typeof t=="string"&&t||"[DEFAULT]",o=typeof t=="object"&&t||{};o.name=o.name||r;let s=un.apps.filter(l=>l&&l.name===o.name)[0]||e.runOutsideAngular(()=>un.initializeApp(n,o));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let l=!!module.hot;RF("error",`${s.name} Firebase App already initialized with different options${l?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new Ud(s)}var RF=(n,...e)=>{Hm()&&typeof console<"u"&&console[n](...e)},PF={provide:Ud,useFactory:vb,deps:[$d,ve,[new kt,zd]]},ss=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:$d,useValue:t},{provide:zd,useValue:r}]}}constructor(t){un.registerVersion("angularfire",wn.full,"core"),un.registerVersion("angularfire",wn.full,"app-compat"),un.registerVersion("angular",Hu.full,t.toString())}static \u0275fac=function(r){return new(r||n)(U(gt))};static \u0275mod=mt({type:n});static \u0275inj=pt({providers:[PF]})}return n})();function oD(n,e,t,r,o){let[,i,s]=globalThis.\u0275AngularfireInstanceCache.find(l=>l[0]===n)||[];if(i)return NF(o,s)||(nD("error",`${e} was already initialized on the ${t} Firebase App with different settings.${OF?" You may need to reload as Firebase is not HMR aware.":""}`),nD("warn",{is:o,was:s})),i;{let l=r();return globalThis.\u0275AngularfireInstanceCache.push([n,l,o]),l}}function NF(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var OF=typeof module<"u"&&!!module.hot,nD=(n,...e)=>{Hm()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var FF=new H("angularfire2.auth.use-emulator"),VF=new H("angularfire2.auth.settings"),LF=new H("angularfire2.auth.tenant-id"),jF=new H("angularfire2.auth.langugage-code"),BF=new H("angularfire2.auth.use-device-language"),UF=new H("angularfire.auth.persistence"),$F=(n,e,t,r,o,i,s,l)=>oD(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=o,i&&c.useDeviceLanguage(),s)for(let[u,f]of Object.entries(s))c.settings[u]=f;return l&&c.setPersistence(l),c},[t,r,o,i,s,l]),pl=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,o,i,s,l,c,u,f,p,g,v){let D=new Fe,M=Z(void 0).pipe(Bt(s.outsideAngular),Ve(()=>i.runOutsideAngular(()=>import("./chunk-KXXQRMI5.js"))),X(()=>vb(t,i,r)),X(T=>$F(T,i,l,u,f,p,c,g)),Vc({bufferSize:1,refCount:!1}));if(ji(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Z(null);else{M.pipe(Kt()).subscribe();let T=M.pipe(Ve(V=>V.getRedirectResult().then(ee=>ee,()=>null)),ub,Vc({bufferSize:1,refCount:!1})),F=M.pipe(Ve(V=>new ae(ee=>({unsubscribe:i.runOutsideAngular(()=>V.onAuthStateChanged(ge=>ee.next(ge),ge=>ee.error(ge),()=>ee.complete()))})))),G=M.pipe(Ve(V=>new ae(ee=>({unsubscribe:i.runOutsideAngular(()=>V.onIdTokenChanged(ge=>ee.next(ge),ge=>ee.error(ge),()=>ee.complete()))}))));this.authState=T.pipe(jc(F),Wt(s.outsideAngular),Bt(s.insideAngular)),this.user=T.pipe(jc(G),Wt(s.outsideAngular),Bt(s.insideAngular)),this.idToken=this.user.pipe(Ve(V=>V?Ee(V.getIdToken()):Z(null))),this.idTokenResult=this.user.pipe(Ve(V=>V?Ee(V.getIdTokenResult()):Z(null))),this.credential=Zf(T,D,this.authState.pipe(at(V=>!V))).pipe(X(V=>V?.user?V:null),Wt(s.outsideAngular),Bt(s.insideAngular))}return rD(this,M,i,{spy:{apply:(T,F,G)=>{(T.startsWith("signIn")||T.startsWith("createUser"))&&G.then(V=>D.next(V))}}})}static \u0275fac=function(r){return new(r||n)(U($d),U(zd,8),U(gt),U(ve),U(No),U(FF,8),U(VF,8),U(LF,8),U(jF,8),U(BF,8),U(UF,8),U(eo,8))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),as=(()=>{class n{constructor(){un.registerVersion("angularfire",wn.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=mt({type:n});static \u0275inj=pt({providers:[pl]})}return n})();var bt=class n{constructor(e,t){this.router=e;this.fireBase=t}getToken(){throw new Error("Method not implemented.")}UserId=localStorage.getItem("userid");isLoggedIn=localStorage.getItem("auth")=="true";isAuthBehav=new $e(this.isLoggedIn);isAuthObserv=this.isAuthBehav.asObservable();login(e,t){return this.fireBase.signInWithEmailAndPassword(e,t)}register(e,t){return this.fireBase.createUserWithEmailAndPassword(e,t)}canActivate(e,t){return this.isAuthBehav.getValue()?!0:(this.router.navigate(["auth"]),!1)}isAuthenticated(){return this.isLoggedIn}logout(){this.isLoggedIn=!1}static \u0275fac=function(t){return new(t||n)(U(We),U(pl))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function HF(n,e){n&1&&(A(0,"small"),R(1,"Email is required."),k())}function qF(n,e){n&1&&(A(0,"small"),R(1,"Please enter a valid email address."),k())}function GF(n,e){if(n&1&&(A(0,"div",14),Ce(1,HF,2,0,"small",15)(2,qF,2,0,"small",15),k()),n&2){let t=Me();q(),J("ngIf",t.formControls.email.errors==null?null:t.formControls.email.errors.required),q(),J("ngIf",t.formControls.email.errors==null?null:t.formControls.email.errors.email)}}function WF(n,e){n&1&&(A(0,"div",14)(1,"small"),R(2,"Password is required."),k()())}var Hd=class n{constructor(e,t,r){this.fb=e;this.authService=t;this.router=r;this.loginForm=this.fb.group({email:["",[Ft.required,Ft.email]],password:["",Ft.required]})}loginForm;email="";password="";token;onLogin(){if(this.loginForm.invalid){console.log("Le formulaire est invalide");return}let e=this.loginForm.value.email.trim(),t=this.loginForm.value.password;console.log("Tentative de connexion avec l'email :",e),this.authService.login(e,t).then(r=>{this.router.navigate(["mes-commandes"]),localStorage.setItem("accessToken",r.user.multiFactor.user.accessToken),localStorage.setItem("auth","true"),this.authService.isAuthBehav.next(!0),console.log(`userid : ${r.user.uid}`),localStorage.setItem("userid",r.user.uid),this.authService.UserId=r.user.uid},r=>{console.log("Erreur d\xE9tect\xE9e :",r.message),localStorage.setItem("auth","false"),this.authService.isAuthBehav.next(!1)})}get formControls(){return this.loginForm.controls}static \u0275fac=function(t){return new(t||n)(j(Od),j(bt),j(We))};static \u0275cmp=Le({type:n,selectors:[["app-auth"]],standalone:!0,features:[Be],decls:22,vars:4,consts:[[1,"form-container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"p-4","shadow-sm","rounded-3","bg-light",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label","fw-bold"],["type","email","id","exampleInputEmail1","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","text-danger",4,"ngIf"],["for","exampleInputPassword1",1,"form-label","fw-bold"],["type","password","id","exampleInputPassword1","formControlName","password","placeholder","Enter your password",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],["type","submit",1,"btn","btn-primary","btn-block","w-100",3,"disabled"],[1,"form-text","text-muted","mt-3","text-center"],["routerLink","/register"],[1,"text-danger"],[4,"ngIf"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"form",1),xe("ngSubmit",function(){return r.onLogin()}),A(2,"div",2)(3,"label",3),R(4,"Email address"),k(),Y(5,"input",4),Ce(6,GF,3,2,"div",5),k(),A(7,"div",2)(8,"label",6),R(9,"Password"),k(),Y(10,"input",7),Ce(11,WF,3,0,"div",5),k(),A(12,"div",8),Y(13,"input",9),A(14,"label",10),R(15,"Remember me"),k()(),A(16,"button",11),R(17,"LogIn"),k(),A(18,"div",12),R(19," Don't have an account? "),A(20,"a",13),R(21,"Register"),k()()()()),t&2&&(q(),J("formGroup",r.loginForm),q(5),J("ngIf",r.formControls.email.invalid&&(r.formControls.email.dirty||r.formControls.email.touched)),q(5),J("ngIf",r.formControls.password.invalid&&(r.formControls.password.dirty||r.formControls.password.touched)),q(5),J("disabled",r.loginForm.invalid))},dependencies:[Qr,et,Ot,os,rs,Vn,Jr,ns,cl,ul,yn],styles:[".form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#00ff96cc}form[_ngcontent-%COMP%]{max-width:500px;padding:30px;border-radius:10px;background-color:linear-gradient(45deg,rgba(0,123,255,.8),rgba(0,255,150,.8));box-shadow:0 4px 8px #0000001a}.form-control[_ngcontent-%COMP%]{border:2px solid rgba(0,255,150,.8);border-radius:6px;padding:12px}.form-label[_ngcontent-%COMP%]{font-weight:700;color:#343a40}.btn[_ngcontent-%COMP%]{background-color:#00ff96cc;border-color:#00ff96cc;font-size:1.1rem}.btn[_ngcontent-%COMP%]:hover{background-color:#00ff96cc}.form-text[_ngcontent-%COMP%]{font-size:.85rem;color:#000}"]})};var qd=class{produit;qte;constructor(){}};var cs=class n{constructor(e){this.http=e;this.loadPanier(),this.productCartSubject.next(this.detailProduit)}productCartSubject=new $e([]);detailProduit=[];getAllCartProducts(){return this.productCartSubject.asObservable()}getPanier(){return this.detailProduit}onProductAdded(e){let t=this.detailProduit.find(r=>r.produit.id===e.id);if(t)t.qte++;else{let r=new qd;r.produit=e,r.qte=1,this.detailProduit.push(r)}this.productCartSubject.next(this.detailProduit),this.enregistrerPanier()}loadPanier(){let e=localStorage.getItem("cart");e&&(this.detailProduit=JSON.parse(e),this.productCartSubject.next(this.detailProduit))}enregistrerPanier(){localStorage.setItem("cart",JSON.stringify(this.detailProduit))}incrementQuantity(e){let t=this.detailProduit.find(r=>r.produit.id===e.id);t&&(t.qte++,this.productCartSubject.next(this.detailProduit),this.enregistrerPanier())}decrementQuantity(e){let t=this.detailProduit.find(r=>r.produit.id===e.id);t&&t.qte>0&&(t.qte--,t.qte===0&&this.removeItem(e),this.productCartSubject.next(this.detailProduit),this.enregistrerPanier())}removeItem(e){this.detailProduit=this.detailProduit.filter(t=>t.produit.id!==e.id),this.productCartSubject.next(this.detailProduit),this.enregistrerPanier()}clearCart(){this.detailProduit=[],this.productCartSubject.next(this.detailProduit),localStorage.removeItem("cart")}static \u0275fac=function(t){return new(t||n)(U(Aa))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var K5="auth";var Gd=class{constructor(){return dl(K5)}};var sD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},aD={};var no,yb;(function(){var n;function e(x,b){function w(){}w.prototype=b.prototype,x.D=b.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(_,I,C){for(var y=Array(arguments.length-2),Qn=2;Qn<arguments.length;Qn++)y[Qn-2]=arguments[Qn];return b.prototype[I].apply(_,y)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,w){w||(w=0);var _=Array(16);if(typeof b=="string")for(var I=0;16>I;++I)_[I]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(I=0;16>I;++I)_[I]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=x.g[0],w=x.g[1],I=x.g[2];var C=x.g[3],y=b+(C^w&(I^C))+_[0]+3614090360&4294967295;b=w+(y<<7&4294967295|y>>>25),y=C+(I^b&(w^I))+_[1]+3905402710&4294967295,C=b+(y<<12&4294967295|y>>>20),y=I+(w^C&(b^w))+_[2]+606105819&4294967295,I=C+(y<<17&4294967295|y>>>15),y=w+(b^I&(C^b))+_[3]+3250441966&4294967295,w=I+(y<<22&4294967295|y>>>10),y=b+(C^w&(I^C))+_[4]+4118548399&4294967295,b=w+(y<<7&4294967295|y>>>25),y=C+(I^b&(w^I))+_[5]+1200080426&4294967295,C=b+(y<<12&4294967295|y>>>20),y=I+(w^C&(b^w))+_[6]+2821735955&4294967295,I=C+(y<<17&4294967295|y>>>15),y=w+(b^I&(C^b))+_[7]+4249261313&4294967295,w=I+(y<<22&4294967295|y>>>10),y=b+(C^w&(I^C))+_[8]+1770035416&4294967295,b=w+(y<<7&4294967295|y>>>25),y=C+(I^b&(w^I))+_[9]+2336552879&4294967295,C=b+(y<<12&4294967295|y>>>20),y=I+(w^C&(b^w))+_[10]+4294925233&4294967295,I=C+(y<<17&4294967295|y>>>15),y=w+(b^I&(C^b))+_[11]+2304563134&4294967295,w=I+(y<<22&4294967295|y>>>10),y=b+(C^w&(I^C))+_[12]+1804603682&4294967295,b=w+(y<<7&4294967295|y>>>25),y=C+(I^b&(w^I))+_[13]+4254626195&4294967295,C=b+(y<<12&4294967295|y>>>20),y=I+(w^C&(b^w))+_[14]+2792965006&4294967295,I=C+(y<<17&4294967295|y>>>15),y=w+(b^I&(C^b))+_[15]+1236535329&4294967295,w=I+(y<<22&4294967295|y>>>10),y=b+(I^C&(w^I))+_[1]+4129170786&4294967295,b=w+(y<<5&4294967295|y>>>27),y=C+(w^I&(b^w))+_[6]+3225465664&4294967295,C=b+(y<<9&4294967295|y>>>23),y=I+(b^w&(C^b))+_[11]+643717713&4294967295,I=C+(y<<14&4294967295|y>>>18),y=w+(C^b&(I^C))+_[0]+3921069994&4294967295,w=I+(y<<20&4294967295|y>>>12),y=b+(I^C&(w^I))+_[5]+3593408605&4294967295,b=w+(y<<5&4294967295|y>>>27),y=C+(w^I&(b^w))+_[10]+38016083&4294967295,C=b+(y<<9&4294967295|y>>>23),y=I+(b^w&(C^b))+_[15]+3634488961&4294967295,I=C+(y<<14&4294967295|y>>>18),y=w+(C^b&(I^C))+_[4]+3889429448&4294967295,w=I+(y<<20&4294967295|y>>>12),y=b+(I^C&(w^I))+_[9]+568446438&4294967295,b=w+(y<<5&4294967295|y>>>27),y=C+(w^I&(b^w))+_[14]+3275163606&4294967295,C=b+(y<<9&4294967295|y>>>23),y=I+(b^w&(C^b))+_[3]+4107603335&4294967295,I=C+(y<<14&4294967295|y>>>18),y=w+(C^b&(I^C))+_[8]+1163531501&4294967295,w=I+(y<<20&4294967295|y>>>12),y=b+(I^C&(w^I))+_[13]+2850285829&4294967295,b=w+(y<<5&4294967295|y>>>27),y=C+(w^I&(b^w))+_[2]+4243563512&4294967295,C=b+(y<<9&4294967295|y>>>23),y=I+(b^w&(C^b))+_[7]+1735328473&4294967295,I=C+(y<<14&4294967295|y>>>18),y=w+(C^b&(I^C))+_[12]+2368359562&4294967295,w=I+(y<<20&4294967295|y>>>12),y=b+(w^I^C)+_[5]+4294588738&4294967295,b=w+(y<<4&4294967295|y>>>28),y=C+(b^w^I)+_[8]+2272392833&4294967295,C=b+(y<<11&4294967295|y>>>21),y=I+(C^b^w)+_[11]+1839030562&4294967295,I=C+(y<<16&4294967295|y>>>16),y=w+(I^C^b)+_[14]+4259657740&4294967295,w=I+(y<<23&4294967295|y>>>9),y=b+(w^I^C)+_[1]+2763975236&4294967295,b=w+(y<<4&4294967295|y>>>28),y=C+(b^w^I)+_[4]+1272893353&4294967295,C=b+(y<<11&4294967295|y>>>21),y=I+(C^b^w)+_[7]+4139469664&4294967295,I=C+(y<<16&4294967295|y>>>16),y=w+(I^C^b)+_[10]+3200236656&4294967295,w=I+(y<<23&4294967295|y>>>9),y=b+(w^I^C)+_[13]+681279174&4294967295,b=w+(y<<4&4294967295|y>>>28),y=C+(b^w^I)+_[0]+3936430074&4294967295,C=b+(y<<11&4294967295|y>>>21),y=I+(C^b^w)+_[3]+3572445317&4294967295,I=C+(y<<16&4294967295|y>>>16),y=w+(I^C^b)+_[6]+76029189&4294967295,w=I+(y<<23&4294967295|y>>>9),y=b+(w^I^C)+_[9]+3654602809&4294967295,b=w+(y<<4&4294967295|y>>>28),y=C+(b^w^I)+_[12]+3873151461&4294967295,C=b+(y<<11&4294967295|y>>>21),y=I+(C^b^w)+_[15]+530742520&4294967295,I=C+(y<<16&4294967295|y>>>16),y=w+(I^C^b)+_[2]+3299628645&4294967295,w=I+(y<<23&4294967295|y>>>9),y=b+(I^(w|~C))+_[0]+4096336452&4294967295,b=w+(y<<6&4294967295|y>>>26),y=C+(w^(b|~I))+_[7]+1126891415&4294967295,C=b+(y<<10&4294967295|y>>>22),y=I+(b^(C|~w))+_[14]+2878612391&4294967295,I=C+(y<<15&4294967295|y>>>17),y=w+(C^(I|~b))+_[5]+4237533241&4294967295,w=I+(y<<21&4294967295|y>>>11),y=b+(I^(w|~C))+_[12]+1700485571&4294967295,b=w+(y<<6&4294967295|y>>>26),y=C+(w^(b|~I))+_[3]+2399980690&4294967295,C=b+(y<<10&4294967295|y>>>22),y=I+(b^(C|~w))+_[10]+4293915773&4294967295,I=C+(y<<15&4294967295|y>>>17),y=w+(C^(I|~b))+_[1]+2240044497&4294967295,w=I+(y<<21&4294967295|y>>>11),y=b+(I^(w|~C))+_[8]+1873313359&4294967295,b=w+(y<<6&4294967295|y>>>26),y=C+(w^(b|~I))+_[15]+4264355552&4294967295,C=b+(y<<10&4294967295|y>>>22),y=I+(b^(C|~w))+_[6]+2734768916&4294967295,I=C+(y<<15&4294967295|y>>>17),y=w+(C^(I|~b))+_[13]+1309151649&4294967295,w=I+(y<<21&4294967295|y>>>11),y=b+(I^(w|~C))+_[4]+4149444226&4294967295,b=w+(y<<6&4294967295|y>>>26),y=C+(w^(b|~I))+_[11]+3174756917&4294967295,C=b+(y<<10&4294967295|y>>>22),y=I+(b^(C|~w))+_[2]+718787259&4294967295,I=C+(y<<15&4294967295|y>>>17),y=w+(C^(I|~b))+_[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(I+(y<<21&4294967295|y>>>11))&4294967295,x.g[2]=x.g[2]+I&4294967295,x.g[3]=x.g[3]+C&4294967295}r.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var w=b-this.blockSize,_=this.B,I=this.h,C=0;C<b;){if(I==0)for(;C<=w;)o(this,x,C),C+=this.blockSize;if(typeof x=="string"){for(;C<b;)if(_[I++]=x.charCodeAt(C++),I==this.blockSize){o(this,_),I=0;break}}else for(;C<b;)if(_[I++]=x[C++],I==this.blockSize){o(this,_),I=0;break}}this.h=I,this.o+=b},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var w=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=w&255,w/=256;for(this.u(x),x=Array(16),b=w=0;4>b;++b)for(var _=0;32>_;_+=8)x[w++]=this.g[b]>>>_&255;return x};function i(x,b){var w=l;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=b(x)}function s(x,b){this.h=b;for(var w=[],_=!0,I=x.length-1;0<=I;I--){var C=x[I]|0;_&&C==b||(w[I]=C,_=!1)}this.g=w}var l={};function c(x){return-128<=x&&128>x?i(x,function(b){return new s([b|0],0>b?-1:0)}):new s([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return p;if(0>x)return T(u(-x));for(var b=[],w=1,_=0;x>=w;_++)b[_]=x/w|0,w*=4294967296;return new s(b,0)}function f(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return T(f(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(b,8)),_=p,I=0;I<x.length;I+=8){var C=Math.min(8,x.length-I),y=parseInt(x.substring(I,I+C),b);8>C?(C=u(Math.pow(b,C)),_=_.j(C).add(u(y))):(_=_.j(w),_=_.add(u(y)))}return _}var p=c(0),g=c(1),v=c(16777216);n=s.prototype,n.m=function(){if(M(this))return-T(this).m();for(var x=0,b=1,w=0;w<this.g.length;w++){var _=this.i(w);x+=(0<=_?_:4294967296+_)*b,b*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(D(this))return"0";if(M(this))return"-"+T(this).toString(x);for(var b=u(Math.pow(x,6)),w=this,_="";;){var I=ee(w,b).g;w=F(w,I.j(b));var C=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=I,D(w))return C+_;for(;6>C.length;)C="0"+C;_=C+_}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function D(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function M(x){return x.h==-1}n.l=function(x){return x=F(this,x),M(x)?-1:D(x)?0:1};function T(x){for(var b=x.g.length,w=[],_=0;_<b;_++)w[_]=~x.g[_];return new s(w,~x.h).add(g)}n.abs=function(){return M(this)?T(this):this},n.add=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],_=0,I=0;I<=b;I++){var C=_+(this.i(I)&65535)+(x.i(I)&65535),y=(C>>>16)+(this.i(I)>>>16)+(x.i(I)>>>16);_=y>>>16,C&=65535,y&=65535,w[I]=y<<16|C}return new s(w,w[w.length-1]&-2147483648?-1:0)};function F(x,b){return x.add(T(b))}n.j=function(x){if(D(this)||D(x))return p;if(M(this))return M(x)?T(this).j(T(x)):T(T(this).j(x));if(M(x))return T(this.j(T(x)));if(0>this.l(v)&&0>x.l(v))return u(this.m()*x.m());for(var b=this.g.length+x.g.length,w=[],_=0;_<2*b;_++)w[_]=0;for(_=0;_<this.g.length;_++)for(var I=0;I<x.g.length;I++){var C=this.i(_)>>>16,y=this.i(_)&65535,Qn=x.i(I)>>>16,Os=x.i(I)&65535;w[2*_+2*I]+=y*Os,G(w,2*_+2*I),w[2*_+2*I+1]+=C*Os,G(w,2*_+2*I+1),w[2*_+2*I+1]+=y*Qn,G(w,2*_+2*I+1),w[2*_+2*I+2]+=C*Qn,G(w,2*_+2*I+2)}for(_=0;_<b;_++)w[_]=w[2*_+1]<<16|w[2*_];for(_=b;_<2*b;_++)w[_]=0;return new s(w,0)};function G(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function V(x,b){this.g=x,this.h=b}function ee(x,b){if(D(b))throw Error("division by zero");if(D(x))return new V(p,p);if(M(x))return b=ee(T(x),b),new V(T(b.g),T(b.h));if(M(b))return b=ee(x,T(b)),new V(T(b.g),b.h);if(30<x.g.length){if(M(x)||M(b))throw Error("slowDivide_ only works with positive integers.");for(var w=g,_=b;0>=_.l(x);)w=ge(w),_=ge(_);var I=re(w,1),C=re(_,1);for(_=re(_,2),w=re(w,2);!D(_);){var y=C.add(_);0>=y.l(x)&&(I=I.add(w),C=y),_=re(_,1),w=re(w,1)}return b=F(x,I.j(b)),new V(I,b)}for(I=p;0<=x.l(b);){for(w=Math.max(1,Math.floor(x.m()/b.m())),_=Math.ceil(Math.log(w)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),C=u(w),y=C.j(b);M(y)||0<y.l(x);)w-=_,C=u(w),y=C.j(b);D(C)&&(C=g),I=I.add(C),x=F(x,y)}return new V(I,x)}n.A=function(x){return ee(this,x).h},n.and=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],_=0;_<b;_++)w[_]=this.i(_)&x.i(_);return new s(w,this.h&x.h)},n.or=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],_=0;_<b;_++)w[_]=this.i(_)|x.i(_);return new s(w,this.h|x.h)},n.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],_=0;_<b;_++)w[_]=this.i(_)^x.i(_);return new s(w,this.h^x.h)};function ge(x){for(var b=x.g.length+1,w=[],_=0;_<b;_++)w[_]=x.i(_)<<1|x.i(_-1)>>>31;return new s(w,x.h)}function re(x,b){var w=b>>5;b%=32;for(var _=x.g.length-w,I=[],C=0;C<_;C++)I[C]=0<b?x.i(C+w)>>>b|x.i(C+w+1)<<32-b:x.i(C+w);return new s(I,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yb=aD.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=f,no=aD.Integer=s}).apply(typeof sD<"u"?sD:typeof self<"u"?self:typeof window<"u"?window:{});var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yr={};var wb,Q5,us,xb,ml,Kd,_b,Ib,Eb;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function t(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wd=="object"&&Wd];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=t(this);function o(a,d){if(d)e:{var h=r;a=a.split(".");for(var m=0;m<a.length-1;m++){var E=a[m];if(!(E in h))break e;h=h[E]}a=a[a.length-1],m=h[a],d=d(m),d!=m&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function i(a,d){a instanceof String&&(a+="");var h=0,m=!1,E={next:function(){if(!m&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return m=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}o("Array.prototype.values",function(a){return a||function(){return i(this,function(d,h){return h})}});var s=s||{},l=this||self;function c(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function u(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function p(a,d,h){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,m),a.apply(d,E)}}return function(){return a.apply(d,arguments)}}function g(a,d,h){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function v(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var m=h.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function D(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(m,E,S){for(var L=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)L[Ae-2]=arguments[Ae];return d.prototype[E].apply(m,L)}}function M(a){let d=a.length;if(0<d){let h=Array(d);for(let m=0;m<d;m++)h[m]=a[m];return h}return[]}function T(a,d){for(let h=1;h<arguments.length;h++){let m=arguments[h];if(c(m)){let E=a.length||0,S=m.length||0;a.length=E+S;for(let L=0;L<S;L++)a[E+L]=m[L]}else a.push(m)}}class F{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function G(a){return/^[\s\xa0]*$/.test(a)}function V(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function ee(a){return ee[" "](a),a}ee[" "]=function(){};var ge=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function re(a,d,h){for(let m in a)d.call(h,a[m],m,a)}function x(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function b(a){let d={};for(let h in a)d[h]=a[h];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(a,d){let h,m;for(let E=1;E<arguments.length;E++){m=arguments[E];for(h in m)a[h]=m[h];for(let S=0;S<w.length;S++)h=w[S],Object.prototype.hasOwnProperty.call(m,h)&&(a[h]=m[h])}}function I(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function C(a){l.setTimeout(()=>{throw a},0)}function y(){var a=tf;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class Qn{constructor(){this.h=this.g=null}add(d,h){let m=Os.get();m.set(d,h),this.h?this.h.next=m:this.g=m,this.h=m}}var Os=new F(()=>new uT,a=>a.reset());class uT{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let Fs,Vs=!1,tf=new Qn,Ry=()=>{let a=l.Promise.resolve(void 0);Fs=()=>{a.then(dT)}};var dT=()=>{for(var a;a=y();){try{a.h.call(a.g)}catch(h){C(h)}var d=Os;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}Vs=!1};function Dr(){this.s=this.s,this.C=this.C}Dr.prototype.s=!1,Dr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Dr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var hT=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};l.addEventListener("test",h,d),l.removeEventListener("test",h,d)}catch{}return a}();function Ls(a,d){if(ut.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(ge){e:{try{ee(d.nodeName);var E=!0;break e}catch{}E=!1}E||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:fT[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ls.aa.h.call(this)}}D(Ls,ut);var fT={2:"touch",3:"pen",4:"mouse"};Ls.prototype.h=function(){Ls.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var js="closure_listenable_"+(1e6*Math.random()|0),pT=0;function mT(a,d,h,m,E){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!m,this.ha=E,this.key=++pT,this.da=this.fa=!1}function Ll(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function jl(a){this.src=a,this.g={},this.h=0}jl.prototype.add=function(a,d,h,m,E){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var L=rf(a,d,m,E);return-1<L?(d=a[L],h||(d.fa=!1)):(d=new mT(d,this.src,S,!!m,E),d.fa=h,a.push(d)),d};function nf(a,d){var h=d.type;if(h in a.g){var m=a.g[h],E=Array.prototype.indexOf.call(m,d,void 0),S;(S=0<=E)&&Array.prototype.splice.call(m,E,1),S&&(Ll(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function rf(a,d,h,m){for(var E=0;E<a.length;++E){var S=a[E];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==m)return E}return-1}var of="closure_lm_"+(1e6*Math.random()|0),sf={};function Py(a,d,h,m,E){if(m&&m.once)return Oy(a,d,h,m,E);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Py(a,d[S],h,m,E);return null}return h=uf(h),a&&a[js]?a.K(d,h,u(m)?!!m.capture:!!m,E):Ny(a,d,h,!1,m,E)}function Ny(a,d,h,m,E,S){if(!d)throw Error("Invalid event type");var L=u(E)?!!E.capture:!!E,Ae=lf(a);if(Ae||(a[of]=Ae=new jl(a)),h=Ae.add(d,h,m,L,S),h.proxy)return h;if(m=gT(),h.proxy=m,m.src=a,m.listener=h,a.addEventListener)hT||(E=L),E===void 0&&(E=!1),a.addEventListener(d.toString(),m,E);else if(a.attachEvent)a.attachEvent(Vy(d.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return h}function gT(){function a(h){return d.call(a.src,a.listener,h)}let d=bT;return a}function Oy(a,d,h,m,E){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Oy(a,d[S],h,m,E);return null}return h=uf(h),a&&a[js]?a.L(d,h,u(m)?!!m.capture:!!m,E):Ny(a,d,h,!0,m,E)}function Fy(a,d,h,m,E){if(Array.isArray(d))for(var S=0;S<d.length;S++)Fy(a,d[S],h,m,E);else m=u(m)?!!m.capture:!!m,h=uf(h),a&&a[js]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=rf(S,h,m,E),-1<h&&(Ll(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=lf(a))&&(d=a.g[d.toString()],a=-1,d&&(a=rf(d,h,m,E)),(h=-1<a?d[a]:null)&&af(h))}function af(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[js])nf(d.i,a);else{var h=a.type,m=a.proxy;d.removeEventListener?d.removeEventListener(h,m,a.capture):d.detachEvent?d.detachEvent(Vy(h),m):d.addListener&&d.removeListener&&d.removeListener(m),(h=lf(d))?(nf(h,a),h.h==0&&(h.src=null,d[of]=null)):Ll(a)}}}function Vy(a){return a in sf?sf[a]:sf[a]="on"+a}function bT(a,d){if(a.da)a=!0;else{d=new Ls(d,this);var h=a.listener,m=a.ha||a.src;a.fa&&af(a),a=h.call(m,d)}return a}function lf(a){return a=a[of],a instanceof jl?a:null}var cf="__closure_events_fn_"+(1e9*Math.random()>>>0);function uf(a){return typeof a=="function"?a:(a[cf]||(a[cf]=function(d){return a.handleEvent(d)}),a[cf])}function dt(){Dr.call(this),this.i=new jl(this),this.M=this,this.F=null}D(dt,Dr),dt.prototype[js]=!0,dt.prototype.removeEventListener=function(a,d,h,m){Fy(this,a,d,h,m)};function xt(a,d){var h,m=a.F;if(m)for(h=[];m;m=m.F)h.push(m);if(a=a.M,m=d.type||d,typeof d=="string")d=new ut(d,a);else if(d instanceof ut)d.target=d.target||a;else{var E=d;d=new ut(m,a),_(d,E)}if(E=!0,h)for(var S=h.length-1;0<=S;S--){var L=d.g=h[S];E=Bl(L,m,!0,d)&&E}if(L=d.g=a,E=Bl(L,m,!0,d)&&E,E=Bl(L,m,!1,d)&&E,h)for(S=0;S<h.length;S++)L=d.g=h[S],E=Bl(L,m,!1,d)&&E}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],m=0;m<h.length;m++)Ll(h[m]);delete a.g[d],a.h--}}this.F=null},dt.prototype.K=function(a,d,h,m){return this.i.add(String(a),d,!1,h,m)},dt.prototype.L=function(a,d,h,m){return this.i.add(String(a),d,!0,h,m)};function Bl(a,d,h,m){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var E=!0,S=0;S<d.length;++S){var L=d[S];if(L&&!L.da&&L.capture==h){var Ae=L.listener,st=L.ha||L.src;L.fa&&nf(a.i,L),E=Ae.call(st,m)!==!1&&E}}return E&&!m.defaultPrevented}function Ly(a,d,h){if(typeof a=="function")h&&(a=g(a,h));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function jy(a){a.g=Ly(()=>{a.g=null,a.i&&(a.i=!1,jy(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class vT extends Dr{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:jy(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(a){Dr.call(this),this.h=a,this.g={}}D(Bs,Dr);var By=[];function Uy(a){re(a.g,function(d,h){this.g.hasOwnProperty(h)&&af(d)},a),a.g={}}Bs.prototype.N=function(){Bs.aa.N.call(this),Uy(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var df=l.JSON.stringify,yT=l.JSON.parse,wT=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function hf(){}hf.prototype.h=null;function $y(a){return a.h||(a.h=a.i())}function zy(){}var Us={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ff(){ut.call(this,"d")}D(ff,ut);function pf(){ut.call(this,"c")}D(pf,ut);var ao={},Hy=null;function Ul(){return Hy=Hy||new dt}ao.La="serverreachability";function qy(a){ut.call(this,ao.La,a)}D(qy,ut);function $s(a){let d=Ul();xt(d,new qy(d))}ao.STAT_EVENT="statevent";function Gy(a,d){ut.call(this,ao.STAT_EVENT,a),this.stat=d}D(Gy,ut);function _t(a){let d=Ul();xt(d,new Gy(d,a))}ao.Ma="timingevent";function Wy(a,d){ut.call(this,ao.Ma,a),this.size=d}D(Wy,ut);function zs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function Hs(){this.g=!0}Hs.prototype.xa=function(){this.g=!1};function xT(a,d,h,m,E,S){a.info(function(){if(a.g)if(S)for(var L="",Ae=S.split("&"),st=0;st<Ae.length;st++){var _e=Ae[st].split("=");if(1<_e.length){var ht=_e[0];_e=_e[1];var ft=ht.split("_");L=2<=ft.length&&ft[1]=="type"?L+(ht+"="+_e+"&"):L+(ht+"=redacted&")}}else L=null;else L=S;return"XMLHTTP REQ ("+m+") [attempt "+E+"]: "+d+`
`+h+`
`+L})}function _T(a,d,h,m,E,S,L){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+E+"]: "+d+`
`+h+`
`+S+" "+L})}function Ko(a,d,h,m){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+ET(a,h)+(m?" "+m:"")})}function IT(a,d){a.info(function(){return"TIMEOUT: "+d})}Hs.prototype.info=function(){};function ET(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var m=h[a];if(!(2>m.length)){var E=m[1];if(Array.isArray(E)&&!(1>E.length)){var S=E[0];if(S!="noop"&&S!="stop"&&S!="close")for(var L=1;L<E.length;L++)E[L]=""}}}}return df(h)}catch{return d}}var $l={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ky={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mf;function zl(){}D(zl,hf),zl.prototype.g=function(){return new XMLHttpRequest},zl.prototype.i=function(){return{}},mf=new zl;function Tr(a,d,h,m){this.j=a,this.i=d,this.l=h,this.R=m||1,this.U=new Bs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Qy}function Qy(){this.i=null,this.g="",this.h=!1}var Yy={},gf={};function bf(a,d,h){a.L=1,a.v=Wl(Yn(d)),a.m=h,a.P=!0,Zy(a,null)}function Zy(a,d){a.F=Date.now(),Hl(a),a.A=Yn(a.v);var h=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),d0(h.i,"t",m),a.C=0,h=a.j.J,a.h=new Qy,a.g=A0(a.j,h?d:null,!a.m),0<a.O&&(a.M=new vT(g(a.Y,a,a.g),a.O)),d=a.U,h=a.g,m=a.ca;var E="readystatechange";Array.isArray(E)||(E&&(By[0]=E.toString()),E=By);for(var S=0;S<E.length;S++){var L=Py(h,E[S],m||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=a.H?b(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),$s(),xT(a.i,a.u,a.A,a.l,a.R,a.m)}Tr.prototype.ca=function(a){a=a.target;let d=this.M;d&&Zn(a)==3?d.j():this.Y(a)},Tr.prototype.Y=function(a){try{if(a==this.g)e:{let ft=Zn(this.g);var d=this.g.Ba();let Zo=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||v0(this.g)))){this.J||ft!=4||d==7||(d==8||0>=Zo?$s(3):$s(2)),vf(this);var h=this.g.Z();this.X=h;t:if(Xy(this)){var m=v0(this.g);a="";var E=m.length,S=Zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lo(this),qs(this);var L="";break t}this.h.i=new l.TextDecoder}for(d=0;d<E;d++)this.h.h=!0,a+=this.h.i.decode(m[d],{stream:!(S&&d==E-1)});m.length=0,this.h.g+=a,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=h==200,_T(this.i,this.u,this.A,this.l,this.R,ft,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,st=this.g;if((Ae=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ae)){var _e=Ae;break t}}_e=null}if(h=_e)Ko(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,yf(this,h);else{this.o=!1,this.s=3,_t(12),lo(this),qs(this);break e}}if(this.P){h=!0;let ln;for(;!this.J&&this.C<L.length;)if(ln=CT(this,L),ln==gf){ft==4&&(this.s=4,_t(14),h=!1),Ko(this.i,this.l,null,"[Incomplete Response]");break}else if(ln==Yy){this.s=4,_t(15),Ko(this.i,this.l,L,"[Invalid Chunk]"),h=!1;break}else Ko(this.i,this.l,ln,null),yf(this,ln);if(Xy(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||L.length!=0||this.h.h||(this.s=1,_t(16),h=!1),this.o=this.o&&h,!h)Ko(this.i,this.l,L,"[Invalid Chunked Response]"),lo(this),qs(this);else if(0<L.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),Cf(ht),ht.M=!0,_t(11))}}else Ko(this.i,this.l,L,null),yf(this,L);ft==4&&lo(this),this.o&&!this.J&&(ft==4?C0(this.j,this):(this.o=!1,Hl(this)))}else $T(this.g),h==400&&0<L.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),lo(this),qs(this)}}}catch{}finally{}};function Xy(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function CT(a,d){var h=a.C,m=d.indexOf(`
`,h);return m==-1?gf:(h=Number(d.substring(h,m)),isNaN(h)?Yy:(m+=1,m+h>d.length?gf:(d=d.slice(m,m+h),a.C=m+h,d)))}Tr.prototype.cancel=function(){this.J=!0,lo(this)};function Hl(a){a.S=Date.now()+a.I,Jy(a,a.I)}function Jy(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=zs(g(a.ba,a),d)}function vf(a){a.B&&(l.clearTimeout(a.B),a.B=null)}Tr.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(IT(this.i,this.A),this.L!=2&&($s(),_t(17)),lo(this),this.s=2,qs(this)):Jy(this,this.S-a)};function qs(a){a.j.G==0||a.J||C0(a.j,a)}function lo(a){vf(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Uy(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function yf(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||wf(h.h,a))){if(!a.K&&wf(h.h,a)&&h.G==3){try{var m=h.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var E=m;if(E[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Xl(h),Yl(h);else break e;Ef(h),_t(18)}}else h.za=E[1],0<h.za-h.T&&37500>E[2]&&h.F&&h.v==0&&!h.C&&(h.C=zs(g(h.Za,h),6e3));if(1>=n0(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else uo(h,11)}else if((a.K||h.g==a)&&Xl(h),!G(d))for(E=h.Da.g.parse(d),d=0;d<E.length;d++){let _e=E[d];if(h.T=_e[0],_e=_e[1],h.G==2)if(_e[0]=="c"){h.K=_e[1],h.ia=_e[2];let ht=_e[3];ht!=null&&(h.la=ht,h.j.info("VER="+h.la));let ft=_e[4];ft!=null&&(h.Aa=ft,h.j.info("SVER="+h.Aa));let Zo=_e[5];Zo!=null&&typeof Zo=="number"&&0<Zo&&(m=1.5*Zo,h.L=m,h.j.info("backChannelRequestTimeoutMs_="+m)),m=h;let ln=a.g;if(ln){let ec=ln.g?ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ec){var S=m.h;S.g||ec.indexOf("spdy")==-1&&ec.indexOf("quic")==-1&&ec.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(xf(S,S.h),S.h=null))}if(m.D){let Df=ln.g?ln.g.getResponseHeader("X-HTTP-Session-Id"):null;Df&&(m.ya=Df,Ne(m.I,m.D,Df))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),m=h;var L=a;if(m.qa=S0(m,m.J?m.ia:null,m.W),L.K){r0(m.h,L);var Ae=L,st=m.L;st&&(Ae.I=st),Ae.B&&(vf(Ae),Hl(Ae)),m.g=L}else I0(m);0<h.i.length&&Zl(h)}else _e[0]!="stop"&&_e[0]!="close"||uo(h,7);else h.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?uo(h,7):If(h):_e[0]!="noop"&&h.l&&h.l.ta(_e),h.v=0)}}$s(4)}catch{}}var DT=class{constructor(a,d){this.g=a,this.map=d}};function e0(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function t0(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function n0(a){return a.h?1:a.g?a.g.size:0}function wf(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function xf(a,d){a.g?a.g.add(d):a.h=d}function r0(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}e0.prototype.cancel=function(){if(this.i=o0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function o0(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return M(a.i)}function TT(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var d=[],h=a.length,m=0;m<h;m++)d.push(a[m]);return d}d=[],h=0;for(m in a)d[h++]=a[m];return d}function ST(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let m in a)d[h++]=m;return d}}}function i0(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=ST(a),m=TT(a),E=m.length,S=0;S<E;S++)d.call(void 0,m[S],h&&h[S],a)}var s0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function AT(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var m=a[h].indexOf("="),E=null;if(0<=m){var S=a[h].substring(0,m);E=a[h].substring(m+1)}else S=a[h];d(S,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function co(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof co){this.h=a.h,ql(this,a.j),this.o=a.o,this.g=a.g,Gl(this,a.s),this.l=a.l;var d=a.i,h=new Ks;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),a0(this,h),this.m=a.m}else a&&(d=String(a).match(s0))?(this.h=!1,ql(this,d[1]||"",!0),this.o=Gs(d[2]||""),this.g=Gs(d[3]||"",!0),Gl(this,d[4]),this.l=Gs(d[5]||"",!0),a0(this,d[6]||"",!0),this.m=Gs(d[7]||"")):(this.h=!1,this.i=new Ks(null,this.h))}co.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ws(d,l0,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ws(d,l0,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ws(h,h.charAt(0)=="/"?RT:MT,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ws(h,NT)),a.join("")};function Yn(a){return new co(a)}function ql(a,d,h){a.j=h?Gs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Gl(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function a0(a,d,h){d instanceof Ks?(a.i=d,OT(a.i,a.h)):(h||(d=Ws(d,PT)),a.i=new Ks(d,a.h))}function Ne(a,d,h){a.i.set(d,h)}function Wl(a){return Ne(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Gs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ws(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,kT),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function kT(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var l0=/[#\/\?@]/g,MT=/[#\?:]/g,RT=/[#\?]/g,PT=/[#\?@]/g,NT=/#/g;function Ks(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Sr(a){a.g||(a.g=new Map,a.h=0,a.i&&AT(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}n=Ks.prototype,n.add=function(a,d){Sr(this),this.i=null,a=Qo(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function c0(a,d){Sr(a),d=Qo(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function u0(a,d){return Sr(a),d=Qo(a,d),a.g.has(d)}n.forEach=function(a,d){Sr(this),this.g.forEach(function(h,m){h.forEach(function(E){a.call(d,E,m,this)},this)},this)},n.na=function(){Sr(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let m=0;m<d.length;m++){let E=a[m];for(let S=0;S<E.length;S++)h.push(d[m])}return h},n.V=function(a){Sr(this);let d=[];if(typeof a=="string")u0(this,a)&&(d=d.concat(this.g.get(Qo(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},n.set=function(a,d){return Sr(this),this.i=null,a=Qo(this,a),u0(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},n.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function d0(a,d,h){c0(a,d),0<h.length&&(a.i=null,a.g.set(Qo(a,d),M(h)),a.h+=h.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var m=d[h];let S=encodeURIComponent(String(m)),L=this.V(m);for(m=0;m<L.length;m++){var E=S;L[m]!==""&&(E+="="+encodeURIComponent(String(L[m]))),a.push(E)}}return this.i=a.join("&")};function Qo(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function OT(a,d){d&&!a.j&&(Sr(a),a.i=null,a.g.forEach(function(h,m){var E=m.toLowerCase();m!=E&&(c0(this,m),d0(this,E,h))},a)),a.j=d}function FT(a,d){let h=new Hs;if(l.Image){let m=new Image;m.onload=v(Ar,h,"TestLoadImage: loaded",!0,d,m),m.onerror=v(Ar,h,"TestLoadImage: error",!1,d,m),m.onabort=v(Ar,h,"TestLoadImage: abort",!1,d,m),m.ontimeout=v(Ar,h,"TestLoadImage: timeout",!1,d,m),l.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else d(!1)}function VT(a,d){let h=new Hs,m=new AbortController,E=setTimeout(()=>{m.abort(),Ar(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:m.signal}).then(S=>{clearTimeout(E),S.ok?Ar(h,"TestPingServer: ok",!0,d):Ar(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(E),Ar(h,"TestPingServer: error",!1,d)})}function Ar(a,d,h,m,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),m(h)}catch{}}function LT(){this.g=new wT}function jT(a,d,h){let m=h||"";try{i0(a,function(E,S){let L=E;u(E)&&(L=df(E)),d.push(m+S+"="+encodeURIComponent(L))})}catch(E){throw d.push(m+"type="+encodeURIComponent("_badmap")),E}}function Qs(a){this.l=a.Ub||null,this.j=a.eb||!1}D(Qs,hf),Qs.prototype.g=function(){return new Kl(this.l,this.j)},Qs.prototype.i=function(a){return function(){return a}}({});function Kl(a,d){dt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(Kl,dt),n=Kl.prototype,n.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Zs(this)},n.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ys(this)),this.readyState=0},n.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Zs(this)),this.g&&(this.readyState=3,Zs(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;h0(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function h0(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}n.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Ys(this):Zs(this),this.readyState==3&&h0(this)}},n.Ra=function(a){this.g&&(this.response=this.responseText=a,Ys(this))},n.Qa=function(a){this.g&&(this.response=a,Ys(this))},n.ga=function(){this.g&&Ys(this)};function Ys(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Zs(a)}n.setRequestHeader=function(a,d){this.u.append(a,d)},n.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Zs(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Kl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function f0(a){let d="";return re(a,function(h,m){d+=m,d+=":",d+=h,d+=`\r
`}),d}function _f(a,d,h){e:{for(m in h){var m=!1;break e}m=!0}m||(h=f0(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Ne(a,d,h))}function ze(a){dt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(ze,dt);var BT=/^https?$/i,UT=["POST","PUT"];n=ze.prototype,n.Ha=function(a){this.J=a},n.ea=function(a,d,h,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mf.g(),this.v=this.o?$y(this.o):$y(mf),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){p0(this,S);return}if(a=h||"",h=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var E in m)h.set(E,m[E]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let S of m.keys())h.set(S,m.get(S));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),E=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(UT,d,void 0))||m||E||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,L]of h)this.g.setRequestHeader(S,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{b0(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){p0(this,S)}};function p0(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,m0(a),Ql(a)}function m0(a){a.A||(a.A=!0,xt(a,"complete"),xt(a,"error"))}n.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,xt(this,"complete"),xt(this,"abort"),Ql(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ql(this,!0)),ze.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?g0(this):this.bb())},n.bb=function(){g0(this)};function g0(a){if(a.h&&typeof s<"u"&&(!a.v[1]||Zn(a)!=4||a.Z()!=2)){if(a.u&&Zn(a)==4)Ly(a.Ea,0,a);else if(xt(a,"readystatechange"),Zn(a)==4){a.h=!1;try{let L=a.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var m;if(m=L===0){var E=String(a.D).match(s0)[1]||null;!E&&l.self&&l.self.location&&(E=l.self.location.protocol.slice(0,-1)),m=!BT.test(E?E.toLowerCase():"")}h=m}if(h)xt(a,"complete"),xt(a,"success");else{a.m=6;try{var S=2<Zn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",m0(a)}}finally{Ql(a)}}}}function Ql(a,d){if(a.g){b0(a);let h=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||xt(a,"ready");try{h.onreadystatechange=m}catch{}}}function b0(a){a.I&&(l.clearTimeout(a.I),a.I=null)}n.isActive=function(){return!!this.g};function Zn(a){return a.g?a.g.readyState:0}n.Z=function(){try{return 2<Zn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),yT(d)}};function v0(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function $T(a){let d={};a=(a.g&&2<=Zn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(G(a[m]))continue;var h=I(a[m]);let E=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[E]||[];d[E]=S,S.push(h)}x(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xs(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function y0(a){this.Aa=0,this.i=[],this.j=new Hs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Xs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Xs("baseRetryDelayMs",5e3,a),this.cb=Xs("retryDelaySeedMs",1e4,a),this.Wa=Xs("forwardChannelMaxRetries",2,a),this.wa=Xs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new e0(a&&a.concurrentRequestLimit),this.Da=new LT,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=y0.prototype,n.la=8,n.G=1,n.connect=function(a,d,h,m){_t(0),this.W=a,this.H=d||{},h&&m!==void 0&&(this.H.OSID=h,this.H.OAID=m),this.F=this.X,this.I=S0(this,null,this.W),Zl(this)};function If(a){if(w0(a),a.G==3){var d=a.U++,h=Yn(a.I);if(Ne(h,"SID",a.K),Ne(h,"RID",d),Ne(h,"TYPE","terminate"),Js(a,h),d=new Tr(a,a.j,d),d.L=2,d.v=Wl(Yn(h)),h=!1,l.navigator&&l.navigator.sendBeacon)try{h=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&l.Image&&(new Image().src=d.v,h=!0),h||(d.g=A0(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Hl(d)}T0(a)}function Yl(a){a.g&&(Cf(a),a.g.cancel(),a.g=null)}function w0(a){Yl(a),a.u&&(l.clearTimeout(a.u),a.u=null),Xl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Zl(a){if(!t0(a.h)&&!a.s){a.s=!0;var d=a.Ga;Fs||Ry(),Vs||(Fs(),Vs=!0),tf.add(d,a),a.B=0}}function zT(a,d){return n0(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=zs(g(a.Ga,a,d),D0(a,a.B)),a.B++,!0)}n.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let E=new Tr(this,this.j,a),S=this.o;if(this.S&&(S?(S=b(S),_(S,this.S)):S=this.S),this.m!==null||this.O||(E.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var m=this.i[h];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=_0(this,E,d),h=Yn(this.I),Ne(h,"RID",a),Ne(h,"CVER",22),this.D&&Ne(h,"X-HTTP-Session-Id",this.D),Js(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(f0(S)))+"&"+d:this.m&&_f(h,this.m,S)),xf(this.h,E),this.Ua&&Ne(h,"TYPE","init"),this.P?(Ne(h,"$req",d),Ne(h,"SID","null"),E.T=!0,bf(E,h,null)):bf(E,h,d),this.G=2}}else this.G==3&&(a?x0(this,a):this.i.length==0||t0(this.h)||x0(this))};function x0(a,d){var h;d?h=d.l:h=a.U++;let m=Yn(a.I);Ne(m,"SID",a.K),Ne(m,"RID",h),Ne(m,"AID",a.T),Js(a,m),a.m&&a.o&&_f(m,a.m,a.o),h=new Tr(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=_0(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),xf(a.h,h),bf(h,m,d)}function Js(a,d){a.H&&re(a.H,function(h,m){Ne(d,m,h)}),a.l&&i0({},function(h,m){Ne(d,m,h)})}function _0(a,d,h){h=Math.min(a.i.length,h);var m=a.l?g(a.l.Na,a.l,a):null;e:{var E=a.i;let S=-1;for(;;){let L=["count="+h];S==-1?0<h?(S=E[0].g,L.push("ofs="+S)):S=0:L.push("ofs="+S);let Ae=!0;for(let st=0;st<h;st++){let _e=E[st].g,ht=E[st].map;if(_e-=S,0>_e)S=Math.max(0,E[st].g-100),Ae=!1;else try{jT(ht,L,"req"+_e+"_")}catch{m&&m(ht)}}if(Ae){m=L.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,m}function I0(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Fs||Ry(),Vs||(Fs(),Vs=!0),tf.add(d,a),a.v=0}}function Ef(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=zs(g(a.Fa,a),D0(a,a.v)),a.v++,!0)}n.Fa=function(){if(this.u=null,E0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=zs(g(this.ab,this),a)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Yl(this),E0(this))};function Cf(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function E0(a){a.g=new Tr(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=Yn(a.qa);Ne(d,"RID","rpc"),Ne(d,"SID",a.K),Ne(d,"AID",a.T),Ne(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ne(d,"TO",a.ja),Ne(d,"TYPE","xmlhttp"),Js(a,d),a.m&&a.o&&_f(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=Wl(Yn(d)),h.m=null,h.P=!0,Zy(h,a)}n.Za=function(){this.C!=null&&(this.C=null,Yl(this),Ef(this),_t(19))};function Xl(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function C0(a,d){var h=null;if(a.g==d){Xl(a),Cf(a),a.g=null;var m=2}else if(wf(a.h,d))h=d.D,r0(a.h,d),m=1;else return;if(a.G!=0){if(d.o)if(m==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var E=a.B;m=Ul(),xt(m,new Wy(m,h)),Zl(a)}else I0(a);else if(E=d.s,E==3||E==0&&0<d.X||!(m==1&&zT(a,d)||m==2&&Ef(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),E){case 1:uo(a,5);break;case 4:uo(a,10);break;case 3:uo(a,6);break;default:uo(a,2)}}}function D0(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function uo(a,d){if(a.j.info("Error code "+d),d==2){var h=g(a.fb,a),m=a.Xa;let E=!m;m=new co(m||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||ql(m,"https"),Wl(m),E?FT(m.toString(),h):VT(m.toString(),h)}else _t(2);a.G=0,a.l&&a.l.sa(d),T0(a),w0(a)}n.fb=function(a){a?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function T0(a){if(a.G=0,a.ka=[],a.l){let d=o0(a.h);(d.length!=0||a.i.length!=0)&&(T(a.ka,d),T(a.ka,a.i),a.h.i.length=0,M(a.i),a.i.length=0),a.l.ra()}}function S0(a,d,h){var m=h instanceof co?Yn(h):new co(h);if(m.g!="")d&&(m.g=d+"."+m.g),Gl(m,m.s);else{var E=l.location;m=E.protocol,d=d?d+"."+E.hostname:E.hostname,E=+E.port;var S=new co(null);m&&ql(S,m),d&&(S.g=d),E&&Gl(S,E),h&&(S.l=h),m=S}return h=a.D,d=a.ya,h&&d&&Ne(m,h,d),Ne(m,"VER",a.la),Js(a,m),m}function A0(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new ze(new Qs({eb:h})):new ze(a.pa),d.Ha(a.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function k0(){}n=k0.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Jl(){}Jl.prototype.g=function(a,d){return new Lt(a,d)};function Lt(a,d){dt.call(this),this.g=new y0(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!G(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!G(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Yo(this)}D(Lt,dt),Lt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Lt.prototype.close=function(){If(this.g)},Lt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=df(a),a=h);d.i.push(new DT(d.Ya++,a)),d.G==3&&Zl(d)},Lt.prototype.N=function(){this.g.l=null,delete this.j,If(this.g),delete this.g,Lt.aa.N.call(this)};function M0(a){ff.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}D(M0,ff);function R0(){pf.call(this),this.status=1}D(R0,pf);function Yo(a){this.g=a}D(Yo,k0),Yo.prototype.ua=function(){xt(this.g,"a")},Yo.prototype.ta=function(a){xt(this.g,new M0(a))},Yo.prototype.sa=function(a){xt(this.g,new R0)},Yo.prototype.ra=function(){xt(this.g,"b")},Jl.prototype.createWebChannel=Jl.prototype.g,Lt.prototype.send=Lt.prototype.o,Lt.prototype.open=Lt.prototype.m,Lt.prototype.close=Lt.prototype.close,Eb=yr.createWebChannelTransport=function(){return new Jl},Ib=yr.getStatEventTarget=function(){return Ul()},_b=yr.Event=ao,Kd=yr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$l.NO_ERROR=0,$l.TIMEOUT=8,$l.HTTP_ERROR=6,ml=yr.ErrorCode=$l,Ky.COMPLETE="complete",xb=yr.EventType=Ky,zy.EventType=Us,Us.OPEN="a",Us.CLOSE="b",Us.ERROR="c",Us.MESSAGE="d",dt.prototype.listen=dt.prototype.K,us=yr.WebChannel=zy,Q5=yr.FetchXmlHttpFactory=Qs,ze.prototype.listenOnce=ze.prototype.L,ze.prototype.getLastError=ze.prototype.Ka,ze.prototype.getLastErrorCode=ze.prototype.Ba,ze.prototype.getStatus=ze.prototype.Z,ze.prototype.getResponseJson=ze.prototype.Oa,ze.prototype.getResponseText=ze.prototype.oa,ze.prototype.send=ze.prototype.ea,ze.prototype.setWithCredentials=ze.prototype.Ha,wb=yr.XhrIo=ze}).apply(typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{});var lD="@firebase/firestore";var it=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");var Ms="10.14.0";var jo=new nc("@firebase/firestore");function gl(){return jo.logLevel}function W(n,...e){if(jo.logLevel<=Xn.DEBUG){let t=e.map(iy);jo.debug(`Firestore (${Ms}): ${n}`,...t)}}function xr(n,...e){if(jo.logLevel<=Xn.ERROR){let t=e.map(iy);jo.error(`Firestore (${Ms}): ${n}`,...t)}}function bs(n,...e){if(jo.logLevel<=Xn.WARN){let t=e.map(iy);jo.warn(`Firestore (${Ms}): ${n}`,...t)}}function iy(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ne(n="Unexpected state"){let e=`FIRESTORE (${Ms}) INTERNAL ASSERTION FAILED: `+n;throw xr(e),new Error(e)}function Te(n,e){n||ne()}function se(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Q=class extends U0{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Bn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Jd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Ab=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(it.UNAUTHENTICATED))}shutdown(){}},kb=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Mb=class{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Te(this.o===void 0);let r=this.i,o=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),i=new Bn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Bn,e.enqueueRetryable(()=>o(this.currentUser))};let s=()=>{let c=i;e.enqueueRetryable(()=>B(this,null,function*(){yield c.promise,yield o(this.currentUser)}))},l=c=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?l(c):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Bn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new Jd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new it(e)}},Rb=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Pb=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new Rb(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Nb=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Ob=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Te(this.o===void 0);let r=i=>{i.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);let s=i.token!==this.R;return this.R=i.token,W("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};let o=i=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>o(i)),setTimeout(()=>{if(!this.appCheck){let i=this.A.getImmediate({optional:!0});i?o(i):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Te(typeof t.token=="string"),this.R=t.token,new Nb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Y5(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var eh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let o=Y5(40);for(let i=0;i<o.length;++i)r.length<20&&o[i]<t&&(r+=e.charAt(o[i]%e.length))}return r}};function Ie(n,e){return n<e?-1:n>e?1:0}function vs(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}var ct=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Q(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Q(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Q(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Q(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var le=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new ct(0,0))}static max(){return new n(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var th=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ne(),r===void 0?r=e.length-t:r>e.length-t&&ne(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let o=0;o<r;o++){let i=e.get(o),s=t.get(o);if(i<s)return-1;if(i>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},qe=class n extends th{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new Q(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new n(t)}static emptyPath(){return new n([])}},Z5=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Gt=class n extends th{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Z5.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",o=0,i=()=>{if(r.length===0)throw new Q(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;o<e.length;){let l=e[o];if(l==="\\"){if(o+1===e.length)throw new Q(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[o+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new Q(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,o+=2}else l==="`"?(s=!s,o++):l!=="."||s?(r+=l,o++):(i(),o++)}if(i(),s)throw new Q(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var te=class n{constructor(e){this.path=e}static fromPath(e){return new n(qe.fromString(e))}static fromName(e){return new n(qe.fromString(e).popFirst(5))}static empty(){return new n(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return qe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new qe(e.slice()))}};var Fb=class{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}};Fb.UNKNOWN_ID=-1;function X5(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=le.fromTimestamp(r===1e9?new ct(t+1,0):new ct(t,r));return new Bo(o,te.empty(),e)}function J5(n){return new Bo(n.readTime,n.key,-1)}var Bo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(le.min(),te.empty(),-1)}static max(){return new n(le.max(),te.empty(),-1)}};function eV(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=te.comparator(n.documentKey,e.documentKey),t!==0?t:Ie(n.largestBatchId,e.largestBatchId))}var tV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Vb=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Nl(n){return B(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==tV)throw n;W("LocalStore","Unexpectedly lost primary lease")})}var O=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,o)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,o)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let o=0,i=0,s=!1;e.forEach(l=>{++o,l.next(()=>{++i,s&&i===o&&t()},c=>r(c))}),s=!0,i===o&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(o=>o?n.resolve(o):r());return t}static forEach(e,t){let r=[];return e.forEach((o,i)=>{r.push(t.call(this,o,i))}),this.waitFor(r)}static mapArray(e,t){return new n((r,o)=>{let i=e.length,s=new Array(i),l=0;for(let c=0;c<i;c++){let u=c;t(e[u]).next(f=>{s[u]=f,++l,l===i&&r(s)},f=>o(f))}})}static doWhile(e,t){return new n((r,o)=>{let i=()=>{e()===!0?t().next(()=>{i()},o):r()};i()})}};function nV(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ol(n){return n.name==="IndexedDbTransactionError"}var BD=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Rh(n){return n==null}function _l(n){return n===0&&1/n==-1/0}function rV(n){return typeof n=="number"&&Number.isInteger(n)&&!_l(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var oV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],k7=[...oV,"documentOverlays"],iV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],sV=iV,aV=[...sV,"indexConfiguration","indexState","indexEntries"];var M7=[...aV,"globals"];function cD(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function qo(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function UD(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ge=class n{constructor(e,t){this.comparator=e,this.root=t||Un.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Un.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Un.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ps(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ps(this.root,e,this.comparator,!1)}getReverseIterator(){return new ps(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ps(this.root,e,this.comparator,!0)}},ps=class{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&o&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Un=class n{constructor(e,t,r,o,i){this.key=e,this.value=t,this.color=r??n.RED,this.left=o??n.EMPTY,this.right=i??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,i){return new n(e??this.key,t??this.value,r??this.color,o??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this,i=r(e,o.key);return o=i<0?o.copy(null,null,null,o.left.insert(e,t,r),null):i===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return n.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};Un.EMPTY=null,Un.RED=!0,Un.BLACK=!1;Un.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,t,r,o,i){return this}insert(e,t,r){return new Un(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yt=class n{constructor(e){this.comparator=e,this.data=new Ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new nh(this.data.getIterator())}getIteratorFrom(e){return new nh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let o=t.getNext().key,i=r.getNext().key;if(this.comparator(o,i)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},nh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var an=class n{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new n([])}unionWith(e){let t=new yt(Gt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return vs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var rh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var wt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(o){try{return atob(o)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rh("Invalid base64 string: "+i):i}}(e);return new n(t)}static fromUint8Array(e){let t=function(o){let i="";for(let s=0;s<o.length;++s)i+=String.fromCharCode(o[s]);return i}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};wt.EMPTY_BYTE_STRING=new wt("");var lV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(n){if(Te(!!n),typeof n=="string"){let e=0,t=lV.exec(n);if(Te(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(n.seconds),nanos:Ue(n.nanos)}}function Ue(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function oo(n){return typeof n=="string"?wt.fromBase64String(n):wt.fromUint8Array(n)}function sy(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function ay(n){let e=n.mapValue.fields.__previous_value__;return sy(e)?ay(e):e}function Il(n){let e=_r(n.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}var Lb=class{constructor(e,t,r,o,i,s,l,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}},oh=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var Qd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Uo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sy(n)?4:zD(n)?9007199254740991:$D(n)?10:11:ne()}function qn(n,e){if(n===e)return!0;let t=Uo(n);if(t!==Uo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Il(n).isEqual(Il(e));case 3:return function(o,i){if(typeof o.timestampValue=="string"&&typeof i.timestampValue=="string"&&o.timestampValue.length===i.timestampValue.length)return o.timestampValue===i.timestampValue;let s=_r(o.timestampValue),l=_r(i.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,i){return oo(o.bytesValue).isEqual(oo(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,i){return Ue(o.geoPointValue.latitude)===Ue(i.geoPointValue.latitude)&&Ue(o.geoPointValue.longitude)===Ue(i.geoPointValue.longitude)}(n,e);case 2:return function(o,i){if("integerValue"in o&&"integerValue"in i)return Ue(o.integerValue)===Ue(i.integerValue);if("doubleValue"in o&&"doubleValue"in i){let s=Ue(o.doubleValue),l=Ue(i.doubleValue);return s===l?_l(s)===_l(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return vs(n.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return function(o,i){let s=o.mapValue.fields||{},l=i.mapValue.fields||{};if(cD(s)!==cD(l))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(l[c]===void 0||!qn(s[c],l[c])))return!1;return!0}(n,e);default:return ne()}}function El(n,e){return(n.values||[]).find(t=>qn(t,e))!==void 0}function ys(n,e){if(n===e)return 0;let t=Uo(n),r=Uo(e);if(t!==r)return Ie(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ie(n.booleanValue,e.booleanValue);case 2:return function(i,s){let l=Ue(i.integerValue||i.doubleValue),c=Ue(s.integerValue||s.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(n,e);case 3:return uD(n.timestampValue,e.timestampValue);case 4:return uD(Il(n),Il(e));case 5:return Ie(n.stringValue,e.stringValue);case 6:return function(i,s){let l=oo(i),c=oo(s);return l.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){let l=i.split("/"),c=s.split("/");for(let u=0;u<l.length&&u<c.length;u++){let f=Ie(l[u],c[u]);if(f!==0)return f}return Ie(l.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){let l=Ie(Ue(i.latitude),Ue(s.latitude));return l!==0?l:Ie(Ue(i.longitude),Ue(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return dD(n.arrayValue,e.arrayValue);case 10:return function(i,s){var l,c,u,f;let p=i.fields||{},g=s.fields||{},v=(l=p.value)===null||l===void 0?void 0:l.arrayValue,D=(c=g.value)===null||c===void 0?void 0:c.arrayValue,M=Ie(((u=v?.values)===null||u===void 0?void 0:u.length)||0,((f=D?.values)===null||f===void 0?void 0:f.length)||0);return M!==0?M:dD(v,D)}(n.mapValue,e.mapValue);case 11:return function(i,s){if(i===Qd.mapValue&&s===Qd.mapValue)return 0;if(i===Qd.mapValue)return 1;if(s===Qd.mapValue)return-1;let l=i.fields||{},c=Object.keys(l),u=s.fields||{},f=Object.keys(u);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){let g=Ie(c[p],f[p]);if(g!==0)return g;let v=ys(l[c[p]],u[f[p]]);if(v!==0)return v}return Ie(c.length,f.length)}(n.mapValue,e.mapValue);default:throw ne()}}function uD(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ie(n,e);let t=_r(n),r=_r(e),o=Ie(t.seconds,r.seconds);return o!==0?o:Ie(t.nanos,r.nanos)}function dD(n,e){let t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){let i=ys(t[o],r[o]);if(i)return i}return Ie(t.length,r.length)}function ws(n){return jb(n)}function jb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=_r(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return oo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return te.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(let i of t.values||[])o?o=!1:r+=",",r+=jb(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),o="{",i=!0;for(let s of r)i?i=!1:o+=",",o+=`${s}:${jb(t.fields[s])}`;return o+"}"}(n.mapValue):ne()}function Bb(n){return!!n&&"integerValue"in n}function ly(n){return!!n&&"arrayValue"in n}function hD(n){return!!n&&"nullValue"in n}function fD(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Zd(n){return!!n&&"mapValue"in n}function $D(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function vl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return qo(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=vl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function zD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var qt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Zd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vl(t)}setAll(e){let t=Gt.emptyPath(),r={},o=[];e.forEach((s,l)=>{if(!t.isImmediateParentOf(l)){let c=this.getFieldsMap(t);this.applyChanges(c,r,o),r={},o=[],t=l.popLast()}s?r[l.lastSegment()]=vl(s):o.push(l.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,r,o)}delete(e){let t=this.field(e.popLast());Zd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Zd(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){qo(t,(o,i)=>e[o]=i);for(let o of r)delete e[o]}clone(){return new n(vl(this.value))}};function HD(n){let e=[];return qo(n.fields,(t,r)=>{let o=new Gt([t]);if(Zd(r)){let i=HD(r.mapValue).fields;if(i.length===0)e.push(o);else for(let s of i)e.push(o.child(s))}else e.push(o)}),new an(e)}var In=class n{constructor(e,t,r,o,i,s,l){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=i,this.data=s,this.documentState=l}static newInvalidDocument(e){return new n(e,0,le.min(),le.min(),le.min(),qt.empty(),0)}static newFoundDocument(e,t,r,o){return new n(e,1,t,le.min(),r,o,0)}static newNoDocument(e,t){return new n(e,2,t,le.min(),le.min(),qt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,le.min(),le.min(),qt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var xs=class{constructor(e,t){this.position=e,this.inclusive=t}};function pD(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){let i=e[o],s=n.position[o];if(i.field.isKeyField()?r=te.comparator(te.fromName(s.referenceValue),t.key):r=ys(s,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function mD(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!qn(n.position[t],e.position[t]))return!1;return!0}var _s=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function cV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var ih=class{},tt=class n extends ih{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new $b(e,t,r):t==="array-contains"?new qb(e,r):t==="in"?new Gb(e,r):t==="not-in"?new Wb(e,r):t==="array-contains-any"?new Kb(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new zb(e,r):new Hb(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ys(t,this.value)):t!==null&&Uo(this.value)===Uo(t)&&this.matchesComparison(ys(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Gn=class n extends ih{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return qD(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function qD(n){return n.op==="and"}function GD(n){return uV(n)&&qD(n)}function uV(n){for(let e of n.filters)if(e instanceof Gn)return!1;return!0}function Ub(n){if(n instanceof tt)return n.field.canonicalString()+n.op.toString()+ws(n.value);if(GD(n))return n.filters.map(e=>Ub(e)).join(",");{let e=n.filters.map(t=>Ub(t)).join(",");return`${n.op}(${e})`}}function WD(n,e){return n instanceof tt?function(r,o){return o instanceof tt&&r.op===o.op&&r.field.isEqual(o.field)&&qn(r.value,o.value)}(n,e):n instanceof Gn?function(r,o){return o instanceof Gn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((i,s,l)=>i&&WD(s,o.filters[l]),!0):!1}(n,e):void ne()}function KD(n){return n instanceof tt?function(t){return`${t.field.canonicalString()} ${t.op} ${ws(t.value)}`}(n):n instanceof Gn?function(t){return t.op.toString()+" {"+t.getFilters().map(KD).join(" ,")+"}"}(n):"Filter"}var $b=class extends tt{constructor(e,t,r){super(e,t,r),this.key=te.fromName(r.referenceValue)}matches(e){let t=te.comparator(e.key,this.key);return this.matchesComparison(t)}},zb=class extends tt{constructor(e,t){super(e,"in",t),this.keys=QD("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Hb=class extends tt{constructor(e,t){super(e,"not-in",t),this.keys=QD("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function QD(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>te.fromName(r.referenceValue))}var qb=class extends tt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return ly(t)&&El(t.arrayValue,this.value)}},Gb=class extends tt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&El(this.value.arrayValue,t)}},Wb=class extends tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(El(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!El(this.value.arrayValue,t)}},Kb=class extends tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!ly(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>El(this.value.arrayValue,r))}};var Qb=class{constructor(e,t=null,r=[],o=[],i=null,s=null,l=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=i,this.startAt=s,this.endAt=l,this.ue=null}};function gD(n,e=null,t=[],r=[],o=null,i=null,s=null){return new Qb(n,e,t,r,o,i,s)}function cy(n){let e=se(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ub(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Rh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ws(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ws(r)).join(",")),e.ue=t}return e.ue}function uy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!cV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!WD(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mD(n.startAt,e.startAt)&&mD(n.endAt,e.endAt)}function Yb(n){return te.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Is=class{constructor(e,t=null,r=[],o=[],i=null,s="F",l=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=i,this.limitType=s,this.startAt=l,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function dV(n,e,t,r,o,i,s,l){return new Is(n,e,t,r,o,i,s,l)}function Ph(n){return new Is(n)}function bD(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function hV(n){return n.collectionGroup!==null}function yl(n){let e=se(n);if(e.ce===null){e.ce=[];let t=new Set;for(let i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new yt(Gt.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(l=l.add(u.field))})}),l})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.ce.push(new _s(i,r))}),t.has(Gt.keyField().canonicalString())||e.ce.push(new _s(Gt.keyField(),r))}return e.ce}function $n(n){let e=se(n);return e.le||(e.le=fV(e,yl(n))),e.le}function fV(n,e){if(n.limitType==="F")return gD(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{let i=o.dir==="desc"?"asc":"desc";return new _s(o.field,i)});let t=n.endAt?new xs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new xs(n.startAt.position,n.startAt.inclusive):null;return gD(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Zb(n,e,t){return new Is(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Nh(n,e){return uy($n(n),$n(e))&&n.limitType===e.limitType}function YD(n){return`${cy($n(n))}|lt:${n.limitType}`}function ds(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>KD(o)).join(", ")}]`),Rh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>ws(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>ws(o)).join(",")),`Target(${r})`}($n(n))}; limitType=${n.limitType})`}function Oh(n,e){return e.isFoundDocument()&&function(r,o){let i=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):te.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,o){for(let i of yl(r))if(!i.field.isKeyField()&&o.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,o){for(let i of r.filters)if(!i.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(s,l,c){let u=pD(s,l,c);return s.inclusive?u<=0:u<0}(r.startAt,yl(r),o)||r.endAt&&!function(s,l,c){let u=pD(s,l,c);return s.inclusive?u>=0:u>0}(r.endAt,yl(r),o))}(n,e)}function pV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZD(n){return(e,t)=>{let r=!1;for(let o of yl(n)){let i=mV(o,e,t);if(i!==0)return i;r=r||o.field.isKeyField()}return 0}}function mV(n,e,t){let r=n.field.isKeyField()?te.comparator(e.key,t.key):function(i,s,l){let c=s.data.field(i),u=l.data.field(i);return c!==null&&u!==null?ys(c,u):ne()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var io=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[o,i]of r)if(this.equalsFn(o,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],e))return void(o[i]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){qo(this.inner,(t,r)=>{for(let[o,i]of r)e(o,i)})}isEmpty(){return UD(this.inner)}size(){return this.innerSize}};var gV=new Ge(te.comparator);function Ir(){return gV}var XD=new Ge(te.comparator);function bl(...n){let e=XD;for(let t of n)e=e.insert(t.key,t);return e}function JD(n){let e=XD;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Fo(){return wl()}function e1(){return wl()}function wl(){return new io(n=>n.toString(),(n,e)=>n.isEqual(e))}var bV=new Ge(te.comparator),vV=new yt(te.comparator);function me(...n){let e=vV;for(let t of n)e=e.add(t);return e}var yV=new yt(Ie);function wV(){return yV}function dy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_l(e)?"-0":e}}function t1(n){return{integerValue:""+n}}function xV(n,e){return rV(e)?t1(e):dy(n,e)}var Es=class{constructor(){this._=void 0}};function _V(n,e,t){return n instanceof Cs?function(o,i){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return i&&sy(i)&&(i=ay(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof $o?r1(n,e):n instanceof zo?o1(n,e):function(o,i){let s=n1(o,i),l=vD(s)+vD(o.Pe);return Bb(s)&&Bb(o.Pe)?t1(l):dy(o.serializer,l)}(n,e)}function IV(n,e,t){return n instanceof $o?r1(n,e):n instanceof zo?o1(n,e):t}function n1(n,e){return n instanceof Ds?function(r){return Bb(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}var Cs=class extends Es{},$o=class extends Es{constructor(e){super(),this.elements=e}};function r1(n,e){let t=i1(e);for(let r of n.elements)t.some(o=>qn(o,r))||t.push(r);return{arrayValue:{values:t}}}var zo=class extends Es{constructor(e){super(),this.elements=e}};function o1(n,e){let t=i1(e);for(let r of n.elements)t=t.filter(o=>!qn(o,r));return{arrayValue:{values:t}}}var Ds=class extends Es{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function vD(n){return Ue(n.integerValue||n.doubleValue)}function i1(n){return ly(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function EV(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof $o&&o instanceof $o||r instanceof zo&&o instanceof zo?vs(r.elements,o.elements,qn):r instanceof Ds&&o instanceof Ds?qn(r.Pe,o.Pe):r instanceof Cs&&o instanceof Cs}(n.transform,e.transform)}var Xb=class{constructor(e,t){this.version=e,this.transformResults=t}},wr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Xd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ts=class{};function s1(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Cl(n.key,wr.none()):new Ho(n.key,n.data,wr.none());{let t=n.data,r=qt.empty(),o=new yt(Gt.comparator);for(let i of e.fields)if(!o.has(i)){let s=t.field(i);s===null&&i.length>1&&(i=i.popLast(),s=t.field(i)),s===null?r.delete(i):r.set(i,s),o=o.add(i)}return new Wn(n.key,r,new an(o.toArray()),wr.none())}}function CV(n,e,t){n instanceof Ho?function(o,i,s){let l=o.value.clone(),c=wD(o.fieldTransforms,i,s.transformResults);l.setAll(c),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Wn?function(o,i,s){if(!Xd(o.precondition,i))return void i.convertToUnknownDocument(s.version);let l=wD(o.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(a1(o)),c.setAll(l),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(o,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function xl(n,e,t,r){return n instanceof Ho?function(i,s,l,c){if(!Xd(i.precondition,s))return l;let u=i.value.clone(),f=xD(i.fieldTransforms,c,s);return u.setAll(f),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof Wn?function(i,s,l,c){if(!Xd(i.precondition,s))return l;let u=xD(i.fieldTransforms,c,s),f=s.data;return f.setAll(a1(i)),f.setAll(u),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(i,s,l){return Xd(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(n,e,t)}function DV(n,e){let t=null;for(let r of n.fieldTransforms){let o=e.data.field(r.field),i=n1(r.transform,o||null);i!=null&&(t===null&&(t=qt.empty()),t.set(r.field,i))}return t||null}function yD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&vs(r,o,(i,s)=>EV(i,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Ho=class extends Ts{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}},Wn=class extends Ts{constructor(e,t,r,o,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function a1(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function wD(n,e,t){let r=new Map;Te(n.length===t.length);for(let o=0;o<t.length;o++){let i=n[o],s=i.transform,l=e.data.field(i.field);r.set(i.field,IV(s,l,t[o]))}return r}function xD(n,e,t){let r=new Map;for(let o of n){let i=o.transform,s=t.data.field(o.field);r.set(o.field,_V(i,s,e))}return r}var Cl=class extends Ts{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Jb=class extends Ts{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var ev=class{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){let i=this.mutations[o];i.key.isEqual(e.key)&&CV(i,e,r[o])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=xl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=xl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=e1();return this.mutations.forEach(o=>{let i=e.get(o.key),s=i.overlayedDocument,l=this.applyToLocalView(s,i.mutatedFields);l=t.has(o.key)?null:l;let c=s1(s,l);c!==null&&r.set(o.key,c),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),me())}isEqual(e){return this.batchId===e.batchId&&vs(this.mutations,e.mutations,(t,r)=>yD(t,r))&&vs(this.baseMutations,e.baseMutations,(t,r)=>yD(t,r))}},tv=class n{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Te(e.mutations.length===r.length);let o=function(){return bV}(),i=e.mutations;for(let s=0;s<i.length;s++)o=o.insert(i[s].key,r[s].version);return new n(e,t,r,o)}};var nv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var rv=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ze,ye;function TV(n){switch(n){default:return ne();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function l1(n){if(n===void 0)return xr("GRPC error has no .code"),P.UNKNOWN;switch(n){case Ze.OK:return P.OK;case Ze.CANCELLED:return P.CANCELLED;case Ze.UNKNOWN:return P.UNKNOWN;case Ze.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ze.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ze.INTERNAL:return P.INTERNAL;case Ze.UNAVAILABLE:return P.UNAVAILABLE;case Ze.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ze.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ze.NOT_FOUND:return P.NOT_FOUND;case Ze.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ze.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ze.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ze.ABORTED:return P.ABORTED;case Ze.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ze.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ze.DATA_LOSS:return P.DATA_LOSS;default:return ne()}}(ye=Ze||(Ze={}))[ye.OK=0]="OK",ye[ye.CANCELLED=1]="CANCELLED",ye[ye.UNKNOWN=2]="UNKNOWN",ye[ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ye[ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ye[ye.NOT_FOUND=5]="NOT_FOUND",ye[ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",ye[ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",ye[ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",ye[ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ye[ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ye[ye.ABORTED=10]="ABORTED",ye[ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",ye[ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",ye[ye.INTERNAL=13]="INTERNAL",ye[ye.UNAVAILABLE=14]="UNAVAILABLE",ye[ye.DATA_LOSS=15]="DATA_LOSS";var _D=null;function SV(){return new TextEncoder}var AV=new no([4294967295,4294967295],0);function ID(n){let e=SV().encode(n),t=new yb;return t.update(e),new Uint8Array(t.digest())}function ED(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new no([t,r],0),new no([o,i],0)]}var ov=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vo(`Invalid padding: ${t}`);if(r<0)throw new Vo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Vo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Vo(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=no.fromNumber(this.Ie)}Ee(e,t,r){let o=e.add(t.multiply(no.fromNumber(r)));return o.compare(AV)===1&&(o=new no([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=ID(e),[r,o]=ED(t);for(let i=0;i<this.hashCount;i++){let s=this.Ee(r,o,i);if(!this.de(s))return!1}return!0}static create(e,t,r){let o=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new n(i,o,t);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.Ie===0)return;let t=ID(e),[r,o]=ED(t);for(let i=0;i<this.hashCount;i++){let s=this.Ee(r,o,i);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Vo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var sh=class n{constructor(e,t,r,o,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let o=new Map;return o.set(e,Dl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(le.min(),o,new Ge(Ie),Ir(),me())}},Dl=class n{constructor(e,t,r,o,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,me(),me(),me())}};var ms=class{constructor(e,t,r,o){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=o}},ah=class{constructor(e,t){this.targetId=e,this.me=t}},lh=class{constructor(e,t,r=wt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}},ch=class{constructor(){this.fe=0,this.ge=DD(),this.pe=wt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),t=me(),r=me();return this.ge.forEach((o,i)=>{switch(i){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ne()}}),new Dl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=DD()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},iv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Ir(),this.qe=CD(),this.Qe=new Ge(Ie)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,o)=>{this.ze(o)&&t(o)})}He(e){let t=e.targetId,r=e.me.count,o=this.Je(t);if(o){let i=o.target;if(Yb(i))if(r===0){let s=new te(i.path);this.Ue(t,s,In.newNoDocument(s,le.min()))}else Te(r===1);else{let s=this.Ye(t);if(s!==r){let l=this.Ze(e),c=l?this.Xe(l,e,s):1;if(c!==0){this.je(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}_D?.et(function(f,p,g,v,D){var M,T,F,G,V,ee;let ge={localCacheCount:f,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},re=p.unchangedNames;return re&&(ge.bloomFilter={applied:D===0,hashCount:(M=re?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(G=(F=(T=re?.bits)===null||T===void 0?void 0:T.bitmap)===null||F===void 0?void 0:F.length)!==null&&G!==void 0?G:0,padding:(ee=(V=re?.bits)===null||V===void 0?void 0:V.padding)!==null&&ee!==void 0?ee:0,mightContain:x=>{var b;return(b=v?.mightContain(x))!==null&&b!==void 0&&b}}),ge}(s,e.me,this.Le.tt(),l,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:o=0},hashCount:i=0}=t,s,l;try{s=oo(r).toUint8Array()}catch(c){if(c instanceof rh)return bs("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new ov(s,o,i)}catch(c){return bs(c instanceof Vo?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.Ie===0?null:l}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),o=0;return r.forEach(i=>{let s=this.Le.tt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.Ue(t,i,null),o++)}),o}rt(e){let t=new Map;this.Be.forEach((i,s)=>{let l=this.Je(s);if(l){if(i.current&&Yb(l.target)){let c=new te(l.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,In.newNoDocument(c,e))}i.be&&(t.set(s,i.ve()),i.Ce())}});let r=me();this.qe.forEach((i,s)=>{let l=!0;s.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.ke.forEach((i,s)=>s.setReadTime(e));let o=new sh(e,t,this.Qe,this.ke,r);return this.ke=Ir(),this.qe=CD(),this.Qe=new Ge(Ie),o}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ch,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new yt(Ie),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||W("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ch),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function CD(){return new Ge(te.comparator)}function DD(){return new Ge(te.comparator)}var kV={asc:"ASCENDING",desc:"DESCENDING"},MV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RV={and:"AND",or:"OR"},sv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function av(n,e){return n.useProto3Json||Rh(e)?e:{value:e}}function uh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c1(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function PV(n,e){return uh(n,e.toTimestamp())}function zn(n){return Te(!!n),le.fromTimestamp(function(t){let r=_r(t);return new ct(r.seconds,r.nanos)}(n))}function hy(n,e){return lv(n,e).canonicalString()}function lv(n,e){let t=function(o){return new qe(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function u1(n){let e=qe.fromString(n);return Te(m1(e)),e}function cv(n,e){return hy(n.databaseId,e.path)}function Cb(n,e){let t=u1(e);if(t.get(1)!==n.databaseId.projectId)throw new Q(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Q(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new te(h1(t))}function d1(n,e){return hy(n.databaseId,e)}function NV(n){let e=u1(n);return e.length===4?qe.emptyPath():h1(e)}function uv(n){return new qe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function h1(n){return Te(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function TD(n,e,t){return{name:cv(n,e),fields:t.value.mapValue.fields}}function OV(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],i=function(u,f){return u.useProto3Json?(Te(f===void 0||typeof f=="string"),wt.fromBase64String(f||"")):(Te(f===void 0||f instanceof Buffer||f instanceof Uint8Array),wt.fromUint8Array(f||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(u){let f=u.code===void 0?P.UNKNOWN:l1(u.code);return new Q(f,u.message||"")}(s);t=new lh(r,o,i,l||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let o=Cb(n,r.document.name),i=zn(r.document.updateTime),s=r.document.createTime?zn(r.document.createTime):le.min(),l=new qt({mapValue:{fields:r.document.fields}}),c=In.newFoundDocument(o,i,s,l),u=r.targetIds||[],f=r.removedTargetIds||[];t=new ms(u,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let o=Cb(n,r.document),i=r.readTime?zn(r.readTime):le.min(),s=In.newNoDocument(o,i),l=r.removedTargetIds||[];t=new ms([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let o=Cb(n,r.document),i=r.removedTargetIds||[];t=new ms([],i,o,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:o=0,unchangedNames:i}=r,s=new rv(o,i),l=r.targetId;t=new ah(l,s)}}return t}function FV(n,e){let t;if(e instanceof Ho)t={update:TD(n,e.key,e.value)};else if(e instanceof Cl)t={delete:cv(n,e.key)};else if(e instanceof Wn)t={update:TD(n,e.key,e.data),updateMask:qV(e.fieldMask)};else{if(!(e instanceof Jb))return ne();t={verify:cv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){let l=s.transform;if(l instanceof Cs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof $o)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof zo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Ds)return{fieldPath:s.field.canonicalString(),increment:l.Pe};throw ne()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,i){return i.updateTime!==void 0?{updateTime:PV(o,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne()}(n,e.precondition)),t}function VV(n,e){return n&&n.length>0?(Te(e!==void 0),n.map(t=>function(o,i){let s=o.updateTime?zn(o.updateTime):zn(i);return s.isEqual(le.min())&&(s=zn(i)),new Xb(s,o.transformResults||[])}(t,e))):[]}function LV(n,e){return{documents:[d1(n,e.path)]}}function jV(n,e){let t={structuredQuery:{}},r=e.path,o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=d1(n,o);let i=function(u){if(u.length!==0)return p1(Gn.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);let s=function(u){if(u.length!==0)return u.map(f=>function(g){return{field:hs(g.field),direction:$V(g.dir)}}(f))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let l=av(n,e.limit);return l!==null&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:o}}function BV(n){let e=NV(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,o=null;if(r>0){Te(r===1);let f=t.from[0];f.allDescendants?o=f.collectionId:e=e.child(f.collectionId)}let i=[];t.where&&(i=function(p){let g=f1(p);return g instanceof Gn&&GD(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(D){return new _s(fs(D.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(g))}(t.orderBy));let l=null;t.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,Rh(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(p){let g=!!p.before,v=p.values||[];return new xs(v,g)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let g=!p.before,v=p.values||[];return new xs(v,g)}(t.endAt)),dV(e,o,s,i,l,"F",c,u)}function UV(n,e){let t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function f1(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=fs(t.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let o=fs(t.unaryFilter.field);return tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let i=fs(t.unaryFilter.field);return tt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=fs(t.unaryFilter.field);return tt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(n):n.fieldFilter!==void 0?function(t){return tt.create(fs(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Gn.create(t.compositeFilter.filters.map(r=>f1(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ne()}}(t.compositeFilter.op))}(n):ne()}function $V(n){return kV[n]}function zV(n){return MV[n]}function HV(n){return RV[n]}function hs(n){return{fieldPath:n.canonicalString()}}function fs(n){return Gt.fromServerFormat(n.fieldPath)}function p1(n){return n instanceof tt?function(t){if(t.op==="=="){if(fD(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NAN"}};if(hD(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(fD(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NOT_NAN"}};if(hD(t.value))return{unaryFilter:{field:hs(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hs(t.field),op:zV(t.op),value:t.value}}}(n):n instanceof Gn?function(t){let r=t.getFilters().map(o=>p1(o));return r.length===1?r[0]:{compositeFilter:{op:HV(t.op),filters:r}}}(n):ne()}function qV(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function m1(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Tl=class n{constructor(e,t,r,o,i=le.min(),s=le.min(),l=wt.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var dv=class{constructor(e){this.ct=e}};function GV(n){let e=BV({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zb(e,e.limit,"L"):e}var dh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Ue(e.integerValue));else if("doubleValue"in e){let r=Ue(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),_l(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=_r(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(oo(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?zD(e)?this.dt(t,Number.MAX_SAFE_INTEGER):$D(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ne()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let o of Object.keys(r))this.Vt(o,t),this.Tt(r[o],t)}wt(e,t){var r,o;let i=e.fields||{};this.dt(t,53);let s="value",l=((o=(r=i[s].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.length)||0;this.dt(t,15),t.At(Ue(l)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let o of r)this.Tt(o,t)}yt(e,t){this.dt(t,37),te.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};dh.vt=new dh;var hv=class{constructor(){this.un=new fv}addToCollectionParentIndex(e,t){return this.un.add(t),O.resolve()}getCollectionParents(e,t){return O.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return O.resolve()}deleteFieldIndex(e,t){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,t){return O.resolve()}getDocumentsMatchingTarget(e,t){return O.resolve(null)}getIndexType(e,t){return O.resolve(0)}getFieldIndexes(e,t){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,t){return O.resolve(Bo.min())}getMinOffsetFromCollectionGroup(e,t){return O.resolve(Bo.min())}updateCollectionGroup(e,t,r){return O.resolve()}updateIndexEntries(e,t){return O.resolve()}},fv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new yt(qe.comparator),i=!o.has(r);return this.index[t]=o.add(r),i}has(e){let t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new yt(qe.comparator)).toArray()}};var P7=new Uint8Array(0);var jn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};jn.DEFAULT_COLLECTION_PERCENTILE=10,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,jn.DEFAULT=new jn(41943040,jn.DEFAULT_COLLECTION_PERCENTILE,jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),jn.DISABLED=new jn(-1,0,0);var Sl=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var pv=class{constructor(){this.changes=new io(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,In.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?O.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var mv=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var gv=class{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&xl(r.mutation,o,an.empty(),ct.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=me()){let o=Fo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(i=>{let s=bl();return i.forEach((l,c)=>{s=s.insert(l,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Fo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,me()))}populateOverlays(e,t,r){let o=[];return r.forEach(i=>{t.has(i)||o.push(i)}),this.documentOverlayCache.getOverlays(e,o).next(i=>{i.forEach((s,l)=>{t.set(s,l)})})}computeViews(e,t,r,o){let i=Ir(),s=wl(),l=function(){return wl()}();return t.forEach((c,u)=>{let f=r.get(u.key);o.has(u.key)&&(f===void 0||f.mutation instanceof Wn)?i=i.insert(u.key,u):f!==void 0?(s.set(u.key,f.mutation.getFieldMask()),xl(f.mutation,u,f.mutation.getFieldMask(),ct.now())):s.set(u.key,an.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,f)=>s.set(u,f)),t.forEach((u,f)=>{var p;return l.set(u,new mv(f,(p=s.get(u))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,t){let r=wl(),o=new Ge((s,l)=>s-l),i=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let l of s)l.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let f=r.get(c)||an.empty();f=l.applyToLocalView(u,f),r.set(c,f);let p=(o.get(l.batchId)||me()).add(c);o=o.insert(l.batchId,p)})}).next(()=>{let s=[],l=o.getReverseIterator();for(;l.hasNext();){let c=l.getNext(),u=c.key,f=c.value,p=e1();f.forEach(g=>{if(!i.has(g)){let v=s1(t.get(g),r.get(g));v!==null&&p.set(g,v),i=i.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(s){return te.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):hV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(i=>{let s=o-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-i.size):O.resolve(Fo()),l=-1,c=i;return s.next(u=>O.forEach(u,(f,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(f)?O.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{c=c.insert(f,g)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,me())).next(f=>({batchId:l,changes:JD(f)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new te(t)).next(r=>{let o=bl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){let i=t.collectionGroup,s=bl();return this.indexManager.getCollectionParents(e,i).next(l=>O.forEach(l,c=>{let u=function(p,g){return new Is(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,o).next(f=>{f.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,o){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,o))).next(s=>{i.forEach((c,u)=>{let f=u.getKey();s.get(f)===null&&(s=s.insert(f,In.newInvalidDocument(f)))});let l=bl();return s.forEach((c,u)=>{let f=i.get(c);f!==void 0&&xl(f.mutation,u,an.empty(),ct.now()),Oh(t,u)&&(l=l.insert(c,u))}),l})}};var bv=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return O.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:zn(o.createTime)}}(t)),O.resolve()}getNamedQuery(e,t){return O.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(o){return{name:o.name,query:GV(o.bundledQuery),readTime:zn(o.readTime)}}(t)),O.resolve()}};var vv=class{constructor(){this.overlays=new Ge(te.comparator),this.Ir=new Map}getOverlay(e,t){return O.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Fo();return O.forEach(t,o=>this.getOverlay(e,o).next(i=>{i!==null&&r.set(o,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,i)=>{this.ht(e,t,i)}),O.resolve()}removeOverlaysForBatchId(e,t,r){let o=this.Ir.get(r);return o!==void 0&&(o.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,t,r){let o=Fo(),i=t.length+1,s=new te(t.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){let c=l.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&o.set(c.getKey(),c)}return O.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let i=new Ge((u,f)=>u-f),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let f=i.get(u.largestBatchId);f===null&&(f=Fo(),i=i.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}let l=Fo(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,f)=>l.set(u,f)),!(l.size()>=o)););return O.resolve(l)}ht(e,t,r){let o=this.overlays.get(r.key);if(o!==null){let s=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new nv(t,r));let i=this.Ir.get(t);i===void 0&&(i=me(),this.Ir.set(t,i)),this.Ir.set(t,i.add(r.key))}};var yv=class{constructor(){this.sessionToken=wt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,O.resolve()}};var Al=class{constructor(){this.Tr=new yt(Xe.Er),this.dr=new yt(Xe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new Xe(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Xe(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new te(new qe([])),r=new Xe(t,e),o=new Xe(t,e+1),i=[];return this.dr.forEachInRange([r,o],s=>{this.Vr(s),i.push(s.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new te(new qe([])),r=new Xe(t,e),o=new Xe(t,e+1),i=me();return this.dr.forEachInRange([r,o],s=>{i=i.add(s.key)}),i}containsKey(e){let t=new Xe(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Xe=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return te.comparator(e.key,t.key)||Ie(e.wr,t.wr)}static Ar(e,t){return Ie(e.wr,t.wr)||te.comparator(e.key,t.key)}};var wv=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new yt(Xe.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){let i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new ev(i,t,r,o);this.mutationQueue.push(s);for(let l of o)this.br=this.br.add(new Xe(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,t){return O.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,o=this.vr(r),i=o<0?0:o;return O.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Xe(t,0),o=new Xe(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,o],s=>{let l=this.Dr(s.wr);i.push(l)}),O.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new yt(Ie);return t.forEach(o=>{let i=new Xe(o,0),s=new Xe(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,s],l=>{r=r.add(l.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,o=r.length+1,i=r;te.isDocumentKey(i)||(i=i.child(""));let s=new Xe(new te(i),0),l=new yt(Ie);return this.br.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===o&&(l=l.add(c.wr)),!0)},s),O.resolve(this.Cr(l))}Cr(e){let t=[];return e.forEach(r=>{let o=this.Dr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Te(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(t.mutations,o=>{let i=new Xe(o.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new Xe(t,0),o=this.br.firstAfterOrEqual(r);return O.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var xv=class{constructor(e){this.Mr=e,this.docs=function(){return new Ge(te.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,o=this.docs.get(r),i=o?o.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return O.resolve(r?r.document.mutableCopy():In.newInvalidDocument(t))}getEntries(e,t){let r=Ir();return t.forEach(o=>{let i=this.docs.get(o);r=r.insert(o,i?i.document.mutableCopy():In.newInvalidDocument(o))}),O.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let i=Ir(),s=t.path,l=new te(s.child("")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){let{key:u,value:{document:f}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||eV(J5(f),r)<=0||(o.has(f.key)||Oh(t,f))&&(i=i.insert(f.key,f.mutableCopy()))}return O.resolve(i)}getAllFromCollectionGroup(e,t,r,o){ne()}Or(e,t){return O.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new _v(this)}getSize(e){return O.resolve(this.size)}},_v=class extends pv{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)}),O.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var Iv=class{constructor(e){this.persistence=e,this.Nr=new io(t=>cy(t),uy),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Al,this.targetCount=0,this.kr=Sl.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,o)=>t(o)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),O.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Sl(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,O.resolve()}updateTargetData(e,t){return this.Kn(t),O.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,t,r){let o=0,i=[];return this.Nr.forEach((s,l)=>{l.sequenceNumber<=t&&r.get(l.targetId)===null&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),o++)}),O.waitFor(i).next(()=>o)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return O.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),O.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let o=this.persistence.referenceDelegate,i=[];return o&&t.forEach(s=>{i.push(o.markPotentiallyOrphaned(e,s))}),O.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),O.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return O.resolve(r)}containsKey(e,t){return O.resolve(this.Br.containsKey(t))}};var Ev=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new BD(0),this.Kr=!1,this.Kr=!0,this.$r=new yv,this.referenceDelegate=e(this),this.Ur=new Iv(this),this.indexManager=new hv,this.remoteDocumentCache=function(o){return new xv(o)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new dv(t),this.Gr=new bv(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new vv,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new wv(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){W("MemoryPersistence","Starting transaction:",e);let o=new Cv(this.Qr.next());return this.referenceDelegate.zr(),r(o).next(i=>this.referenceDelegate.jr(o).next(()=>i)).toPromise().then(i=>(o.raiseOnCommittedEvent(),i))}Hr(e,t){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},Cv=class extends Vb{constructor(e){super(),this.currentSequenceNumber=e}},Dv=class n{constructor(e){this.persistence=e,this.Jr=new Al,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),O.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(o=>this.Xr.add(o.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{let o=te.fromPath(r);return this.ei(e,o).next(i=>{i||t.removeEntry(o,le.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return O.or([()=>O.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var Tv=class n{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=o}static Wi(e,t){let r=me(),o=me();for(let i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:o=o.add(i.doc.key)}return new n(e,t.fromCache,r,o)}};var Sv=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Av=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return B0()?8:nV(j0())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,o){let i={result:null};return this.Yi(e,t).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Zi(e,t,o,r).next(s=>{i.result=s})}).next(()=>{if(i.result)return;let s=new Sv;return this.Xi(e,t,s).next(l=>{if(i.result=l,this.zi)return this.es(e,t,s,l.size)})}).next(()=>i.result)}es(e,t,r,o){return r.documentReadCount<this.ji?(gl()<=Xn.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",ds(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(gl()<=Xn.DEBUG&&W("QueryEngine","Query:",ds(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(gl()<=Xn.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",ds(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,$n(t))):O.resolve())}Yi(e,t){if(bD(t))return O.resolve(null);let r=$n(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Zb(t,null,"F"),r=$n(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{let s=me(...i);return this.Ji.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.ts(t,l);return this.ns(t,u,s,c.readTime)?this.Yi(e,Zb(t,null,"F")):this.rs(e,u,t,c)}))})))}Zi(e,t,r,o){return bD(t)||o.isEqual(le.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(i=>{let s=this.ts(t,i);return this.ns(t,s,r,o)?O.resolve(null):(gl()<=Xn.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ds(t)),this.rs(e,s,t,X5(o,-1)).next(l=>l))})}ts(e,t){let r=new yt(ZD(e));return t.forEach((o,i)=>{Oh(e,i)&&(r=r.add(i))}),r}ns(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(o)>0)}Xi(e,t,r){return gl()<=Xn.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",ds(t)),this.Ji.getDocumentsMatchingQuery(e,t,Bo.min(),r)}rs(e,t,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next(i=>(t.forEach(s=>{i=i.insert(s.key,s)}),i))}};var kv=class{constructor(e,t,r,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new Ge(Ie),this._s=new io(i=>cy(i),uy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gv(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function WV(n,e,t,r){return new kv(n,e,t,r)}function g1(n,e){return B(this,null,function*(){let t=se(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(i=>(o=i,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{let s=[],l=[],c=me();for(let u of o){s.push(u.batchId);for(let f of u.mutations)c=c.add(f.key)}for(let u of i){l.push(u.batchId);for(let f of u.mutations)c=c.add(f.key)}return t.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:l}))})})})}function KV(n,e){let t=se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let o=e.batch.keys(),i=t.cs.newChangeBuffer({trackRemovals:!0});return function(l,c,u,f){let p=u.batch,g=p.keys(),v=O.resolve();return g.forEach(D=>{v=v.next(()=>f.getEntry(c,D)).next(M=>{let T=u.docVersions.get(D);Te(T!==null),M.version.compareTo(T)<0&&(p.applyToRemoteDocument(M,u),M.isValidDocument()&&(M.setReadTime(u.commitVersion),f.addEntry(M)))})}),v.next(()=>l.mutationQueue.removeMutationBatch(c,p))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=me();for(let u=0;u<l.mutationResults.length;++u)l.mutationResults[u].transformResults.length>0&&(c=c.add(l.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function b1(n){let e=se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function QV(n,e){let t=se(n),r=e.snapshotVersion,o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;let l=[];e.targetChanges.forEach((f,p)=>{let g=o.get(p);if(!g)return;l.push(t.Ur.removeMatchingKeys(i,f.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(i,f.addedDocuments,p)));let v=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(wt.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,r)),o=o.insert(p,v),function(M,T,F){return M.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0}(g,v,f)&&l.push(t.Ur.updateTargetData(i,v))});let c=Ir(),u=me();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(t.persistence.referenceDelegate.updateLimboDocument(i,f))}),l.push(YV(i,s,e.documentUpdates).next(f=>{c=f.Ps,u=f.Is})),!r.isEqual(le.min())){let f=t.Ur.getLastRemoteSnapshotVersion(i).next(p=>t.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(f)}return O.waitFor(l).next(()=>s.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(t.os=o,i))}function YV(n,e,t){let r=me(),o=me();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let s=Ir();return t.forEach((l,c)=>{let u=i.get(l);c.isFoundDocument()!==u.isFoundDocument()&&(o=o.add(l)),c.isNoDocument()&&c.version.isEqual(le.min())?(e.removeEntry(l,c.readTime),s=s.insert(l,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(l,c)):W("LocalStore","Ignoring outdated watch update for ",l,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:o}})}function ZV(n,e){let t=se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function XV(n,e){let t=se(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Ur.getTargetData(r,e).next(i=>i?(o=i,O.resolve(o)):t.Ur.allocateTargetId(r).next(s=>(o=new Tl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,o).next(()=>o))))}).then(r=>{let o=t.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function Mv(n,e,t){return B(this,null,function*(){let r=se(n),o=r.os.get(e),i=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,o)))}catch(s){if(!Ol(s))throw s;W("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(o.target)})}function SD(n,e,t){let r=se(n),o=le.min(),i=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,f){let p=se(c),g=p._s.get(f);return g!==void 0?O.resolve(p.os.get(g)):p.Ur.getTargetData(u,f)}(r,s,$n(e)).next(l=>{if(l)return o=l.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,l.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?o:le.min(),t?i:me())).next(l=>(JV(r,pV(e),l),{documents:l,Ts:i})))}function JV(n,e,t){let r=n.us.get(e)||le.min();t.forEach((o,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.us.set(e,r)}var hh=class{constructor(){this.activeTargetIds=wV()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Rv=class{constructor(){this.so=new hh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new hh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Pv=class{_o(e){}shutdown(){}};var fh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){W("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){W("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Yd=null;function Db(){return Yd===null?Yd=function(){return 268435456+Math.round(2147483648*Math.random())}():Yd++,"0x"+Yd.toString(16)}var eL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Nv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var vt="WebChannelConnection",Ov=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${o}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${i}`}get Fo(){return!1}Mo(t,r,o,i,s){let l=Db(),c=this.xo(t,r.toUriEncodedString());W("RestConnection",`Sending RPC '${t}' ${l}:`,c,o);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,s),this.No(t,c,u,o).then(f=>(W("RestConnection",`Received RPC '${t}' ${l}: `,f),f),f=>{throw bs("RestConnection",`RPC '${t}' ${l} failed with error: `,f,"url: ",c,"request:",o),f})}Lo(t,r,o,i,s,l){return this.Mo(t,r,o,i,s)}Oo(t,r,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ms}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>t[s]=i),o&&o.headers.forEach((i,s)=>t[s]=i)}xo(t,r){let o=eL[t];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,o){let i=Db();return new Promise((s,l)=>{let c=new wb;c.setWithCredentials(!0),c.listenOnce(xb.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case ml.NO_ERROR:let f=c.getResponseJson();W(vt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(f)),s(f);break;case ml.TIMEOUT:W(vt,`RPC '${e}' ${i} timed out`),l(new Q(P.DEADLINE_EXCEEDED,"Request time out"));break;case ml.HTTP_ERROR:let p=c.getStatus();if(W(vt,`RPC '${e}' ${i} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let v=g?.error;if(v&&v.status&&v.message){let D=function(T){let F=T.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(F)>=0?F:P.UNKNOWN}(v.status);l(new Q(D,v.message))}else l(new Q(P.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new Q(P.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{W(vt,`RPC '${e}' ${i} completed.`)}});let u=JSON.stringify(o);W(vt,`RPC '${e}' ${i} sending request:`,o),c.send(t,"POST",u,r,15)})}Bo(e,t,r){let o=Db(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Eb(),l=Ib(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let f=i.join("");W(vt,`Creating RPC '${e}' stream ${o}: ${f}`,c);let p=s.createWebChannel(f,c),g=!1,v=!1,D=new Nv({Io:T=>{v?W(vt,`Not sending because RPC '${e}' stream ${o} is closed:`,T):(g||(W(vt,`Opening RPC '${e}' stream ${o} transport.`),p.open(),g=!0),W(vt,`RPC '${e}' stream ${o} sending:`,T),p.send(T))},To:()=>p.close()}),M=(T,F,G)=>{T.listen(F,V=>{try{G(V)}catch(ee){setTimeout(()=>{throw ee},0)}})};return M(p,us.EventType.OPEN,()=>{v||(W(vt,`RPC '${e}' stream ${o} transport opened.`),D.yo())}),M(p,us.EventType.CLOSE,()=>{v||(v=!0,W(vt,`RPC '${e}' stream ${o} transport closed`),D.So())}),M(p,us.EventType.ERROR,T=>{v||(v=!0,bs(vt,`RPC '${e}' stream ${o} transport errored:`,T),D.So(new Q(P.UNAVAILABLE,"The operation could not be completed")))}),M(p,us.EventType.MESSAGE,T=>{var F;if(!v){let G=T.data[0];Te(!!G);let V=G,ee=V.error||((F=V[0])===null||F===void 0?void 0:F.error);if(ee){W(vt,`RPC '${e}' stream ${o} received error:`,ee);let ge=ee.status,re=function(w){let _=Ze[w];if(_!==void 0)return l1(_)}(ge),x=ee.message;re===void 0&&(re=P.INTERNAL,x="Unknown error status: "+ge+" with message "+ee.message),v=!0,D.So(new Q(re,x)),p.close()}else W(vt,`RPC '${e}' stream ${o} received:`,G),D.bo(G)}}),M(l,_b.STAT_EVENT,T=>{T.stat===Kd.PROXY?W(vt,`RPC '${e}' stream ${o} detected buffering proxy`):T.stat===Kd.NOPROXY&&W(vt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}};function Tb(){return typeof document<"u"?document:null}function Fh(n){return new sv(n,!0)}var ph=class{constructor(e,t,r=1e3,o=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=o,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-r);o>0&&W("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var mh=class{constructor(e,t,r,o,i,s,l,c){this.ui=e,this.Ho=r,this.Jo=o,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ph(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return B(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return B(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return B(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Yo===t&&this.P_(r,o)},r=>{e(()=>{let o=new Q(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{r(()=>this.I_(o))}),this.stream.onMessage(o=>{r(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(()=>B(this,null,function*(){this.state=0,this.start()}))}I_(e){return W("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(W("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Fv=class extends mh{constructor(e,t,r,o,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=OV(this.serializer,e),r=function(i){if(!("targetChange"in i))return le.min();let s=i.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?zn(s.readTime):le.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=uv(this.serializer),t.addTarget=function(i,s){let l,c=s.target;if(l=Yb(c)?{documents:LV(i,c)}:{query:jV(i,c)._t},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=c1(i,s.resumeToken);let u=av(i,s.expectedCount);u!==null&&(l.expectedCount=u)}else if(s.snapshotVersion.compareTo(le.min())>0){l.readTime=uh(i,s.snapshotVersion.toTimestamp());let u=av(i,s.expectedCount);u!==null&&(l.expectedCount=u)}return l}(this.serializer,e);let r=UV(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=uv(this.serializer),t.removeTarget=e,this.a_(t)}},Vv=class extends mh{constructor(e,t,r,o,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=VV(e.writeResults,e.commitTime),r=zn(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=uv(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>FV(this.serializer,r))};this.a_(t)}};var Lv=class extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Q(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Mo(e,lv(t,r),o,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Q(P.UNKNOWN,i.toString())})}Lo(e,t,r,o,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Lo(e,lv(t,r),o,s,l,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Q(P.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},jv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xr(t),this.D_=!1):W("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Bv=class{constructor(e,t,r,o,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(s=>{r.enqueueAndForget(()=>B(this,null,function*(){Go(this)&&(W("RemoteStore","Restarting streams for network reachability change."),yield function(c){return B(this,null,function*(){let u=se(c);u.L_.add(4),yield Fl(u),u.q_.set("Unknown"),u.L_.delete(4),yield Vh(u)})}(this))}))}),this.q_=new jv(r,o)}};function Vh(n){return B(this,null,function*(){if(Go(n))for(let e of n.B_)yield e(!0)})}function Fl(n){return B(this,null,function*(){for(let e of n.B_)yield e(!1)})}function v1(n,e){let t=se(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),gy(t)?my(t):Rs(t).r_()&&py(t,e))}function fy(n,e){let t=se(n),r=Rs(t);t.N_.delete(e),r.r_()&&y1(t,e),t.N_.size===0&&(r.r_()?r.o_():Go(t)&&t.q_.set("Unknown"))}function py(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Rs(n).A_(e)}function y1(n,e){n.Q_.xe(e),Rs(n).R_(e)}function my(n){n.Q_=new iv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Rs(n).start(),n.q_.v_()}function gy(n){return Go(n)&&!Rs(n).n_()&&n.N_.size>0}function Go(n){return se(n).L_.size===0}function w1(n){n.Q_=void 0}function tL(n){return B(this,null,function*(){n.q_.set("Online")})}function nL(n){return B(this,null,function*(){n.N_.forEach((e,t)=>{py(n,e)})})}function rL(n,e){return B(this,null,function*(){w1(n),gy(n)?(n.q_.M_(e),my(n)):n.q_.set("Unknown")})}function oL(n,e,t){return B(this,null,function*(){if(n.q_.set("Online"),e instanceof lh&&e.state===2&&e.cause)try{yield function(o,i){return B(this,null,function*(){let s=i.cause;for(let l of i.targetIds)o.N_.has(l)&&(yield o.remoteSyncer.rejectListen(l,s),o.N_.delete(l),o.Q_.removeTarget(l))})}(n,e)}catch(r){W("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield gh(n,r)}else if(e instanceof ms?n.Q_.Ke(e):e instanceof ah?n.Q_.He(e):n.Q_.We(e),!t.isEqual(le.min()))try{let r=yield b1(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){let l=i.Q_.rt(s);return l.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let f=i.N_.get(u);f&&i.N_.set(u,f.withResumeToken(c.resumeToken,s))}}),l.targetMismatches.forEach((c,u)=>{let f=i.N_.get(c);if(!f)return;i.N_.set(c,f.withResumeToken(wt.EMPTY_BYTE_STRING,f.snapshotVersion)),y1(i,c);let p=new Tl(f.target,c,u,f.sequenceNumber);py(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){W("RemoteStore","Failed to raise snapshot:",r),yield gh(n,r)}})}function gh(n,e,t){return B(this,null,function*(){if(!Ol(e))throw e;n.L_.add(1),yield Fl(n),n.q_.set("Offline"),t||(t=()=>b1(n.localStore)),n.asyncQueue.enqueueRetryable(()=>B(this,null,function*(){W("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Vh(n)}))})}function x1(n,e){return e().catch(t=>gh(n,t,e))}function Lh(n){return B(this,null,function*(){let e=se(n),t=so(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;iL(e);)try{let o=yield ZV(e.localStore,r);if(o===null){e.O_.length===0&&t.o_();break}r=o.batchId,sL(e,o)}catch(o){yield gh(e,o)}_1(e)&&I1(e)})}function iL(n){return Go(n)&&n.O_.length<10}function sL(n,e){n.O_.push(e);let t=so(n);t.r_()&&t.V_&&t.m_(e.mutations)}function _1(n){return Go(n)&&!so(n).n_()&&n.O_.length>0}function I1(n){so(n).start()}function aL(n){return B(this,null,function*(){so(n).p_()})}function lL(n){return B(this,null,function*(){let e=so(n);for(let t of n.O_)e.m_(t.mutations)})}function cL(n,e,t){return B(this,null,function*(){let r=n.O_.shift(),o=tv.from(r,e,t);yield x1(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Lh(n)})}function uL(n,e){return B(this,null,function*(){e&&so(n).V_&&(yield function(r,o){return B(this,null,function*(){if(function(s){return TV(s)&&s!==P.ABORTED}(o.code)){let i=r.O_.shift();so(r).s_(),yield x1(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,o)),yield Lh(r)}})}(n,e)),_1(n)&&I1(n)})}function AD(n,e){return B(this,null,function*(){let t=se(n);t.asyncQueue.verifyOperationInProgress(),W("RemoteStore","RemoteStore received new credentials");let r=Go(t);t.L_.add(3),yield Fl(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Vh(t)})}function dL(n,e){return B(this,null,function*(){let t=se(n);e?(t.L_.delete(2),yield Vh(t)):e||(t.L_.add(2),yield Fl(t),t.q_.set("Unknown"))})}function Rs(n){return n.K_||(n.K_=function(t,r,o){let i=se(t);return i.w_(),new Fv(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(n.datastore,n.asyncQueue,{Eo:tL.bind(null,n),Ro:nL.bind(null,n),mo:rL.bind(null,n),d_:oL.bind(null,n)}),n.B_.push(e=>B(this,null,function*(){e?(n.K_.s_(),gy(n)?my(n):n.q_.set("Unknown")):(yield n.K_.stop(),w1(n))}))),n.K_}function so(n){return n.U_||(n.U_=function(t,r,o){let i=se(t);return i.w_(),new Vv(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:aL.bind(null,n),mo:uL.bind(null,n),f_:lL.bind(null,n),g_:cL.bind(null,n)}),n.B_.push(e=>B(this,null,function*(){e?(n.U_.s_(),yield Lh(n)):(yield n.U_.stop(),n.O_.length>0&&(W("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var Uv=class n{constructor(e,t,r,o,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=i,this.deferred=new Bn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,i){let s=Date.now()+r,l=new n(e,t,s,o,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Q(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function by(n,e){if(xr("AsyncQueue",`${e}: ${n}`),Ol(n))return new Q(P.UNAVAILABLE,`${e}: ${n}`);throw n}var bh=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||te.comparator(t.key,r.key):(t,r)=>te.comparator(t.key,r.key),this.keyedMap=bl(),this.sortedSet=new Ge(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let o=t.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var vh=class{constructor(){this.W_=new Ge(te.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},Ss=class n{constructor(e,t,r,o,i,s,l,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,o,i){let s=[];return t.forEach(l=>{s.push({type:0,doc:l})}),new n(e,t,bh.emptySet(t),s,r,o,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Nh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}};var $v=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},zv=class{constructor(){this.queries=kD(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let o=se(t),i=o.queries;o.queries=kD(),i.forEach((s,l)=>{for(let c of l.j_)c.onError(r)})})(this,new Q(P.ABORTED,"Firestore shutting down"))}};function kD(){return new io(n=>YD(n),Nh)}function E1(n,e){return B(this,null,function*(){let t=se(n),r=3,o=e.query,i=t.queries.get(o);i?!i.H_()&&e.J_()&&(r=2):(i=new $v,r=e.J_()?0:1);try{switch(r){case 0:i.z_=yield t.onListen(o,!0);break;case 1:i.z_=yield t.onListen(o,!1);break;case 2:yield t.onFirstRemoteStoreListen(o)}}catch(s){let l=by(s,`Initialization of query '${ds(e.query)}' failed`);return void e.onError(l)}t.queries.set(o,i),i.j_.push(e),e.Z_(t.onlineState),i.z_&&e.X_(i.z_)&&vy(t)})}function C1(n,e){return B(this,null,function*(){let t=se(n),r=e.query,o=3,i=t.queries.get(r);if(i){let s=i.j_.indexOf(e);s>=0&&(i.j_.splice(s,1),i.j_.length===0?o=e.J_()?0:1:!i.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function hL(n,e){let t=se(n),r=!1;for(let o of e){let i=o.query,s=t.queries.get(i);if(s){for(let l of s.j_)l.X_(o)&&(r=!0);s.z_=o}}r&&vy(t)}function fL(n,e,t){let r=se(n),o=r.queries.get(e);if(o)for(let i of o.j_)i.onError(t);r.queries.delete(e)}function vy(n){n.Y_.forEach(e=>{e.next()})}var Hv,MD;(MD=Hv||(Hv={})).ea="default",MD.Cache="cache";var yh=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let o of e.docChanges)o.type!==3&&r.push(o);e=new Ss(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=Ss.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Hv.Cache}};var wh=class{constructor(e){this.key=e}},xh=class{constructor(e){this.key=e}},qv=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=ZD(e),this.Ra=new bh(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new vh,o=t?t.Ra:this.Ra,i=t?t.mutatedKeys:this.mutatedKeys,s=o,l=!1,c=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,u=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((f,p)=>{let g=o.get(f),v=Oh(this.query,p)?p:null,D=!!g&&this.mutatedKeys.has(g.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),T=!1;g&&v?g.data.isEqual(v.data)?D!==M&&(r.track({type:3,doc:v}),T=!0):this.ga(g,v)||(r.track({type:2,doc:v}),T=!0,(c&&this.Aa(v,c)>0||u&&this.Aa(v,u)<0)&&(l=!0)):!g&&v?(r.track({type:0,doc:v}),T=!0):g&&!v&&(r.track({type:1,doc:g}),T=!0,(c||u)&&(l=!0)),T&&(v?(s=s.add(v),i=M?i.add(f):i.delete(f)):(s=s.delete(f),i=i.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),i=i.delete(f.key),r.track({type:1,doc:f})}return{Ra:s,fa:r,ns:l,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){let i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((f,p)=>function(v,D){let M=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return M(v)-M(D)}(f.type,p.type)||this.Aa(f.doc,p.doc)),this.pa(r),o=o!=null&&o;let l=t&&!o?this.ya():[],c=this.da.size===0&&this.current&&!o?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new Ss(this.query,e.Ra,i,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:l}:{wa:l}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new vh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new xh(r))}),this.da.forEach(r=>{e.has(r)||t.push(new wh(r))}),t}ba(e){this.Ta=e.Ts,this.da=me();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return Ss.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Gv=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Wv=class{constructor(e){this.key=e,this.va=!1}},Kv=class{constructor(e,t,r,o,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new io(l=>YD(l),Nh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ge(te.comparator),this.Na=new Map,this.La=new Al,this.Ba={},this.ka=new Map,this.qa=Sl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function pL(n,e,t=!0){return B(this,null,function*(){let r=M1(n),o,i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.Da()):o=yield D1(r,e,t,!0),o})}function mL(n,e){return B(this,null,function*(){let t=M1(n);yield D1(t,e,!0,!1)})}function D1(n,e,t,r){return B(this,null,function*(){let o=yield XV(n.localStore,$n(e)),i=o.targetId,s=n.sharedClientState.addLocalQueryTarget(i,t),l;return r&&(l=yield gL(n,e,i,s==="current",o.resumeToken)),n.isPrimaryClient&&t&&v1(n.remoteStore,o),l})}function gL(n,e,t,r,o){return B(this,null,function*(){n.Ka=(p,g,v)=>function(M,T,F,G){return B(this,null,function*(){let V=T.view.ma(F);V.ns&&(V=yield SD(M.localStore,T.query,!1).then(({documents:x})=>T.view.ma(x,V)));let ee=G&&G.targetChanges.get(T.targetId),ge=G&&G.targetMismatches.get(T.targetId)!=null,re=T.view.applyChanges(V,M.isPrimaryClient,ee,ge);return PD(M,T.targetId,re.wa),re.snapshot})}(n,p,g,v);let i=yield SD(n.localStore,e,!0),s=new qv(e,i.Ts),l=s.ma(i.documents),c=Dl.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),u=s.applyChanges(l,n.isPrimaryClient,c);PD(n,t,u.wa);let f=new Gv(e,t,s);return n.Fa.set(e,f),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function bL(n,e,t){return B(this,null,function*(){let r=se(n),o=r.Fa.get(e),i=r.Ma.get(o.targetId);if(i.length>1)return r.Ma.set(o.targetId,i.filter(s=>!Nh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Mv(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&fy(r.remoteStore,o.targetId),Qv(r,o.targetId)}).catch(Nl))):(Qv(r,o.targetId),yield Mv(r.localStore,o.targetId,!0))})}function vL(n,e){return B(this,null,function*(){let t=se(n),r=t.Fa.get(e),o=t.Ma.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),fy(t.remoteStore,r.targetId))})}function yL(n,e,t){return B(this,null,function*(){let r=DL(n);try{let o=yield function(s,l){let c=se(s),u=ct.now(),f=l.reduce((v,D)=>v.add(D.key),me()),p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let D=Ir(),M=me();return c.cs.getEntries(v,f).next(T=>{D=T,D.forEach((F,G)=>{G.isValidDocument()||(M=M.add(F))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,D)).next(T=>{p=T;let F=[];for(let G of l){let V=DV(G,p.get(G.key).overlayedDocument);V!=null&&F.push(new Wn(G.key,V,HD(V.value.mapValue),wr.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,F,l)}).next(T=>{g=T;let F=T.applyToLocalDocumentSet(p,M);return c.documentOverlayCache.saveOverlays(v,T.batchId,F)})}).then(()=>({batchId:g.batchId,changes:JD(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(s,l,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new Ge(Ie)),u=u.insert(l,c),s.Ba[s.currentUser.toKey()]=u}(r,o.batchId,t),yield Vl(r,o.changes),yield Lh(r.remoteStore)}catch(o){let i=by(o,"Failed to persist write");t.reject(i)}})}function T1(n,e){return B(this,null,function*(){let t=se(n);try{let r=yield QV(t.localStore,e);e.targetChanges.forEach((o,i)=>{let s=t.Na.get(i);s&&(Te(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?s.va=!0:o.modifiedDocuments.size>0?Te(s.va):o.removedDocuments.size>0&&(Te(s.va),s.va=!1))}),yield Vl(t,r,e)}catch(r){yield Nl(r)}})}function RD(n,e,t){let r=se(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let o=[];r.Fa.forEach((i,s)=>{let l=s.view.Z_(e);l.snapshot&&o.push(l.snapshot)}),function(s,l){let c=se(s);c.onlineState=l;let u=!1;c.queries.forEach((f,p)=>{for(let g of p.j_)g.Z_(l)&&(u=!0)}),u&&vy(c)}(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function wL(n,e,t){return B(this,null,function*(){let r=se(n);r.sharedClientState.updateQueryState(e,"rejected",t);let o=r.Na.get(e),i=o&&o.key;if(i){let s=new Ge(te.comparator);s=s.insert(i,In.newNoDocument(i,le.min()));let l=me().add(i),c=new sh(le.min(),new Map,new Ge(Ie),s,l);yield T1(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),yy(r)}else yield Mv(r.localStore,e,!1).then(()=>Qv(r,e,t)).catch(Nl)})}function xL(n,e){return B(this,null,function*(){let t=se(n),r=e.batch.batchId;try{let o=yield KV(t.localStore,e);A1(t,r,null),S1(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vl(t,o)}catch(o){yield Nl(o)}})}function _L(n,e,t){return B(this,null,function*(){let r=se(n);try{let o=yield function(s,l){let c=se(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let f;return c.mutationQueue.lookupMutationBatch(u,l).next(p=>(Te(p!==null),f=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,f,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f)).next(()=>c.localDocuments.getDocuments(u,f))})}(r.localStore,e);A1(r,e,t),S1(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vl(r,o)}catch(o){yield Nl(o)}})}function S1(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function A1(n,e,t){let r=se(n),o=r.Ba[r.currentUser.toKey()];if(o){let i=o.get(e);i&&(t?i.reject(t):i.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function Qv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||k1(n,r)})}function k1(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(fy(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),yy(n))}function PD(n,e,t){for(let r of t)r instanceof wh?(n.La.addReference(r.key,e),IL(n,r)):r instanceof xh?(W("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||k1(n,r.key)):ne()}function IL(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(W("SyncEngine","New document in limbo: "+t),n.xa.add(r),yy(n))}function yy(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new te(qe.fromString(e)),r=n.qa.next();n.Na.set(r,new Wv(t)),n.Oa=n.Oa.insert(t,r),v1(n.remoteStore,new Tl($n(Ph(t.path)),r,"TargetPurposeLimboResolution",BD.oe))}}function Vl(n,e,t){return B(this,null,function*(){let r=se(n),o=[],i=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((l,c)=>{s.push(r.Ka(c,e,t).then(u=>{var f;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(f=t?.targetChanges.get(c.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){o.push(u);let p=Tv.Wi(c.targetId,u);i.push(p)}}))}),yield Promise.all(s),r.Ca.d_(o),yield function(c,u){return B(this,null,function*(){let f=se(c);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(u,g=>O.forEach(g.$i,v=>f.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>O.forEach(g.Ui,v=>f.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!Ol(p))throw p;W("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let g=p.targetId;if(!p.fromCache){let v=f.os.get(g),D=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(D);f.os=f.os.insert(g,M)}}})}(r.localStore,i))})}function EL(n,e){return B(this,null,function*(){let t=se(n);if(!t.currentUser.isEqual(e)){W("SyncEngine","User change. New user:",e.toKey());let r=yield g1(t.localStore,e);t.currentUser=e,function(i,s){i.ka.forEach(l=>{l.forEach(c=>{c.reject(new Q(P.CANCELLED,s))})}),i.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vl(t,r.hs)}})}function CL(n,e){let t=se(n),r=t.Na.get(e);if(r&&r.va)return me().add(r.key);{let o=me(),i=t.Ma.get(e);if(!i)return o;for(let s of i){let l=t.Fa.get(s);o=o.unionWith(l.view.Va)}return o}}function M1(n){let e=se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=T1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=CL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wL.bind(null,e),e.Ca.d_=hL.bind(null,e.eventManager),e.Ca.$a=fL.bind(null,e.eventManager),e}function DL(n){let e=se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_L.bind(null,e),e}var ND=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return B(this,null,function*(){this.serializer=Fh(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return WV(this.persistence,new Av,t.initialUser,this.serializer)}Ga(t){return new Ev(Dv.Zr,this.serializer)}Wa(t){return new Rv}terminate(){return B(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var TL=(()=>{class n{initialize(t,r){return B(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>RD(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=EL.bind(null,this.syncEngine),yield dL(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new zv}()}createDatastore(t){let r=Fh(t.databaseInfo.databaseId),o=function(s){return new Ov(s)}(t.databaseInfo);return function(s,l,c,u){return new Lv(s,l,c,u)}(t.authCredentials,t.appCheckCredentials,o,r)}createRemoteStore(t){return function(o,i,s,l,c){return new Bv(o,i,s,l,c)}(this.localStore,this.datastore,t.asyncQueue,r=>RD(this.syncEngine,r,0),function(){return fh.D()?new fh:new Pv}())}createSyncEngine(t,r){return function(i,s,l,c,u,f,p){let g=new Kv(i,s,l,c,u,f);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return B(this,null,function*(){var t,r;yield function(i){return B(this,null,function*(){let s=se(i);W("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield Fl(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var _h=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):xr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Yv=class{constructor(e,t,r,o,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=it.UNAUTHENTICATED,this.clientId=eh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,s=>B(this,null,function*(){W("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(W("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Bn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>B(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=by(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Sb(n,e){return B(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),W("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(o=>B(this,null,function*(){r.isEqual(o)||(yield g1(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function OD(n,e){return B(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield SL(n);W("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>AD(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>AD(e.remoteStore,o)),n._onlineComponents=e})}function SL(n){return B(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){W("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Sb(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(o){return o.name==="FirebaseError"?o.code===P.FAILED_PRECONDITION||o.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;bs("Error using user provided cache. Falling back to memory cache: "+t),yield Sb(n,new ND)}}else W("FirestoreClient","Using default OfflineComponentProvider"),yield Sb(n,new ND);return n._offlineComponents})}function R1(n){return B(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(W("FirestoreClient","Using user provided OnlineComponentProvider"),yield OD(n,n._uninitializedComponentsProvider._online)):(W("FirestoreClient","Using default OnlineComponentProvider"),yield OD(n,new TL))),n._onlineComponents})}function AL(n){return R1(n).then(e=>e.syncEngine)}function Zv(n){return B(this,null,function*(){let e=yield R1(n),t=e.eventManager;return t.onListen=pL.bind(null,e.syncEngine),t.onUnlisten=bL.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=mL.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vL.bind(null,e.syncEngine),t})}function kL(n,e,t={}){let r=new Bn;return n.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return function(i,s,l,c,u){let f=new _h({next:g=>{f.Za(),s.enqueueAndForget(()=>C1(i,p));let v=g.docs.has(l);!v&&g.fromCache?u.reject(new Q(P.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&c.source==="server"?u.reject(new Q(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new yh(Ph(l.path),f,{includeMetadataChanges:!0,_a:!0});return E1(i,p)}(yield Zv(n),n.asyncQueue,e,t,r)})),r.promise}function P1(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var FD=new Map;function N1(n,e,t){if(!t)throw new Q(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ML(n,e,t,r){if(e===!0&&r===!0)throw new Q(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function VD(n){if(!te.isDocumentKey(n))throw new Q(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function LD(n){if(te.isDocumentKey(n))throw new Q(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function wy(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ne()}function Hn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Q(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=wy(n);throw new Q(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Ih=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Q(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Q(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ML("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=P1((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Q(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Q(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Q(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},As=class{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ih({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Q(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Q(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ih(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Ab;switch(r.type){case"firstParty":return new Pb(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Q(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return B(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=FD.get(t);r&&(W("ComponentProvider","Removing Datastore"),FD.delete(t),r.terminate())}(this),Promise.resolve()}};function O1(n,e,t,r={}){var o;let i=(n=Hn(n,As))._getSettings(),s=`${e}:${t}`;if(i.host!=="firestore.googleapis.com"&&i.host!==s&&bs("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=it.MOCK_USER;else{l=L0(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Q(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new it(u)}n._authCredentials=new kb(new Jd(l,c))}}var Eh=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},Vt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ro(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},ro=class n extends Eh{constructor(e,t,r){super(e,t,Ph(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Vt(this.firestore,null,new te(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function F1(n,e,...t){if(n=cn(n),N1("collection","path",e),n instanceof As){let r=qe.fromString(e,...t);return LD(r),new ro(n,null,r)}{if(!(n instanceof Vt||n instanceof ro))throw new Q(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(qe.fromString(e,...t));return LD(r),new ro(n.firestore,null,r)}}function xy(n,e,...t){if(n=cn(n),arguments.length===1&&(e=eh.newId()),N1("doc","path",e),n instanceof As){let r=qe.fromString(e,...t);return VD(r),new Vt(n,null,new te(r))}{if(!(n instanceof Vt||n instanceof ro))throw new Q(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(qe.fromString(e,...t));return VD(r),new Vt(n.firestore,n instanceof ro?n.converter:null,new te(r))}}var Ch=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new ph(this,"async_queue_retry"),this.Vu=()=>{let r=Tb();r&&W("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=Tb();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=Tb();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Bn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return B(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ol(e))throw e;W("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let o=function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),l}(r);throw xr("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let o=Uv.createAndSchedule(this,e,t,r,i=>this.yu(i));return this.Tu.push(o),o}fu(){this.Eu&&ne()}verifyOperationInProgress(){}wu(){return B(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function jD(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let o=t;for(let i of r)if(i in o&&typeof o[i]=="function")return!0;return!1}(n,["next","error","complete"])}var Er=class extends As{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new Ch,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return B(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ch(e),this._firestoreClient=void 0,yield e}})}};function V1(n,e){let t=typeof n=="object"?n:na(),r=typeof n=="string"?n:e||"(default)",o=Af(t,"firestore").getImmediate({identifier:r});if(!o._initialized){let i=V0("firestore");i&&O1(o,...i)}return o}function _y(n){if(n._terminated)throw new Q(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||RL(n),n._firestoreClient}function RL(n){var e,t,r;let o=n._freezeSettings(),i=function(l,c,u,f){return new Lb(l,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,P1(f.experimentalLongPollingOptions),f.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Yv(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(l){let c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}}(n._componentsProvider))}var kl=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(wt.fromBase64String(e))}catch(t){throw new Q(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(wt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ks=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Q(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Ml=class{constructor(e){this._methodName=e}};var Rl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Q(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Q(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}};var Pl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==o[i])return!1;return!0}(this._values,e._values)}};var PL=/^__.*__$/,Xv=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Wn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ho(e,this.data,t,this.fieldTransforms)}},Dh=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Wn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function L1(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var Jv=class n{constructor(e,t,r,o,i,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:r,xu:!1});return o.Ou(e),o}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Sh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(L1(this.Cu)&&PL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},ey=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Fh(e)}Qu(e,t,r,o=!1){return new Jv({Cu:e,methodName:t,qu:r,path:Gt.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function j1(n){let e=n._freezeSettings(),t=Fh(n._databaseId);return new ey(n._databaseId,!!e.ignoreUndefinedProperties,t)}function NL(n,e,t,r,o,i={}){let s=n.Qu(i.merge||i.mergeFields?2:0,e,t,o);Iy("Data must be an object, but it was:",s,r);let l=B1(r,s),c,u;if(i.merge)c=new an(s.fieldMask),u=s.fieldTransforms;else if(i.mergeFields){let f=[];for(let p of i.mergeFields){let g=ty(e,p,t);if(!s.contains(g))throw new Q(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);$1(f,g)||f.push(g)}c=new an(f),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new Xv(new qt(l),c,u)}var Th=class n extends Ml{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function OL(n,e,t,r){let o=n.Qu(1,e,t);Iy("Data must be an object, but it was:",o,r);let i=[],s=qt.empty();qo(r,(c,u)=>{let f=Ey(e,c,t);u=cn(u);let p=o.Nu(f);if(u instanceof Th)i.push(f);else{let g=jh(u,p);g!=null&&(i.push(f),s.set(f,g))}});let l=new an(i);return new Dh(s,l,o.fieldTransforms)}function FL(n,e,t,r,o,i){let s=n.Qu(1,e,t),l=[ty(e,r,t)],c=[o];if(i.length%2!=0)throw new Q(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)l.push(ty(e,i[g])),c.push(i[g+1]);let u=[],f=qt.empty();for(let g=l.length-1;g>=0;--g)if(!$1(u,l[g])){let v=l[g],D=c[g];D=cn(D);let M=s.Nu(v);if(D instanceof Th)u.push(v);else{let T=jh(D,M);T!=null&&(u.push(v),f.set(v,T))}}let p=new an(u);return new Dh(f,p,s.fieldTransforms)}function jh(n,e){if(U1(n=cn(n)))return Iy("Unsupported field value:",e,n),B1(n,e);if(n instanceof Ml)return function(r,o){if(!L1(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);let i=r._toFieldTransform(o);i&&o.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,o){let i=[],s=0;for(let l of r){let c=jh(l,o.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(n,e)}return function(r,o){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xV(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let i=ct.fromDate(r);return{timestampValue:uh(o.serializer,i)}}if(r instanceof ct){let i=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(o.serializer,i)}}if(r instanceof Rl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kl)return{bytesValue:c1(o.serializer,r._byteString)};if(r instanceof Vt){let i=o.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw o.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:hy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Pl)return function(s,l){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw l.Bu("VectorValues must only contain numeric values.");return dy(l.serializer,c)})}}}}}}(r,o);throw o.Bu(`Unsupported field value: ${wy(r)}`)}(n,e)}function B1(n,e){let t={};return UD(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qo(n,(r,o)=>{let i=jh(o,e.Mu(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function U1(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ct||n instanceof Rl||n instanceof kl||n instanceof Vt||n instanceof Ml||n instanceof Pl)}function Iy(n,e,t){if(!U1(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){let r=wy(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function ty(n,e,t){if((e=cn(e))instanceof ks)return e._internalPath;if(typeof e=="string")return Ey(n,e);throw Sh("Field path arguments must be of type string or ",n,!1,void 0,t)}var VL=new RegExp("[~\\*/\\[\\]]");function Ey(n,e,t){if(e.search(VL)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ks(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sh(n,e,t,r,o){let i=r&&!r.isEmpty(),s=o!==void 0,l=`Function ${e}() called with invalid data`;t&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||s)&&(c+=" (found",i&&(c+=` in field ${r}`),s&&(c+=` in document ${o}`),c+=")"),new Q(P.INVALID_ARGUMENT,l+n+c)}function $1(n,e){return n.some(t=>t.isEqual(e))}var Ah=class{constructor(e,t,r,o,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new ny(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(z1("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},ny=class extends Ah{data(){return super.data()}};function z1(n,e){return typeof e=="string"?Ey(n,e):e instanceof ks?e._internalPath:e._delegate._internalPath}function LL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Q(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ry=class{convertValue(e,t="none"){switch(Uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return qo(e,(o,i)=>{r[o]=this.convertValue(i,t)}),r}convertVectorValue(e){var t,r,o;let i=(o=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(s=>Ue(s.doubleValue));return new Pl(i)}convertGeoPoint(e){return new Rl(Ue(e.latitude),Ue(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=ay(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Il(e));default:return null}}convertTimestamp(e){let t=_r(e);return new ct(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=qe.fromString(e);Te(m1(r));let o=new oh(r.get(1),r.get(3)),i=new te(r.popFirst(5));return o.isEqual(t)||xr(`Document ${i} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}};function jL(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Lo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},kh=class extends Ah{constructor(e,t,r,o,i,s){super(e,t,r,o,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new gs(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(z1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},gs=class extends kh{data(e={}){return super.data(e)}},oy=class{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Lo(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new gs(this._firestore,this._userDataWriter,r.key,r,new Lo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Q(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,i){if(o._snapshot.oldDocs.isEmpty()){let s=0;return o._snapshot.docChanges.map(l=>{let c=new gs(o._firestore,o._userDataWriter,l.doc.key,l.doc,new Lo(o._snapshot.mutatedKeys.has(l.doc.key),o._snapshot.fromCache),o.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{let c=new gs(o._firestore,o._userDataWriter,l.doc.key,l.doc,new Lo(o._snapshot.mutatedKeys.has(l.doc.key),o._snapshot.fromCache),o.query.converter),u=-1,f=-1;return l.type!==0&&(u=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:BL(l.type),doc:c,oldIndex:u,newIndex:f}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function BL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}function H1(n){n=Hn(n,Vt);let e=Hn(n.firestore,Er);return kL(_y(e),n._key).then(t=>K1(e,n,t))}var Mh=class extends ry{constructor(e){super(),this.firestore=e}convertBytes(e){return new kl(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Vt(this.firestore,null,t)}};function q1(n,e,t,...r){n=Hn(n,Vt);let o=Hn(n.firestore,Er),i=j1(o),s;return s=typeof(e=cn(e))=="string"||e instanceof ks?FL(i,"updateDoc",n._key,e,t,r):OL(i,"updateDoc",n._key,e),Dy(o,[s.toMutation(n._key,wr.exists(!0))])}function G1(n){return Dy(Hn(n.firestore,Er),[new Cl(n._key,wr.none())])}function W1(n,e){let t=Hn(n.firestore,Er),r=xy(n),o=jL(n.converter,e);return Dy(t,[NL(j1(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,wr.exists(!1))]).then(()=>r)}function Cy(n,...e){var t,r,o;n=cn(n);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||jD(e[s])||(i=e[s],s++);let l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(jD(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(o=p.complete)===null||o===void 0?void 0:o.bind(p)}let c,u,f;if(n instanceof Vt)u=Hn(n.firestore,Er),f=Ph(n._key.path),c={next:p=>{e[s]&&e[s](K1(u,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Hn(n,Eh);u=Hn(p.firestore,Er),f=p._query;let g=new Mh(u);c={next:v=>{e[s]&&e[s](new oy(u,g,p,v))},error:e[s+1],complete:e[s+2]},LL(n._query)}return function(g,v,D,M){let T=new _h(M),F=new yh(v,T,D);return g.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return E1(yield Zv(g),F)})),()=>{T.Za(),g.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return C1(yield Zv(g),F)}))}}(_y(u),f,l,c)}function Dy(n,e){return function(r,o){let i=new Bn;return r.asyncQueue.enqueueAndForget(()=>B(this,null,function*(){return yL(yield AL(r),o,i)})),i.promise}(_y(n),e)}function K1(n,e,t){let r=t.docs.get(e._key),o=new Mh(n);return new kh(n,o,e._key,r,new Lo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Ms=o})(z0),ta(new ea("firestore",(r,{instanceIdentifier:o,options:i})=>{let s=r.getProvider("app").getImmediate(),l=new Er(new Mb(r.getProvider("auth-internal")),new Ob(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Q(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new oh(u.options.projectId,f)}(s,o),s);return i=Object.assign({useFetchStreams:t},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),It(lD,"4.7.3",e),It(lD,"4.7.3","esm2017")})();var Bh=function(){return Bh=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},Bh.apply(this,arguments)};var zL={includeMetadataChanges:!1};function Q1(n,e){return e===void 0&&(e=zL),new ae(function(t){var r=Cy(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Y1(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Bh(Bh({},r),(t={},t[e.idField]=n.id,t))}function Z1(n){return Q1(n,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}function X1(n,e){return e===void 0&&(e={}),Z1(n).pipe(X(function(t){return t.map(function(r){return Y1(r,e)})}))}var Cr=class{constructor(e){return e}},J1="firestore",Ty=class{constructor(){return dl(J1)}};var Sy=new H("angularfire2.firestore-instances");function HL(n,e){let t=cb(J1,n,e);return t&&new Cr(t)}function qL(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Cr(r)}}var GL={provide:Ty,deps:[[new kt,Sy]]},WL={provide:Cr,useFactory:HL,deps:[[new kt,Sy],Oo]};function Ay(n,...e){return It("angularfire",wn.full,"fst"),Rn([WL,GL,{provide:Sy,useFactory:qL(n),multi:!0,deps:[ve,At,No,hl,[new kt,Gd],[new kt,eo],...e]}])}var eT=xn(X1,!0);var tT=xn(W1,!0);var Uh=xn(F1,!0);var nT=xn(G1,!0);var $h=xn(xy,!0);var rT=xn(H1,!0);var ky=xn(V1,!0);var oT=xn(q1,!0);var zh=class n{constructor(e){this.fireStore=e}commandes=[];getCommandes(){return this.commandes}addCommande(e,t,r){let o={userId:e,montant:r,dateCommande:new Date,details:t},i=Uh(this.fireStore,"orders");tT(i,o).then(()=>console.log("data created",o)).catch(s=>console.log(s))}getAllOrders(){let e=Uh(this.fireStore,"orders");return eT(e,{idField:"id"})}getOrderId(e){let t=Uh(this.fireStore,"orders"),r=$h(this.fireStore,"orders",e);return rT(r)}updateOrder(e){let t=$h(this.fireStore,"products",e);oT(t,{name:"updated name",montant:1e3}).then(()=>console.log(`Order with ${e} updated successfully ! `)).catch(o=>console.log(o))}deleteOrder(e){let t=$h(this.fireStore,"orders",e);nT(t).then(()=>console.log("data deleted !")).catch(r=>console.log(r))}static \u0275fac=function(t){return new(t||n)(U(Cr))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function YL(n,e){if(n&1){let t=$t();A(0,"div",19)(1,"div",20),Y(2,"img",21),A(3,"div",22)(4,"h5",23),R(5),k(),A(6,"p",24)(7,"strong"),R(8,"Price:"),k(),R(9),k(),A(10,"div",25)(11,"button",26),xe("click",function(){let o=nt(t).$implicit,i=Me(2);return rt(i.decrementQuantity(o.produit))}),R(12,"-"),k(),A(13,"span"),R(14),k(),A(15,"button",26),xe("click",function(){let o=nt(t).$implicit,i=Me(2);return rt(i.incrementQuantity(o.produit))}),R(16,"+"),k()(),A(17,"p",27)(18,"strong"),R(19,"Total:"),k(),R(20),k(),A(21,"button",28),xe("click",function(){let o=nt(t).$implicit,i=Me(2);return rt(i.removeItem(o.produit))}),R(22," Remove "),Y(23,"i",29),k()()()()}if(n&2){let t=e.$implicit;q(2),xa("alt",t.produit.description),J("src",t.produit.thumbnail,Eo),q(3),Rt(t.produit.description),q(4),nn(" ",t.produit.price," USD"),q(5),Rt(t.qte),q(6),nn(" ",t.qte*t.produit.price," USD")}}function ZL(n,e){if(n&1&&(A(0,"div",17),Ce(1,YL,24,6,"div",18),k()),n&2){let t=Me();q(),J("ngForOf",t.detailsPanier)}}function XL(n,e){n&1&&(A(0,"div",14)(1,"h5"),R(2,"No products in the cart"),k(),A(3,"p"),R(4,"Please browse our products and add them to your cart."),k()())}var Hh=class n{constructor(e,t,r,o){this.servicePanel=e;this.router=t;this.commandeService=r;this.authService=o}detailsPanier=[];montantTotal=0;ngOnInit(){this.servicePanel.getAllCartProducts().subscribe(e=>{this.detailsPanier=e,this.updatePanierDetails()})}updatePanierDetails(){this.montantTotal=this.totalPrice}validerPanier(){this.detailsPanier.length>0?(console.log("valider comm"+this.authService.UserId),this.commandeService.addCommande(this.authService.UserId,this.detailsPanier,this.montantTotal),console.log("Commande valid\xE9e !"),this.router.navigate(["/mes-commandes"]),this.detailsPanier=[],this.montantTotal=0,this.servicePanel.clearCart()):console.log("Le panier est vide")}get totalPrice(){return this.detailsPanier.reduce((e,t)=>e+t.qte*t.produit.price,0)}incrementQuantity(e){this.servicePanel.incrementQuantity(e)}decrementQuantity(e){this.servicePanel.decrementQuantity(e)}removeItem(e){this.servicePanel.removeItem(e)}continueShopping(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||n)(j(cs),j(We),j(zh),j(bt))};static \u0275cmp=Le({type:n,selectors:[["app-panier"]],standalone:!0,features:[Be],decls:30,vars:4,consts:[["Empty",""],["id","panier-items"],[1,"container","text-center","mt-5","py-5"],["src","https://tse4.mm.bing.net/th?id=OIP.TZB7xx-eSpjQcjX3tfUYSwHaHa&pid=Api&P=0&h=180","alt","Cart Icon",2,"height","140px"],[1,"mx-auto"],["src","https://tse1.mm.bing.net/th?id=OIP.RYwKPeMKqUiHa5B7emHvYQHaHa&pid=Api&P=0&h=180","alt","Favorite Icon",2,"height","30px"],[1,"container","my-5"],[1,"row"],[1,"col-lg-8"],["class","d-flex flex-wrap",4,"ngIf","ngIfElse"],[1,"col-lg-4"],[1,"cart-summary","p-4","bg-light","shadow-sm","rounded"],[1,"text-center"],[1,"btn","btn-primary","w-100","mt-3"],[1,"text-center","my-5"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-success",3,"click"],[1,"d-flex","flex-wrap"],["class","d-flex mb-4 p-3",4,"ngFor","ngForOf"],[1,"d-flex","mb-4","p-3"],[1,"card","h-100","shadow","d-flex","flex-row",2,"width","100%"],[1,"card-img-left",2,"width","180px","height","140px","object-fit","cover","border-radius","5px 0 0 5px",3,"src","alt"],[1,"card-body","d-flex","flex-column","justify-content-between",2,"width","calc(100% - 180px)"],[1,"card-title"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center","my-2"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"text-right","mb-2"],[1,"btn","btn-sm","btn-danger","w-100",3,"click"],[1,"fas","fa-trash-alt"]],template:function(t,r){if(t&1){let o=$t();A(0,"section",1)(1,"div",2),Y(2,"img",3)(3,"hr",4),A(4,"p"),Y(5,"img",5),R(6," Your favorite items are waiting. Don\u2019t wait to complete your order. "),k()()(),A(7,"div",6)(8,"div",7)(9,"div",8),Ce(10,ZL,2,1,"div",9)(11,XL,5,0,"ng-template",null,0,EI),k(),A(13,"div",10)(14,"div",11)(15,"h5",12),R(16,"Cart Summary"),k(),Y(17,"hr"),A(18,"h4")(19,"strong"),R(20,"Total:"),k(),R(21),k(),A(22,"button",13),R(23),k()()()(),A(24,"div",14),Y(25,"hr"),A(26,"button",15),xe("click",function(){return nt(o),rt(r.continueShopping())}),R(27,"Continue Shopping"),k(),A(28,"button",16),xe("click",function(){return nt(o),rt(r.validerPanier())}),R(29,"Place Order"),k()()()}if(t&2){let o=_I(12);q(10),J("ngIf",r.detailsPanier.length>0)("ngIfElse",o),q(11),nn(" ",r.totalPrice," USD"),q(2),nn("Checkout (",r.totalPrice," USD)")}},dependencies:[et,Nn,Ot],styles:[".orders-section[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:2rem 1rem;border-radius:8px}.card[_ngcontent-%COMP%]{flex-direction:row;border-radius:5px}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.card-img-left[_ngcontent-%COMP%]{border-radius:5px 0 0 5px}.cart-summary[_ngcontent-%COMP%]{max-width:320px;margin-top:20px}.btn-danger[_ngcontent-%COMP%]{background:linear-gradient(45deg,#ff4a4a,#ff9a9a);color:#fff;border:none}.btn-primary[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{background:linear-gradient(45deg,#007bff,#00ff96);color:#fff}.btn-outline-secondary[_ngcontent-%COMP%]{background-color:transparent;color:#555;border:1px solid #ddd;border-radius:5px}hr[_ngcontent-%COMP%]{border-top:1px solid #eee}"]})};var qh=class{id=0;thumbnail="";description="";category="";price=0;stock=0;constructor(e,t,r,o,i,s){this.id=e,this.thumbnail=t,this.description=r,this.category=o,this.price=i,this.stock=s}};var Kn=class n{constructor(e){this.http=e}baseUrl="https://dummyjson.com/products";getProducts(){return this.http.get("https://dummyjson.com/products")}getAllCategories(){return this.http.get("https://dummyjson.com/products/category-list")}getProductsByCategory(e){return this.http.get(`https://dummyjson.com/products/category/${e}`).pipe(X(t=>t.products.map(r=>new qh(r.id,r.thumbnail,r.description,r.category,r.price,r.stock))))}getProductById(e){return this.http.get(`${this.baseUrl}/${e}`)}static \u0275fac=function(t){return new(t||n)(U(Aa))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var JL=()=>[1,2,3,4,5,6,7,8,9,10],e3=n=>({active:n});function t3(n,e){n&1&&(A(0,"button",18),R(1,"Out of Stock"),k())}function n3(n,e){if(n&1){let t=$t();A(0,"span",19),xe("click",function(){let o=nt(t).$implicit,i=Me();return rt(i.rateProduct(o))}),R(1," \u2605 "),k()}if(n&2){let t=e.$implicit,r=Me();J("ngClass",Oi(1,e3,t<=r.selectedRating))}}function r3(n,e){if(n&1){let t=$t();A(0,"div",22)(1,"div",23),Y(2,"img",24),k(),A(3,"div",25)(4,"p",26),R(5),k(),A(6,"button",27),xe("click",function(){let o=nt(t).index,i=Me(2);return rt(i.deleteComment(o))}),R(7,"Delete"),k()()()}if(n&2){let t=e.$implicit;q(5),Rt(t.commentaire)}}function o3(n,e){if(n&1&&(A(0,"div",20)(1,"h5"),R(2,"Comments:"),k(),Ce(3,r3,8,1,"div",21),k()),n&2){let t=Me();q(3),J("ngForOf",t.comments)}}var Wo=class n{constructor(e,t,r){this.route=e;this.productService=t;this.authService=r}product;comment;comments=[];newComment="";selectedRating=0;isUserLoggedIn(){return this.authService.isAuthenticated()}rateProduct(e){this.isUserLoggedIn()?this.selectedRating=e:alert("You must be logged in to rate this product.")}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.productService.getProductById(+e).subscribe(t=>{this.product=t})}submitComment1(){if(this.isUserLoggedIn())if(this.newComment.trim()){let e={id:this.comments.length+1,commentaire:this.newComment,rating:this.selectedRating};this.comments.push(e),this.newComment=""}else alert("Comment field is empty.");else alert("You must be logged in to submit a comment.")}deleteComment(e){this.comments.splice(e,1)}static \u0275fac=function(t){return new(t||n)(j(sn),j(Kn),j(bt))};static \u0275cmp=Le({type:n,selectors:[["app-datail-product"]],inputs:{product:"product",comment:"comment"},standalone:!0,features:[Be],decls:39,vars:12,consts:[["id","panier-items",1,"text-center"],[1,"container","mt-5","py-5"],["src","https://tse4.mm.bing.net/th?id=OIP.TZB7xx-eSpjQcjX3tfUYSwHaHa&pid=Api&P=0&h=180",2,"height","80px"],[1,"mx-auto"],["src","https://tse1.mm.bing.net/th?id=OIP.RYwKPeMKqUiHa5B7emHvYQHaHa&pid=Api&P=0&h=180",2,"height","30px"],[1,"product-container","d-flex","justify-content-between","align-items-start",2,"margin-top","10px"],[1,"product-image",2,"margin-left","5%"],[3,"src","alt"],[1,"product-details",2,"margin-left","5%"],[1,"product-actions"],["class","btn-disabled","disabled","",4,"ngIf"],[1,"rating-section","mt-4",2,"margin-left","31%"],[1,"star-rating"],["class","star",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"comment-section","mt-4"],["rows","5","placeholder","Write your comment here...",1,"form-control","comment-input",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","mt-3","submit-button",3,"click"],["class","comment-list mt-4",4,"ngIf"],["disabled","",1,"btn-disabled"],[1,"star",3,"click","ngClass"],[1,"comment-list","mt-4"],["class","comment-item d-flex align-items-start mb-3",4,"ngFor","ngForOf"],[1,"comment-item","d-flex","align-items-start","mb-3"],[1,"comment-avatar"],["src","https://tse2.mm.bing.net/th?id=OIP.dHYGk2RscB7-3tATNN7jVwHaHa&pid=Api&P=0&h=180","alt","User Avatar"],[1,"comment-content"],[1,"comment-text"],[1,"btn","btn-sm","btn-danger","delete-button",3,"click"]],template:function(t,r){t&1&&(A(0,"section",0)(1,"div",1),Y(2,"img",2)(3,"hr",3),A(4,"p"),Y(5,"img",4),R(6," About this Product"),k()()(),A(7,"div",5)(8,"div",6),Y(9,"img",7),k(),A(10,"div",8)(11,"h3"),R(12),k(),A(13,"h4"),R(14),k(),A(15,"p"),R(16),k(),A(17,"p")(18,"strong"),R(19),k()(),A(20,"p")(21,"strong"),R(22,"Stock:"),k(),A(23,"span"),R(24),k()()(),A(25,"div",9),Ce(26,t3,2,0,"button",10),k()(),A(27,"div",11)(28,"h5"),R(29,"Rate this product:"),k(),A(30,"div",12),Ce(31,n3,2,3,"span",13),k()(),A(32,"div",14)(33,"h5"),R(34,"Leave a Comment:"),k(),A(35,"textarea",15),Ia("ngModelChange",function(i){return $u(r.newComment,i)||(r.newComment=i),i}),k(),A(36,"button",16),xe("click",function(){return r.submitComment1()}),R(37,"Submit"),k()(),Ce(38,o3,4,1,"div",17)),t&2&&(q(9),xa("alt",r.product.description),J("src",r.product.thumbnail,Eo),q(3),Rt(r.product.description),q(2),Rt(r.product.category),q(2),Rt(r.product.description),q(3),nn("",r.product.price," USD"),q(5),Rt(r.product.stock>0?"Available":"Out of stock"),q(2),J("ngIf",r.product.stock===0),q(5),J("ngForOf",zu(11,JL)),q(4),_a("ngModel",r.newComment),q(3),J("ngIf",r.comments.length>0))},dependencies:[et,Yu,Nn,Ot,Fd,Vn,Jr,ll],styles:[".product-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;margin-bottom:20px;font-family:Arial,sans-serif}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:300px;transition:transform .3s ease}.product-image[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(2)}.product-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3em;font-weight:700;color:#333}.product-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5em;color:#666}.product-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0}.product-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#b12704}.product-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.product-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;padding:10px 20px;background-color:#007bff;border:none;color:#fff;font-size:1em;cursor:pointer;transition:background-color .3s ease}.product-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-clicked[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_clickEffect .2s ease forwards}@keyframes _ngcontent-%COMP%_clickEffect{0%{transform:scale(1)}50%{transform:scale(.95)}to{transform:scale(1)}}.star-rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{font-size:30px;color:#ddd;cursor:pointer;transition:color .3s}.star-rating[_ngcontent-%COMP%]   .star.active[_ngcontent-%COMP%]{color:#ffc107}.comment-section[_ngcontent-%COMP%]{max-width:600px;margin-left:31%}.comment-input[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:5px;padding:10px;font-size:16px;transition:border-color .3s}.comment-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 5px #007bff80}.submit-button[_ngcontent-%COMP%]{background:linear-gradient(45deg,#007bffcc,#00ff96cc);box-shadow:0 4px 6px #0000001a;height:50px;border-radius:5px}.comment-list[_ngcontent-%COMP%]{max-width:600px;margin-left:31%;margin-bottom:10%;padding-top:10px}.comment-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:10px;border:1px solid #e0e0e0;border-radius:8px;background-color:#f9f9f9;box-shadow:0 2px 5px #0000001a;margin-bottom:15px}.comment-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:15px}.comment-content[_ngcontent-%COMP%]{flex:1}.comment-text[_ngcontent-%COMP%]{margin:0 0 10px;font-size:15px;color:#333}.delete-button[_ngcontent-%COMP%]{font-size:12px;padding:5px 10px}"]})};var i3=n=>({color:n}),s3=n=>["/detail-product",n],a3=n=>({"btn-clicked":n});function l3(n,e){if(n&1){let t=$t();A(0,"button",12),xe("click",function(){nt(t);let o=Me();return rt(o.addToCart())}),R(1," Buy Now "),k()}if(n&2){let t=Me();J("ngClass",Oi(1,a3,t.isClicked))}}var Ps=class n{constructor(e){this.servicePanel=e}product;selectedProductDetail=new Re;isClicked=!1;selectProduct(){this.selectedProductDetail.emit(this.product)}addToCart(){this.isClicked=!0,this.servicePanel.onProductAdded(this.product),setTimeout(()=>{this.isClicked=!1},200)}getState(e){return e>0?"In stock":"Out of stock"}getColor(e){return e>0?"green":"red"}alerter(){console.log("Product added successfully!")}static \u0275fac=function(t){return new(t||n)(j(cs))};static \u0275cmp=Le({type:n,selectors:[["app-product-item"]],inputs:{product:"product"},outputs:{selectedProductDetail:"selectedProductDetail"},standalone:!0,features:[Be],decls:21,vars:12,consts:[[1,"card","mb-4","product-card"],[1,"card-img-top",3,"src"],[1,"rating"],[1,"bi","bi-star-fill",2,"color","gold"],[1,"bi","bi-star-half",2,"color","gold"],[1,"card-body"],[3,"ngStyle"],[1,"card-title"],[1,"card-text"],[1,"card-footer"],["class","btn btn-primary","style","background: linear-gradient(45deg, rgba(0,123,255,0.8), rgba(0,255,150,0.8)); box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); height: 50px;",3,"ngClass","click",4,"ngIf"],[2,"color","blue",3,"click","routerLink"],[1,"btn","btn-primary",2,"background","linear-gradient(45deg, rgba(0,123,255,0.8), rgba(0,255,150,0.8))","box-shadow","0 4px 6px rgba(0, 0, 0, 0.1)","height","50px",3,"click","ngClass"]],template:function(t,r){t&1&&(A(0,"div",0),Y(1,"img",1),A(2,"div",2),Y(3,"i",3)(4,"i",3)(5,"i",3)(6,"i",3)(7,"i",4),k(),A(8,"div",5)(9,"span",6),R(10),k(),A(11,"h5",7),R(12),k(),A(13,"p",8),R(14),k(),A(15,"p",8),R(16),k()(),A(17,"div",9),Ce(18,l3,2,3,"button",10),k(),A(19,"a",11),xe("click",function(){return r.selectProduct()}),R(20," View Details "),k()()),t&2&&(q(),J("src",r.product.thumbnail,Eo),q(8),J("ngStyle",Oi(8,i3,r.getColor(r.product.stock))),q(),Rt(r.getState(r.product.stock)),q(2),Rt(r.product.description),q(2),nn("Price: ",r.product.price,"USD"),q(2),nn("Category: ",r.product.category,""),q(2),J("ngIf",r.product.stock>0),q(),J("routerLink",Oi(10,s3,r.product.id)))},dependencies:[et,Yu,Ot,qI,yn,Qr],styles:[".container[_ngcontent-%COMP%]{margin-top:20px}.product-card[_ngcontent-%COMP%]{width:220px;height:400px;margin:0 10px;display:flex;flex-direction:column;justify-content:space-between;border-radius:10px;transition:transform .3s ease,box-shadow .3s ease}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 15px #00000026;transform:translateY(-5px)}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:150px;object-fit:cover;border-radius:10px 10px 0 0;transition:transform .3s ease}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.card-body[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:15px;max-height:200px;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}.card-body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-weight:700;color:#004085;margin-bottom:10px}.card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:10px;flex-grow:1}.card-footer[_ngcontent-%COMP%]{background-color:transparent;text-align:center;padding:10px 0}.card-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#004085;border:none;border-radius:5px;color:#fff;padding:8px 15px;font-size:14px;transition:background-color .3s ease}.card-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#036}.row[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;padding-left:15px;padding-right:15px;justify-content:center}.rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:gold;font-size:1.5em}.btn-clicked[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_clickEffect .2s ease forwards}@keyframes _ngcontent-%COMP%_clickEffect{0%{transform:scale(1)}50%{transform:scale(.95)}to{transform:scale(1)}}"]})};var Wh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Le({type:n,selectors:[["app-footer"]],standalone:!0,features:[Be],decls:58,vars:0,consts:[[1,"footer","text-white"],[1,"container"],[1,"row"],[1,"col-lg-4","col-md-6","mb-4"],[1,"fw-bold"],[1,"text-muted"],[1,"col-lg-2","col-md-6","mb-4"],[1,"list-unstyled"],["href","/",1,"text-white","text-decoration-none"],["href","/shop",1,"text-white","text-decoration-none"],["href","/contact",1,"text-white","text-decoration-none"],["href","/about",1,"text-white","text-decoration-none"],["href","/faq",1,"text-white","text-decoration-none"],["href","/shipping",1,"text-white","text-decoration-none"],["href","/privacy",1,"text-white","text-decoration-none"],["href","/terms",1,"text-white","text-decoration-none"],["href","#",1,"text-white","me-3"],[1,"bi","bi-facebook"],[1,"bi","bi-instagram"],[1,"bi","bi-twitter"],[1,"bi","bi-linkedin"],[1,"row","mt-4"],[1,"col-12","text-center"]],template:function(t,r){t&1&&(A(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),R(5,"About Us"),k(),A(6,"p",5),R(7," We are a leading e-commerce platform offering a wide range of products at the best prices. Our goal is to provide a seamless shopping experience to all our customers. "),k()(),A(8,"div",6)(9,"h5",4),R(10,"Quick Links"),k(),A(11,"ul",7)(12,"li")(13,"a",8),R(14,"Home"),k()(),A(15,"li")(16,"a",9),R(17,"Shop"),k()(),A(18,"li")(19,"a",10),R(20,"Contact"),k()(),A(21,"li")(22,"a",11),R(23,"About Us"),k()()()(),A(24,"div",6)(25,"h5",4),R(26,"Customer Service"),k(),A(27,"ul",7)(28,"li")(29,"a",12),R(30,"FAQ"),k()(),A(31,"li")(32,"a",13),R(33,"Shipping & Returns"),k()(),A(34,"li")(35,"a",14),R(36,"Privacy Policy"),k()(),A(37,"li")(38,"a",15),R(39,"Terms of Service"),k()()()(),A(40,"div",3)(41,"h5",4),R(42,"Stay Connected"),k(),A(43,"p",5),R(44,"Follow us on our social media platforms for the latest updates and offers!"),k(),A(45,"div")(46,"a",16),Y(47,"i",17),k(),A(48,"a",16),Y(49,"i",18),k(),A(50,"a",16),Y(51,"i",19),k(),A(52,"a",16),Y(53,"i",20),k()()()(),A(54,"div",21)(55,"div",22)(56,"p",5),R(57,"\xA9 2024 E-Commerce Inc. All rights reserved."),k()()()()())},styles:[".footer[_ngcontent-%COMP%]{padding:60px 0;background-color:#7ecfcf}.footer[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#adb5bd;font-size:14px}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.footer[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:none;border-radius:0;box-shadow:none;padding:10px}.footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:linear-gradient(45deg,rgba(0,123,255,.8),rgba(0,255,150,.8));border:none;padding:10px 20px}.footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff}"]})};var Ns=class n{searchTerm=new $e("");currentSearchTerm=this.searchTerm.asObservable();constructor(){}updateSearchTerm(e){this.searchTerm.next(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};function c3(n,e){if(n&1){let t=$t();A(0,"div",11)(1,"app-product-item",12),xe("productSelected",function(){let o=nt(t).$implicit,i=Me(2);return rt(i.selectProduct(o))}),R(2,'" > '),k()()}if(n&2){let t=e.$implicit;q(),J("product",t)}}function u3(n,e){if(n&1&&(A(0,"div")(1,"div",9),Ce(2,c3,3,1,"div",10),k()()),n&2){let t=Me();q(2),J("ngForOf",t.filteredProducts)}}function d3(n,e){if(n&1&&(A(0,"div",13),Y(1,"app-datail-product",14),k()),n&2){let t=Me();q(),J("product",t.selectedProduct)}}function h3(n,e){n&1&&(A(0,"div",1)(1,"h4"),Y(2,"img",15),R(3," No product found. "),k()())}var Kh=class n{constructor(e,t){this.productService=e;this.searchService=t}filteredProducts=[];selectedProduct=null;produits=[];ngOnInit(){this.productService.getProducts().subscribe(e=>{this.produits=e.products||[],this.filteredProducts=[...this.produits]}),this.searchService.currentSearchTerm.subscribe(e=>{this.produits.length>0&&(this.filteredProducts=this.produits.filter(t=>t.description.toLowerCase().includes(e.toLowerCase())))})}selectProduct(e){this.selectedProduct=e}static \u0275fac=function(t){return new(t||n)(j(Kn),j(Ns))};static \u0275cmp=Le({type:n,selectors:[["app-produit-item"]],standalone:!0,features:[Be],decls:13,vars:3,consts:[["id","panier-items",1,""],[1,"container","text-center","mt-5","py-5"],["src","https://tse4.mm.bing.net/th?id=OIP.TZB7xx-eSpjQcjX3tfUYSwHaHa&pid=Api&P=0&h=180",2,"height","140px"],[1,"mx-auto"],["src","https://tse1.mm.bing.net/th?id=OIP.RYwKPeMKqUiHa5B7emHvYQHaHa&pid=Api&P=0&h=180",2,"height","30px"],[1,"container"],[4,"ngIf"],["class","container mt-5",4,"ngIf"],["class","container text-center mt-5 py-5",4,"ngIf"],[1,"row","justify-content-center"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],[3,"productSelected","product"],[1,"container","mt-5"],[3,"product"],["src","https://tse2.mm.bing.net/th?id=OIP.PkfFxW4TbXUp6Abm-lZKOwHaHa&pid=Api&P=0&h=180",2,"height","100px"]],template:function(t,r){t&1&&(A(0,"div")(1,"section",0)(2,"div",1),Y(3,"img",2)(4,"hr",3),A(5,"p"),Y(6,"img",4),R(7,"Browse products loved by our customers."),k()()(),A(8,"div",5),Ce(9,u3,3,1,"div",6)(10,d3,2,1,"div",7)(11,h3,4,0,"div",8),k()(),Y(12,"app-footer")),t&2&&(q(9),J("ngIf",r.filteredProducts.length>0),q(),J("ngIf",r.selectedProduct),q(),J("ngIf",r.filteredProducts.length===0))},dependencies:[et,Nn,Ot,Wh,Ps,Wo],styles:[".orders-section[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:8px;padding:2rem 1rem}.order-icon[_ngcontent-%COMP%]{height:80px}.order-welcome[_ngcontent-%COMP%]{font-size:1.1rem;color:#555}h2[_ngcontent-%COMP%]{font-weight:700;color:#333}"]})};var Qh=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Le({type:n,selectors:[["app-mes-commandes"]],standalone:!0,features:[Be],decls:9,vars:0,consts:[["id","panier-items",1,"orders-section"],[1,"container","text-center","mt-5","py-5"],["src","https://tse4.mm.bing.net/th?id=OIP.TZB7xx-eSpjQcjX3tfUYSwHaHa&pid=Api&P=0&h=180","alt","Cart Icon",2,"height","140px"],[1,"mx-auto"],[1,"mt-3"],[1,"order-welcome"],["src","https://tse1.mm.bing.net/th?id=OIP.RYwKPeMKqUiHa5B7emHvYQHaHa&pid=Api&P=0&h=180","alt","Welcome Icon",2,"height","30px"]],template:function(t,r){t&1&&(A(0,"section",0)(1,"div",1),Y(2,"img",2)(3,"hr",3),A(4,"h2",4),R(5,"My Orders"),k(),A(6,"p",5),Y(7,"img",6),R(8," Welcome to your orders. Here is a summary of all your recent purchases. "),k()()())},styles:[".orders-section[_ngcontent-%COMP%]{background-color:#fff;padding:2rem 1rem;border-radius:8px}.order-icon[_ngcontent-%COMP%]{height:80px}.order-welcome[_ngcontent-%COMP%]{font-size:1.1rem;color:#555}h2[_ngcontent-%COMP%]{font-weight:700;color:#333}.order-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;margin-top:2rem}.order-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:10px;padding:1.5rem;box-shadow:0 4px 8px #0000001a}.order-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #eee;padding-bottom:.5rem;margin-bottom:1rem}.order-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;color:#007bff}.order-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.order-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.order-footer[_ngcontent-%COMP%]{text-align:right}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer}"]})};function f3(n,e){n&1&&(A(0,"div",19)(1,"small"),R(2,"Full name is required."),k()())}function p3(n,e){n&1&&(A(0,"small"),R(1,"Email is required."),k())}function m3(n,e){n&1&&(A(0,"small"),R(1,"Please enter a valid email address."),k())}function g3(n,e){if(n&1&&(A(0,"div",19),Ce(1,p3,2,0,"small",20)(2,m3,2,0,"small",20),k()),n&2){let t=Me();q(),J("ngIf",t.formControls.email.errors==null?null:t.formControls.email.errors.required),q(),J("ngIf",t.formControls.email.errors==null?null:t.formControls.email.errors.email)}}function b3(n,e){n&1&&(A(0,"div",19)(1,"small"),R(2,"Password is required."),k()())}function v3(n,e){n&1&&(A(0,"div",19)(1,"small"),R(2,"Confirm password is required."),k()())}function y3(n,e){n&1&&(A(0,"div",19)(1,"small"),R(2,"You must agree to the terms and conditions."),k()())}var Yh=class n{constructor(e,t,r){this.fb=e;this.authService=t;this.router=r;this.registerForm=this.fb.group({fullName:["",Ft.required],email:["",[Ft.required,Ft.email]],password:["",[Ft.required,Ft.minLength(6)]],confirmPassword:["",Ft.required],terms:[!1,Ft.requiredTrue]},{validator:this.passwordMatchValidator})}registerForm;email="";password="";token;passwordMatchValidator(e){let t=e.get("password")?.value,r=e.get("confirmPassword")?.value;return t===r?null:{mismatch:!0}}onRegister(){if(this.registerForm.invalid){console.log("Le formulaire est invalide");return}let e=this.registerForm.value.email.trim(),t=this.registerForm.value.password;console.log("Tentative de connexion avec l'email :",e),this.authService.register(e,t).then(r=>{this.router.navigate(["mes-commandes"]),localStorage.setItem("accessToken",r.user.multiFactor.user.accessToken),localStorage.setItem("auth","true"),this.authService.isAuthBehav.next(!0)},r=>{console.log("Erreur d\xE9tect\xE9e :",r.message),localStorage.setItem("auth","false"),this.authService.isAuthBehav.next(!1)})}get formControls(){return this.registerForm.controls}static \u0275fac=function(t){return new(t||n)(j(Od),j(bt),j(We))};static \u0275cmp=Le({type:n,selectors:[["app-register"]],standalone:!0,features:[Be],decls:35,vars:7,consts:[[1,"form-container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"p-4","shadow-sm","rounded-3","bg-light",3,"ngSubmit","formGroup"],[1,"text-center","mb-4"],[1,"mb-3"],["for","exampleFullName",1,"form-label","fw-bold"],["type","text","id","exampleFullName","formControlName","fullName","placeholder","Enter your full name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","exampleInputEmail1",1,"form-label","fw-bold"],["type","email","id","exampleInputEmail1","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","exampleInputPassword1",1,"form-label","fw-bold"],["type","password","id","exampleInputPassword1","formControlName","password","placeholder","Enter your password",1,"form-control"],["for","exampleConfirmPassword1",1,"form-label","fw-bold"],["type","password","id","exampleConfirmPassword1","formControlName","confirmPassword","placeholder","Confirm your password",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","termsCheck","formControlName","terms",1,"form-check-input"],["for","termsCheck",1,"form-check-label"],["type","submit",1,"btn","btn-primary","btn-block","w-100",3,"disabled"],[1,"form-text","text-muted","mt-3","text-center"],["routerLink","/auth"],[1,"text-danger"],[4,"ngIf"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"form",1),xe("ngSubmit",function(){return r.onRegister()}),A(2,"h3",2),R(3,"Register"),k(),A(4,"div",3)(5,"label",4),R(6,"Full Name"),k(),Y(7,"input",5),Ce(8,f3,3,0,"div",6),k(),A(9,"div",3)(10,"label",7),R(11,"Email address"),k(),Y(12,"input",8),Ce(13,g3,3,2,"div",6),k(),A(14,"div",3)(15,"label",9),R(16,"Password"),k(),Y(17,"input",10),Ce(18,b3,3,0,"div",6),k(),A(19,"div",3)(20,"label",11),R(21,"Confirm Password"),k(),Y(22,"input",12),Ce(23,v3,3,0,"div",6),k(),A(24,"div",13),Y(25,"input",14),A(26,"label",15),R(27,"I agree to the terms and conditions"),k(),Ce(28,y3,3,0,"div",6),k(),A(29,"button",16),R(30,"Register"),k(),A(31,"div",17),R(32," Already have an account? "),A(33,"a",18),R(34,"Log In"),k()()()()),t&2&&(q(),J("formGroup",r.registerForm),q(7),J("ngIf",r.formControls.fullName.invalid&&(r.formControls.fullName.dirty||r.formControls.fullName.touched)),q(5),J("ngIf",r.formControls.email.invalid&&(r.formControls.email.dirty||r.formControls.email.touched)),q(5),J("ngIf",r.formControls.password.invalid&&(r.formControls.password.dirty||r.formControls.password.touched)),q(5),J("ngIf",r.formControls.confirmPassword.invalid&&(r.formControls.confirmPassword.dirty||r.formControls.confirmPassword.touched)),q(5),J("ngIf",r.formControls.terms.invalid&&(r.formControls.terms.dirty||r.formControls.terms.touched)),q(),J("disabled",r.registerForm.invalid))},dependencies:[Qr,et,Ot,os,rs,Vn,tb,Jr,ns,cl,ul,yn,as,ss],styles:[".form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#00ff96cc}form[_ngcontent-%COMP%]{max-width:500px;padding:30px;border-radius:10px;background-color:linear-gradient(45deg,rgba(0,123,255,.8),rgba(0,255,150,.8));box-shadow:0 4px 8px #0000001a}.form-control[_ngcontent-%COMP%]{border:2px solid rgba(0,255,150,.8);border-radius:6px;padding:12px}.form-label[_ngcontent-%COMP%]{font-weight:700;color:#343a40}.btn[_ngcontent-%COMP%]{background-color:#00ff96cc;border-color:#00ff96cc;font-size:1.1rem}.btn[_ngcontent-%COMP%]:hover{background-color:#00ff96cc}.form-text[_ngcontent-%COMP%]{font-size:.85rem;color:#000}"]})};var sT=(n,e)=>{let t=N(bt),r=N(We);return t.isAuthenticated()?!0:(r.navigate(["/auth"]),!1)};function w3(n,e){if(n&1&&(A(0,"div",9),Y(1,"app-product-item",10),k()),n&2){let t=e.$implicit;q(),J("product",t)}}var Zh=class n{constructor(e,t){this.route=e;this.productService=t}products=[];category;ngOnInit(){this.route.paramMap.subscribe(e=>{this.category=e.get("category")||"",this.getProductsByCategory(this.category)})}getProductsByCategory(e){this.productService.getProductsByCategory(e).subscribe(t=>{this.products=t}),console.log(this.products)}static \u0275fac=function(t){return new(t||n)(j(sn),j(Kn))};static \u0275cmp=Le({type:n,selectors:[["app-search-category"]],standalone:!0,features:[Be],decls:11,vars:1,consts:[[2,"margin-top","50px"],["id","panier-items",1,""],[1,"container","text-center","mt-5","py-5"],["src","https://tse4.mm.bing.net/th?id=OIP.TZB7xx-eSpjQcjX3tfUYSwHaHa&pid=Api&P=0&h=180",2,"height","80px"],[1,"mx-auto"],["src","https://tse1.mm.bing.net/th?id=OIP.RYwKPeMKqUiHa5B7emHvYQHaHa&pid=Api&P=0&h=180",2,"height","30px"],[1,"container","py-5"],[1,"row","justify-content-center"],["class","col-md-3 mb-4 border-black shadow-sm",4,"ngFor","ngForOf"],[1,"col-md-3","mb-4","border-black","shadow-sm"],[3,"product"]],template:function(t,r){t&1&&(A(0,"div",0)(1,"section",1)(2,"div",2),Y(3,"img",3)(4,"hr",4),A(5,"p"),Y(6,"img",5),R(7,"Browse products loved by our customers."),k()()(),A(8,"div",6)(9,"div",7),Ce(10,w3,2,1,"div",8),k()()()),t&2&&(q(10),J("ngForOf",r.products))},dependencies:[et,Nn,Ps]})};var My=[{path:"auth",component:Hd},{path:"category/:category",component:Zh},{path:"register",component:Yh},{path:"panier",component:Hh},{path:"detail-product/:id",component:Wo},{path:"",component:Kh},{path:"detail-product",component:Wo},{path:"mes-commandes",component:Qh,canActivate:[sT]}],aT=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=mt({type:n});static \u0275inj=pt({imports:[yn.forRoot(My),yn]})};var Xh=class n{constructor(e){this.authService=e}intercept(e,t){if(this.authService.isAuthenticated()){let o=e.clone({headers:e.headers.set("Authorization","Bearer"+this.authService.getToken())});return t.handle(o)}return t.handle(e)}static \u0275fac=function(t){return new(t||n)(U(bt))};static \u0275prov=z({token:n,factory:n.\u0275fac,providedIn:"root"})};var lT={apiKey:"AIzaSyCiAjtOD8_CA4yZRvb86oLcEW6VbJDQa40",authDomain:"ecommeceapp-c9634.firebaseapp.com",projectId:"ecommeceapp-c9634",storageBucket:"ecommeceapp-c9634.appspot.com",messagingSenderId:"462170384875",appId:"1:462170384875:web:30da8148a5d87a3e3ad1ae",measurementId:"G-N96JF6GYGH"},cT={providers:[AI({eventCoalescing:!0}),rC(My),oE(),Ai(ss.initializeApp(lT)),Ai(pl),Ai(as),Ai(Cr),Ay(()=>ky()),HC(()=>kf(lT)),Ay(()=>ky()),{provide:tE,useClass:Xh,multi:!0}]};var x3=()=>({standalone:!0});function _3(n,e){if(n&1&&(A(0,"option",28),R(1),k()),n&2){let t=e.$implicit;J("value",t),q(),Rt(t)}}function I3(n,e){n&1&&(A(0,"li",10)(1,"a",29),Y(2,"i",30),R(3," Connection "),k()())}function E3(n,e){if(n&1){let t=$t();A(0,"li",10)(1,"a",31),xe("click",function(){nt(t);let o=Me(2);return rt(o.onLogout())}),Y(2,"i",32),R(3," Disconnect "),k()()}}function C3(n,e){if(n&1){let t=$t();A(0,"div",1)(1,"nav",2)(2,"div",3)(3,"a",4),Y(4,"img",5),k(),A(5,"button",6),Y(6,"span",7),k(),A(7,"div",8)(8,"ul",9)(9,"li",10)(10,"a",11),Y(11,"i",12),R(12," Home "),k()(),A(13,"li",10)(14,"a",13),Y(15,"i",14),R(16," Panel "),k()(),A(17,"li",10)(18,"a",15),Y(19,"i",16),R(20," My orders "),k()(),A(21,"li",10)(22,"a",17),Y(23,"i",18),R(24," Help "),k()()(),A(25,"form",19)(26,"div",20)(27,"select",21),xe("change",function(o){nt(t);let i=Me();return rt(i.onCategoryChange(o))}),A(28,"option",22),R(29,"All"),k(),Ce(30,_3,2,2,"option",23),k()(),A(31,"div",20)(32,"input",24),xe("input",function(o){nt(t);let i=Me();return rt(i.onSearch(o))}),Ia("ngModelChange",function(o){nt(t);let i=Me();return $u(i.searchTerm,o)||(i.searchTerm=o),rt(o)}),k()(),A(33,"button",25),R(34," Search "),k()(),A(35,"div",26),Ce(36,I3,4,0,"li",27)(37,E3,4,0,"li",27),k()()()()()}if(n&2){let t=Me();q(30),J("ngForOf",t.categories),q(2),_a("ngModel",t.searchTerm),J("ngModelOptions",zu(5,x3)),q(4),J("ngIf",!t.authService.isAuthenticated()),q(),J("ngIf",t.authService.isAuthenticated())}}var Jh=class n{constructor(e,t,r,o){this.productService=e;this.router=t;this.searchService=r;this.authService=o;this.router.events.subscribe(i=>{i instanceof on&&(this.showHeader=!(i.url==="/auth"||i.url==="/register"))})}searchTerm="";categories=[];showHeader=!0;searchEvent=new Re;ngOnInit(){this.productService.getAllCategories().subscribe(e=>{this.categories=e})}onCategoryChange(e){let r=e.target.value;r&&(r=="All"?this.router.navigate(["/"]):this.router.navigate(["/category",r]))}onSearch(e){let t=e.target;this.searchService.updateSearchTerm(t.value),this.searchEvent.emit(t.value)}onLogout(){confirm("Thank you for using our service! Do you really want to log out?")&&(this.authService.logout(),this.router.navigate(["/"]))}static \u0275fac=function(t){return new(t||n)(j(Kn),j(We),j(Ns),j(bt))};static \u0275cmp=Le({type:n,selectors:[["app-header"]],outputs:{searchEvent:"searchEvent"},standalone:!0,features:[Be],decls:1,vars:1,consts:[["class","p-3 mb-2 fixed-top","style",`background: linear-gradient(45deg, rgba(0, 123, 255, 0.8), rgba(0, 255, 150, 0.8)); 
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); height: 100px;`,4,"ngIf"],[1,"p-3","mb-2","fixed-top",2,"background","linear-gradient(45deg, rgba(0, 123, 255, 0.8), rgba(0, 255, 150, 0.8))","box-shadow","0 4px 6px rgba(0, 0, 0, 0.1)","height","100px"],[1,"navbar","navbar-expand-lg","navbar-light"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","https://tse1.mm.bing.net/th?id=OIP.tv04p4t35hQYkb1GXyRGggHaE7&pid=Api&P=0&h=180",2,"height","50px"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/",1,"nav-link","active","text-white","fw-bold"],[1,"bi","bi-house"],["routerLink","/panier",1,"nav-link","text-white","fw-bold"],[1,"bi","bi-cart3"],["routerLink","/mes-commandes",1,"nav-link","text-white","fw-bold"],[1,"bi","bi-bag-check"],["href","#",1,"nav-link","text-white","fw-bold"],[1,"bi","bi-question-circle"],["role","search",1,"d-flex","align-items-center"],[1,"form-group","me-2"],[1,"form-select",3,"change"],["value","All"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Search...",1,"form-control","search-input","shadow-sm",3,"input","ngModelChange","ngModel","ngModelOptions"],["type","submit",1,"btn","btn-outline-light","search-btn","shadow-sm"],[1,"navbar-nav","ms-2"],["class","nav-item",4,"ngIf"],[3,"value"],["routerLink","/auth",1,"nav-link","active","text-white","fw-bold"],[1,"bi","bi-person-fill"],[1,"nav-link","active","text-white","fw-bold",3,"click"],[1,"bi","bi-box-arrow-right"]],template:function(t,r){t&1&&Ce(0,C3,38,6,"div",0),t&2&&J("ngIf",r.showHeader)},dependencies:[Fd,rs,BC,$C,Vn,Jr,ns,ll,ab,et,Nn,Ot,yn,Qr]})};var ef=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=Le({type:n,selectors:[["app-root"]],standalone:!0,features:[Be],decls:2,vars:0,template:function(t,r){t&1&&Y(0,"app-header")(1,"router-outlet")},dependencies:[et,Hg,Jh,os,ss,as]})};fE(ef,cT).catch(n=>console.error(n));
