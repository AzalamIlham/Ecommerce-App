import{A as Mt,B as _n,a as $,b as be,c as U,d as _w,e as Ic,f as Iw,g as Ew,h as Cw,i as Dw,j as sp,k as Tw,l as Sw,m as Aw,n as ap,o as kw,p as Mw,q as on,r as ya,s as dr,t as Ec,u as wa,v as lp,w as Rw,x as cp,y as xa,z as Cc}from"./chunk-YXTI7J6Z.js";function Pw(n,e){return Object.is(n,e)}var at=null,Dc=!1,Tc=1,hr=Symbol("SIGNAL");function xe(n){let e=at;return at=n,e}function Nw(){return at}var Ia={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function hp(n){if(Dc)throw new Error("");if(at===null)return;at.consumerOnSignalRead(n);let e=at.nextProducerIndex++;if(Mc(at),e<at.producerNode.length&&at.producerNode[e]!==n&&_a(at)){let t=at.producerNode[e];kc(t,at.producerIndexOfThis[e])}at.producerNode[e]!==n&&(at.producerNode[e]=n,at.producerIndexOfThis[e]=_a(at)?Lw(n,at,e):0),at.producerLastReadVersion[e]=n.version}function QS(){Tc++}function Ow(n){if(!(_a(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Tc)){if(!n.producerMustRecompute(n)&&!pp(n)){n.dirty=!1,n.lastCleanEpoch=Tc;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Tc}}function Fw(n){if(n.liveConsumerNode===void 0)return;let e=Dc;Dc=!0;try{for(let t of n.liveConsumerNode)t.dirty||YS(t)}finally{Dc=e}}function Vw(){return at?.consumerAllowSignalWrites!==!1}function YS(n){n.dirty=!0,Fw(n),n.consumerMarkedDirty?.(n)}function Ac(n){return n&&(n.nextProducerIndex=0),xe(n)}function fp(n,e){if(xe(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(_a(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)kc(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function pp(n){Mc(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Ow(t),r!==t.version))return!0}return!1}function mp(n){if(Mc(n),_a(n))for(let e=0;e<n.producerNode.length;e++)kc(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Lw(n,e,t){if(jw(n),n.liveConsumerNode.length===0&&Bw(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=Lw(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function kc(n,e){if(jw(n),n.liveConsumerNode.length===1&&Bw(n))for(let r=0;r<n.producerNode.length;r++)kc(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],o=n.liveConsumerNode[e];Mc(o),o.producerIndexOfThis[r]=e}}function _a(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Mc(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function jw(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function Bw(n){return n.producerNode!==void 0}function Uw(n){let e=Object.create(ZS);e.computation=n;let t=()=>{if(Ow(e),hp(e),e.value===Sc)throw e.error;return e.value};return t[hr]=e,t}var up=Symbol("UNSET"),dp=Symbol("COMPUTING"),Sc=Symbol("ERRORED"),ZS=be($({},Ia),{value:up,dirty:!0,error:null,equal:Pw,producerMustRecompute(n){return n.value===up||n.value===dp},producerRecomputeValue(n){if(n.value===dp)throw new Error("Detected cycle in computations.");let e=n.value;n.value=dp;let t=Ac(n),r;try{r=n.computation()}catch(o){r=Sc,n.error=o}finally{fp(n,t)}if(e!==up&&e!==Sc&&r!==Sc&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function XS(){throw new Error}var $w=XS;function zw(){$w()}function Hw(n){$w=n}var JS=null;function qw(n){let e=Object.create(Ww);e.value=n;let t=()=>(hp(e),e.value);return t[hr]=e,t}function gp(n,e){Vw()||zw(),n.equal(n.value,e)||(n.value=e,eA(n))}function Gw(n,e){Vw()||zw(),gp(n,e(n.value))}var Ww=be($({},Ia),{equal:Pw,value:void 0});function eA(n){n.version++,QS(),Fw(n),JS?.()}function oe(n){return typeof n=="function"}function yi(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Rc=yi(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,o)=>`${o+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function To(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Ye=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let i of t)i.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(i){e=i instanceof Rc?i.errors:[i]}let{_finalizers:o}=this;if(o){this._finalizers=null;for(let i of o)try{Kw(i)}catch(s){e=e??[],s instanceof Rc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Rc(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Kw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&To(t,e)}remove(e){let{_finalizers:t}=this;t&&To(t,e),e instanceof n&&e._removeParent(this)}};Ye.EMPTY=(()=>{let n=new Ye;return n.closed=!0,n})();var bp=Ye.EMPTY;function Pc(n){return n instanceof Ye||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function Kw(n){oe(n)?n():n.unsubscribe()}var In={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wi={setTimeout(n,e,...t){let{delegate:r}=wi;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=wi;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Nc(n){wi.setTimeout(()=>{let{onUnhandledError:e}=In;if(e)e(n);else throw n})}function Ea(){}var Qw=vp("C",void 0,void 0);function Yw(n){return vp("E",void 0,n)}function Zw(n){return vp("N",n,void 0)}function vp(n,e,t){return{kind:n,value:e,error:t}}var So=null;function xi(n){if(In.useDeprecatedSynchronousErrorHandling){let e=!So;if(e&&(So={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=So;if(So=null,t)throw r}}else n()}function Xw(n){In.useDeprecatedSynchronousErrorHandling&&So&&(So.errorThrown=!0,So.error=n)}var Ao=class extends Ye{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Pc(e)&&e.add(this)):this.destination=rA}static create(e,t,r){return new fr(e,t,r)}next(e){this.isStopped?wp(Zw(e),this):this._next(e)}error(e){this.isStopped?wp(Yw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?wp(Qw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},tA=Function.prototype.bind;function yp(n,e){return tA.call(n,e)}var xp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Oc(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Oc(r)}else Oc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Oc(t)}}},fr=class extends Ao{constructor(e,t,r){super();let o;if(oe(e)||!e)o={next:e??void 0,error:t??void 0,complete:r??void 0};else{let i;this&&In.useDeprecatedNextContext?(i=Object.create(e),i.unsubscribe=()=>this.unsubscribe(),o={next:e.next&&yp(e.next,i),error:e.error&&yp(e.error,i),complete:e.complete&&yp(e.complete,i)}):o=e}this.destination=new xp(o)}};function Oc(n){In.useDeprecatedSynchronousErrorHandling?Xw(n):Nc(n)}function nA(n){throw n}function wp(n,e){let{onStoppedNotification:t}=In;t&&wi.setTimeout(()=>t(n,e))}var rA={closed:!0,next:Ea,error:nA,complete:Ea};var _i=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Kt(n){return n}function Fc(...n){return _p(n)}function _p(n){return n.length===0?Kt:n.length===1?n[0]:function(t){return n.reduce((r,o)=>o(r),t)}}var ae=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,o){let i=iA(t)?t:new fr(t,r,o);return xi(()=>{let{operator:s,source:a}=this;i.add(s?s.call(i,a):a?this._subscribe(i):this._trySubscribe(i))}),i}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Jw(r),new r((o,i)=>{let s=new fr({next:a=>{try{t(a)}catch(c){i(c),s.unsubscribe()}},error:i,complete:o});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[_i](){return this}pipe(...t){return _p(t)(this)}toPromise(t){return t=Jw(t),new t((r,o)=>{let i;this.subscribe(s=>i=s,s=>o(s),()=>r(i))})}}return n.create=e=>new n(e),n})();function Jw(n){var e;return(e=n??In.Promise)!==null&&e!==void 0?e:Promise}function oA(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function iA(n){return n&&n instanceof Ao||oA(n)&&Pc(n)}function Ip(n){return oe(n?.lift)}function fe(n){return e=>{if(Ip(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(n,e,t,r,o){return new Ep(n,e,t,r,o)}var Ep=class extends Ao{constructor(e,t,r,o,i,s){super(e),this.onFinalize=i,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=o?function(a){try{o(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Ii(){return fe((n,e)=>{let t=null;n._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let o=n._connection,i=t;t=null,o&&(!i||o===i)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ei=class extends ae{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ip(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ye;let t=this.getSubject();e.add(this.source.subscribe(pe(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ye.EMPTY)}return e}refCount(){return Ii()(this)}};var ex=yi(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Be=(()=>{class n extends ae{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Vc(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new ex}next(t){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){xi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:o,observers:i}=this;return r||o?bp:(this.currentObservers=null,i.push(t),new Ye(()=>{this.currentObservers=null,To(i,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:o,isStopped:i}=this;r?t.error(o):i&&t.complete()}asObservable(){let t=new ae;return t.source=this,t}}return n.create=(e,t)=>new Vc(e,t),n})(),Vc=class extends Be{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:bp}};var Ge=class extends Be{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ca={now(){return(Ca.delegate||Date).now()},delegate:void 0};var Lc=class extends Be{constructor(e=1/0,t=1/0,r=Ca){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){let{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:i,_windowTime:s}=this;t||(r.push(e),!o&&r.push(i.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,i=o.slice();for(let s=0;s<i.length&&!e.closed;s+=r?1:2)e.next(i[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){let{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,i=(o?1:2)*e;if(e<1/0&&i<r.length&&r.splice(0,r.length-i),!o){let s=t.now(),a=0;for(let c=1;c<r.length&&r[c]<=s;c+=2)a=c;a&&r.splice(0,a+1)}}};var jc=class extends Ye{constructor(e,t){super()}schedule(e,t=0){return this}};var Da={setInterval(n,e,...t){let{delegate:r}=Da;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Da;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ci=class extends jc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,r=0){return Da.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Da.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,o;try{this.work(e)}catch(i){r=!0,o=i||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,To(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Di=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Di.now=Ca.now;var Ti=class extends Di{constructor(e,t=Di.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Cp=new Ti(Ci);var Bc=class extends Ci{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var Uc=class extends Ti{};var Dp=new Uc(Bc);var Rt=new ae(n=>n.complete());function tx(n){return n&&oe(n.schedule)}function Tp(n){return n[n.length-1]}function $c(n){return oe(Tp(n))?n.pop():void 0}function Bn(n){return tx(Tp(n))?n.pop():void 0}function nx(n,e){return typeof Tp(n)=="number"?n.pop():e}var zc=n=>n&&typeof n.length=="number"&&typeof n!="function";function Hc(n){return oe(n?.then)}function qc(n){return oe(n[_i])}function Gc(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function Wc(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function sA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Kc=sA();function Qc(n){return oe(n?.[Kc])}function Yc(n){return Iw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:o}=yield Ic(t.read());if(o)return yield Ic(void 0);yield yield Ic(r)}}finally{t.releaseLock()}})}function Zc(n){return oe(n?.getReader)}function je(n){if(n instanceof ae)return n;if(n!=null){if(qc(n))return aA(n);if(zc(n))return lA(n);if(Hc(n))return cA(n);if(Gc(n))return rx(n);if(Qc(n))return uA(n);if(Zc(n))return dA(n)}throw Wc(n)}function aA(n){return new ae(e=>{let t=n[_i]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function lA(n){return new ae(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function cA(n){return new ae(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Nc)})}function uA(n){return new ae(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function rx(n){return new ae(e=>{hA(n,e).catch(t=>e.error(t))})}function dA(n){return rx(Yc(n))}function hA(n,e){var t,r,o,i;return _w(this,void 0,void 0,function*(){try{for(t=Ew(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){o={error:s}}finally{try{r&&!r.done&&(i=t.return)&&(yield i.call(t))}finally{if(o)throw o.error}}e.complete()})}function Ht(n,e,t,r=0,o=!1){let i=e.schedule(function(){t(),o?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(i),!o)return i}function Qt(n,e=0){return fe((t,r)=>{t.subscribe(pe(r,o=>Ht(r,n,()=>r.next(o),e),()=>Ht(r,n,()=>r.complete(),e),o=>Ht(r,n,()=>r.error(o),e)))})}function sn(n,e=0){return fe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function ox(n,e){return je(n).pipe(sn(e),Qt(e))}function ix(n,e){return je(n).pipe(sn(e),Qt(e))}function sx(n,e){return new ae(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function ax(n,e){return new ae(t=>{let r;return Ht(t,e,()=>{r=n[Kc](),Ht(t,e,()=>{let o,i;try{({value:o,done:i}=r.next())}catch(s){t.error(s);return}i?t.complete():t.next(o)},0,!0)}),()=>oe(r?.return)&&r.return()})}function Xc(n,e){if(!n)throw new Error("Iterable cannot be null");return new ae(t=>{Ht(t,e,()=>{let r=n[Symbol.asyncIterator]();Ht(t,e,()=>{r.next().then(o=>{o.done?t.complete():t.next(o.value)})},0,!0)})})}function lx(n,e){return Xc(Yc(n),e)}function cx(n,e){if(n!=null){if(qc(n))return ox(n,e);if(zc(n))return sx(n,e);if(Hc(n))return ix(n,e);if(Gc(n))return Xc(n,e);if(Qc(n))return ax(n,e);if(Zc(n))return lx(n,e)}throw Wc(n)}function Ce(n,e){return e?cx(n,e):je(n)}function X(...n){let e=Bn(n);return Ce(n,e)}function Si(n,e){let t=oe(n)?n:()=>n,r=o=>o.error(t());return new ae(e?o=>e.schedule(r,0,o):r)}function Sp(n){return!!n&&(n instanceof ae||oe(n.lift)&&oe(n.subscribe))}var pr=yi(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function J(n,e){return fe((t,r)=>{let o=0;t.subscribe(pe(r,i=>{r.next(n.call(e,i,o++))}))})}var{isArray:fA}=Array;function pA(n,e){return fA(e)?n(...e):n(e)}function Jc(n){return J(e=>pA(n,e))}var{isArray:mA}=Array,{getPrototypeOf:gA,prototype:bA,keys:vA}=Object;function eu(n){if(n.length===1){let e=n[0];if(mA(e))return{args:e,keys:null};if(yA(e)){let t=vA(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function yA(n){return n&&typeof n=="object"&&gA(n)===bA}function tu(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}function Ta(...n){let e=Bn(n),t=$c(n),{args:r,keys:o}=eu(n);if(r.length===0)return Ce([],e);let i=new ae(wA(r,e,o?s=>tu(o,s):Kt));return t?i.pipe(Jc(t)):i}function wA(n,e,t=Kt){return r=>{ux(e,()=>{let{length:o}=n,i=new Array(o),s=o,a=o;for(let c=0;c<o;c++)ux(e,()=>{let u=Ce(n[c],e),h=!1;u.subscribe(pe(r,p=>{i[c]=p,h||(h=!0,a--),a||r.next(t(i.slice()))},()=>{--s||r.complete()}))},r)},r)}}function ux(n,e,t){n?Ht(t,n,e):e()}function dx(n,e,t,r,o,i,s,a){let c=[],u=0,h=0,p=!1,g=()=>{p&&!c.length&&!u&&e.complete()},v=M=>u<r?D(M):c.push(M),D=M=>{i&&e.next(M),u++;let S=!1;je(t(M,h++)).subscribe(pe(e,V=>{o?.(V),i?v(V):e.next(V)},()=>{S=!0},void 0,()=>{if(S)try{for(u--;c.length&&u<r;){let V=c.shift();s?Ht(e,s,()=>D(V)):D(V)}g()}catch(V){e.error(V)}}))};return n.subscribe(pe(e,v,()=>{p=!0,g()})),()=>{a?.()}}function et(n,e,t=1/0){return oe(e)?et((r,o)=>J((i,s)=>e(r,i,o,s))(je(n(r,o))),t):(typeof e=="number"&&(t=e),fe((r,o)=>dx(r,o,n,t)))}function Hr(n=1/0){return et(Kt,n)}function hx(){return Hr(1)}function Ai(...n){return hx()(Ce(n,Bn(n)))}function nu(n){return new ae(e=>{je(n()).subscribe(e)})}function Ap(...n){let e=$c(n),{args:t,keys:r}=eu(n),o=new ae(i=>{let{length:s}=t;if(!s){i.complete();return}let a=new Array(s),c=s,u=s;for(let h=0;h<s;h++){let p=!1;je(t[h]).subscribe(pe(i,g=>{p||(p=!0,u--),a[h]=g},()=>c--,void 0,()=>{(!c||!p)&&(u||i.next(r?tu(r,a):a),i.complete())}))}});return e?o.pipe(Jc(e)):o}function kp(...n){let e=Bn(n),t=nx(n,1/0),r=n;return r.length?r.length===1?je(r[0]):Hr(t)(Ce(r,e)):Rt}function pt(n,e){return fe((t,r)=>{let o=0;t.subscribe(pe(r,i=>n.call(e,i,o++)&&r.next(i)))})}function qr(n){return fe((e,t)=>{let r=null,o=!1,i;r=e.subscribe(pe(t,void 0,void 0,s=>{i=je(n(s,qr(n)(e))),r?(r.unsubscribe(),r=null,i.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,i.subscribe(t))})}function fx(n,e,t,r,o){return(i,s)=>{let a=t,c=e,u=0;i.subscribe(pe(s,h=>{let p=u++;c=a?n(c,h,p):(a=!0,h),r&&s.next(c)},o&&(()=>{a&&s.next(c),s.complete()})))}}function mr(n,e){return oe(e)?et(n,e,1):et(n,1)}function Gr(n){return fe((e,t)=>{let r=!1;e.subscribe(pe(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function gr(n){return n<=0?()=>Rt:fe((e,t)=>{let r=0;e.subscribe(pe(t,o=>{++r<=n&&(t.next(o),n<=r&&t.complete())}))})}function Mp(n){return J(()=>n)}function ru(n=xA){return fe((e,t)=>{let r=!1;e.subscribe(pe(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function xA(){return new pr}function ko(n){return fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function an(n,e){let t=arguments.length>=2;return r=>r.pipe(n?pt((o,i)=>n(o,i,r)):Kt,gr(1),t?Gr(e):ru(()=>new pr))}function ki(n){return n<=0?()=>Rt:fe((e,t)=>{let r=[];e.subscribe(pe(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(let o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Rp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?pt((o,i)=>n(o,i,r)):Kt,ki(1),t?Gr(e):ru(()=>new pr))}function ou(n,e){return fe(fx(n,e,arguments.length>=2,!0))}function px(n={}){let{connector:e=()=>new Be,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:o=!0}=n;return i=>{let s,a,c,u=0,h=!1,p=!1,g=()=>{a?.unsubscribe(),a=void 0},v=()=>{g(),s=c=void 0,h=p=!1},D=()=>{let M=s;v(),M?.unsubscribe()};return fe((M,S)=>{u++,!p&&!h&&g();let V=c=c??e();S.add(()=>{u--,u===0&&!p&&!h&&(a=Pp(D,o))}),V.subscribe(S),!s&&u>0&&(s=new fr({next:W=>V.next(W),error:W=>{p=!0,g(),a=Pp(v,t,W),V.error(W)},complete:()=>{h=!0,g(),a=Pp(v,r),V.complete()}}),je(M).subscribe(s))})(i)}}function Pp(n,e,...t){if(e===!0){n();return}if(e===!1)return;let r=new fr({next:()=>{r.unsubscribe(),n()}});return je(e(...t)).subscribe(r)}function iu(n,e,t){let r,o=!1;return n&&typeof n=="object"?{bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n:r=n??1/0,px({connector:()=>new Lc(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}function su(...n){let e=Bn(n);return fe((t,r)=>{(e?Ai(n,t,e):Ai(n,t)).subscribe(r)})}function Ue(n,e){return fe((t,r)=>{let o=null,i=0,s=!1,a=()=>s&&!o&&r.complete();t.subscribe(pe(r,c=>{o?.unsubscribe();let u=0,h=i++;je(n(c,h)).subscribe(o=pe(r,p=>r.next(e?e(c,p,h,u++):p),()=>{o=null,a()}))},()=>{s=!0,a()}))})}function au(n,e){return oe(e)?Ue(()=>n,e):Ue(()=>n)}function Np(n){return fe((e,t)=>{je(n).subscribe(pe(t,()=>t.complete(),Ea)),!t.closed&&e.subscribe(t)})}function tt(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?fe((o,i)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;o.subscribe(pe(i,c=>{var u;(u=r.next)===null||u===void 0||u.call(r,c),i.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),i.complete()},c=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,c),i.error(c)},()=>{var c,u;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):Kt}var t_="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,t){super(zu(e,t)),this.code=e}};function zu(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Fa(n){return{toString:n}.toString()}var lu="__parameters__";function _A(n){return function(...t){if(n){let r=n(...t);for(let o in r)this[o]=r[o]}}}function n_(n,e,t){return Fa(()=>{let r=_A(e);function o(...i){if(this instanceof o)return r.apply(this,i),this;let s=new o(...i);return a.annotation=s,a;function a(c,u,h){let p=c.hasOwnProperty(lu)?c[lu]:Object.defineProperty(c,lu,{value:[]})[lu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),c}}return t&&(o.prototype=Object.create(t.prototype)),o.prototype.ngMetadataName=n,o.annotationCls=o,o})}var Ro=globalThis;function Pe(n){for(let e in n)if(n[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function IA(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Nt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Nt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function mx(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var EA=Pe({__forward_ref__:Pe});function Sn(n){return n.__forward_ref__=Sn,n.toString=function(){return Nt(this())},n}function Pt(n){return r_(n)?n():n}function r_(n){return typeof n=="function"&&n.hasOwnProperty(EA)&&n.__forward_ref__===Sn}function H(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function xt(n){return{providers:n.providers||[],imports:n.imports||[]}}function Hu(n){return gx(n,i_)||gx(n,s_)}function o_(n){return Hu(n)!==null}function gx(n,e){return n.hasOwnProperty(e)?n[e]:null}function CA(n){let e=n&&(n[i_]||n[s_]);return e||null}function bx(n){return n&&(n.hasOwnProperty(vx)||n.hasOwnProperty(DA))?n[vx]:null}var i_=Pe({\u0275prov:Pe}),vx=Pe({\u0275inj:Pe}),s_=Pe({ngInjectableDef:Pe}),DA=Pe({ngInjectorDef:Pe}),z=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=H({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function a_(n){return n&&!!n.\u0275providers}var TA=Pe({\u0275cmp:Pe}),SA=Pe({\u0275dir:Pe}),AA=Pe({\u0275pipe:Pe}),kA=Pe({\u0275mod:Pe}),vu=Pe({\u0275fac:Pe}),Aa=Pe({__NG_ELEMENT_ID__:Pe}),yx=Pe({__NG_ENV_ID__:Pe});function Vi(n){return typeof n=="string"?n:n==null?"":String(n)}function MA(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Vi(n)}function RA(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new Q(-200,n)}function Um(n,e){throw new Q(-201,!1)}var ue=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ue||{}),Qp;function l_(){return Qp}function qt(n){let e=Qp;return Qp=n,e}function c_(n,e,t){let r=Hu(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&ue.Optional)return null;if(e!==void 0)return e;Um(n,"Injector")}var PA={},ka=PA,Yp="__NG_DI_FLAG__",yu="ngTempTokenPath",NA="ngTokenPath",OA=/\n/gm,FA="\u0275",wx="__source",Oi;function VA(){return Oi}function Wr(n){let e=Oi;return Oi=n,e}function LA(n,e=ue.Default){if(Oi===void 0)throw new Q(-203,!1);return Oi===null?c_(n,void 0,e):Oi.get(n,e&ue.Optional?null:void 0,e)}function B(n,e=ue.Default){return(l_()||LA)(Pt(n),e)}function N(n,e=ue.Default){return B(n,qu(e))}function qu(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Zp(n){let e=[];for(let t=0;t<n.length;t++){let r=Pt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let o,i=ue.Default;for(let s=0;s<r.length;s++){let a=r[s],c=jA(a);typeof c=="number"?c===-1?o=a.token:i|=c:o=a}e.push(B(o,i))}else e.push(B(r))}return e}function u_(n,e){return n[Yp]=e,n.prototype[Yp]=e,n}function jA(n){return n[Yp]}function BA(n,e,t,r){let o=n[yu];throw e[wx]&&o.unshift(e[wx]),n.message=UA(`
`+n.message,o,t,r),n[NA]=o,n[yu]=null,n}function UA(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==FA?n.slice(2):n;let o=Nt(e);if(Array.isArray(e))o=e.map(Nt).join(" -> ");else if(typeof e=="object"){let i=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];i.push(s+":"+(typeof a=="string"?JSON.stringify(a):Nt(a)))}o=`{${i.join(", ")}}`}return`${t}${r?"("+r+")":""}[${o}]: ${n.replace(OA,`
  `)}`}var Lt=u_(n_("Optional"),8);var Gu=u_(n_("SkipSelf"),4);function No(n,e){let t=n.hasOwnProperty(vu);return t?n[vu]:null}function $m(n,e){n.forEach(t=>Array.isArray(t)?$m(t,e):e(t))}function d_(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function wu(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function $A(n,e,t,r){let o=n.length;if(o==e)n.push(t,r);else if(o===1)n.push(r,n[0]),n[0]=t;else{for(o--,n.push(n[o-1],n[o]);o>e;){let i=o-2;n[o]=n[i],o--}n[e]=t,n[e+1]=r}}function zA(n,e,t){let r=Va(n,e);return r>=0?n[r|1]=t:(r=~r,$A(n,r,e,t)),r}function Op(n,e){let t=Va(n,e);if(t>=0)return n[t|1]}function Va(n,e){return HA(n,e,1)}function HA(n,e,t){let r=0,o=n.length>>t;for(;o!==r;){let i=r+(o-r>>1),s=n[i<<t];if(e===s)return i<<t;s>e?o=i:r=i+1}return~(o<<t)}var Li={},ln=[],ji=new z(""),h_=new z("",-1),f_=new z(""),xu=class{get(e,t=ka){if(t===ka){let r=new Error(`NullInjectorError: No provider for ${Nt(e)}!`);throw r.name="NullInjectorError",r}return t}},p_=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(p_||{}),zn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(zn||{}),Yr=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Yr||{});function qA(n,e,t){let r=n.length;for(;;){let o=n.indexOf(e,t);if(o===-1)return o;if(o===0||n.charCodeAt(o-1)<=32){let i=e.length;if(o+i===r||n.charCodeAt(o+i)<=32)return o}t=o+1}}function Xp(n,e,t){let r=0;for(;r<t.length;){let o=t[r];if(typeof o=="number"){if(o!==0)break;r++;let i=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,i)}else{let i=o,s=t[++r];GA(i)?n.setProperty(e,i,s):n.setAttribute(e,i,s),r++}}return r}function m_(n){return n===3||n===4||n===6}function GA(n){return n.charCodeAt(0)===64}function Ma(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let o=e[r];typeof o=="number"?t=o:t===0||(t===-1||t===2?xx(n,t,o,null,e[++r]):xx(n,t,o,null,null))}}return n}function xx(n,e,t,r,o){let i=0,s=n.length;if(e===-1)s=-1;else for(;i<n.length;){let a=n[i++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=i-1;break}}}for(;i<n.length;){let a=n[i];if(typeof a=="number")break;if(a===t){if(r===null){o!==null&&(n[i+1]=o);return}else if(r===n[i+1]){n[i+2]=o;return}}i++,r!==null&&i++,o!==null&&i++}s!==-1&&(n.splice(s,0,e),i=s+1),n.splice(i++,0,t),r!==null&&n.splice(i++,0,r),o!==null&&n.splice(i++,0,o)}var g_="ng-template";function WA(n,e,t,r){let o=0;if(r){for(;o<e.length&&typeof e[o]=="string";o+=2)if(e[o]==="class"&&qA(e[o+1].toLowerCase(),t,0)!==-1)return!0}else if(zm(n))return!1;if(o=e.indexOf(1,o),o>-1){let i;for(;++o<e.length&&typeof(i=e[o])=="string";)if(i.toLowerCase()===t)return!0}return!1}function zm(n){return n.type===4&&n.value!==g_}function KA(n,e,t){let r=n.type===4&&!t?g_:n.value;return e===r}function QA(n,e,t){let r=4,o=n.attrs,i=o!==null?XA(o):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!En(r)&&!En(c))return!1;if(s&&En(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!KA(n,c,t)||c===""&&e.length===1){if(En(r))return!1;s=!0}}else if(r&8){if(o===null||!WA(n,o,c,t)){if(En(r))return!1;s=!0}}else{let u=e[++a],h=YA(c,o,zm(n),t);if(h===-1){if(En(r))return!1;s=!0;continue}if(u!==""){let p;if(h>i?p="":p=o[h+1].toLowerCase(),r&2&&u!==p){if(En(r))return!1;s=!0}}}}return En(r)||s}function En(n){return(n&1)===0}function YA(n,e,t,r){if(e===null)return-1;let o=0;if(r||!t){let i=!1;for(;o<e.length;){let s=e[o];if(s===n)return o;if(s===3||s===6)i=!0;else if(s===1||s===2){let a=e[++o];for(;typeof a=="string";)a=e[++o];continue}else{if(s===4)break;if(s===0){o+=4;continue}}o+=i?1:2}return-1}else return JA(e,n)}function ZA(n,e,t=!1){for(let r=0;r<e.length;r++)if(QA(n,e[r],t))return!0;return!1}function XA(n){for(let e=0;e<n.length;e++){let t=n[e];if(m_(t))return e}return n.length}function JA(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function _x(n,e){return n?":not("+e.trim()+")":e}function ek(n){let e=n[0],t=1,r=2,o="",i=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];o+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?o+="."+s:r&4&&(o+=" "+s);else o!==""&&!En(s)&&(e+=_x(i,o),o=""),r=s,i=i||!En(r);t++}return o!==""&&(e+=_x(i,o)),e}function tk(n){return n.map(ek).join(",")}function nk(n){let e=[],t=[],r=1,o=2;for(;r<n.length;){let i=n[r];if(typeof i=="string")o===2?i!==""&&e.push(i,n[++r]):o===8&&t.push(i);else{if(!En(o))break;o=i}r++}return{attrs:e,classes:t}}function $e(n){return Fa(()=>{let e=__(n),t=be($({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===p_.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||zn.Emulated,styles:n.styles||ln,_:null,schemas:n.schemas||null,tView:null,id:""});I_(t);let r=n.dependencies;return t.directiveDefs=Ex(r,!1),t.pipeDefs=Ex(r,!0),t.id=ik(t),t})}function rk(n){return Zr(n)||v_(n)}function ok(n){return n!==null}function _t(n){return Fa(()=>({type:n.type,bootstrap:n.bootstrap||ln,declarations:n.declarations||ln,imports:n.imports||ln,exports:n.exports||ln,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function Ix(n,e){if(n==null)return Li;let t={};for(let r in n)if(n.hasOwnProperty(r)){let o=n[r],i,s,a=Yr.None;Array.isArray(o)?(a=o[0],i=o[1],s=o[2]??i):(i=o,s=o),e?(t[i]=a!==Yr.None?[r,a]:r,e[i]=s):t[i]=r}return t}function ze(n){return Fa(()=>{let e=__(n);return I_(e),e})}function b_(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Zr(n){return n[TA]||null}function v_(n){return n[SA]||null}function y_(n){return n[AA]||null}function w_(n){let e=Zr(n)||v_(n)||y_(n);return e!==null?e.standalone:!1}function x_(n,e){let t=n[kA]||null;if(!t&&e===!0)throw new Error(`Type ${Nt(n)} does not have '\u0275mod' property.`);return t}function __(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Li,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||ln,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ix(n.inputs,e),outputs:Ix(n.outputs),debugInfo:null}}function I_(n){n.features?.forEach(e=>e(n))}function Ex(n,e){if(!n)return null;let t=e?y_:rk;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(ok)}function ik(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let o of t)e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Kn(n){return{\u0275providers:n}}function Yi(...n){return{\u0275providers:E_(!0,n),\u0275fromNgModule:!0}}function E_(n,...e){let t=[],r=new Set,o,i=s=>{t.push(s)};return $m(e,s=>{let a=s;Jp(a,i,[],r)&&(o||=[],o.push(a))}),o!==void 0&&C_(o,i),t}function C_(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:o}=n[t];Hm(o,i=>{e(i,r)})}}function Jp(n,e,t,r){if(n=Pt(n),!n)return!1;let o=null,i=bx(n),s=!i&&Zr(n);if(!i&&!s){let c=n.ngModule;if(i=bx(c),i)o=c;else return!1}else{if(s&&!s.standalone)return!1;o=n}let a=r.has(o);if(s){if(a)return!1;if(r.add(o),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let u of c)Jp(u,e,t,r)}}else if(i){if(i.imports!=null&&!a){r.add(o);let u;try{$m(i.imports,h=>{Jp(h,e,t,r)&&(u||=[],u.push(h))})}finally{}u!==void 0&&C_(u,e)}if(!a){let u=No(o)||(()=>new o);e({provide:o,useFactory:u,deps:ln},o),e({provide:f_,useValue:o,multi:!0},o),e({provide:ji,useValue:()=>B(o),multi:!0},o)}let c=i.providers;if(c!=null&&!a){let u=n;Hm(c,h=>{e(h,u)})}}else return!1;return o!==n&&n.providers!==void 0}function Hm(n,e){for(let t of n)a_(t)&&(t=t.\u0275providers),Array.isArray(t)?Hm(t,e):e(t)}var sk=Pe({provide:String,useValue:Pe});function D_(n){return n!==null&&typeof n=="object"&&sk in n}function ak(n){return!!(n&&n.useExisting)}function lk(n){return!!(n&&n.useFactory)}function Bi(n){return typeof n=="function"}function ck(n){return!!n.useClass}var Wu=new z(""),fu={},uk={},Fp;function qm(){return Fp===void 0&&(Fp=new xu),Fp}var Ot=class{},Ra=class extends Ot{get destroyed(){return this._destroyed}constructor(e,t,r,o){super(),this.parent=t,this.source=r,this.scopes=o,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,tm(e,s=>this.processProvider(s)),this.records.set(h_,Mi(void 0,this)),o.has("environment")&&this.records.set(Ot,Mi(void 0,this));let i=this.records.get(Wu);i!=null&&typeof i.value=="string"&&this.scopes.add(i.value),this.injectorDefTypes=new Set(this.get(f_,ln,ue.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=xe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),xe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=Wr(this),r=qt(void 0),o;try{return e()}finally{Wr(t),qt(r)}}get(e,t=ka,r=ue.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(yx))return e[yx](this);r=qu(r);let o,i=Wr(this),s=qt(void 0);try{if(!(r&ue.SkipSelf)){let c=this.records.get(e);if(c===void 0){let u=mk(e)&&Hu(e);u&&this.injectableDefInScope(u)?c=Mi(em(e),fu):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&ue.Self?qm():this.parent;return t=r&ue.Optional&&t===ka?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[yu]=a[yu]||[]).unshift(Nt(e)),i)throw a;return BA(a,e,"R3InjectorError",this.source)}else throw a}finally{qt(s),Wr(i)}}resolveInjectorInitializers(){let e=xe(null),t=Wr(this),r=qt(void 0),o;try{let i=this.get(ji,ln,ue.Self);for(let s of i)s()}finally{Wr(t),qt(r),xe(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Nt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=Pt(e);let t=Bi(e)?e:Pt(e&&e.provide),r=hk(e);if(!Bi(e)&&e.multi===!0){let o=this.records.get(t);o||(o=Mi(void 0,fu,!0),o.factory=()=>Zp(o.multi),this.records.set(t,o)),t=e,o.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=xe(null);try{return t.value===fu&&(t.value=uk,t.value=t.factory()),typeof t.value=="object"&&t.value&&pk(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{xe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Pt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function em(n){let e=Hu(n),t=e!==null?e.factory:No(n);if(t!==null)return t;if(n instanceof z)throw new Q(204,!1);if(n instanceof Function)return dk(n);throw new Q(204,!1)}function dk(n){if(n.length>0)throw new Q(204,!1);let t=CA(n);return t!==null?()=>t.factory(n):()=>new n}function hk(n){if(D_(n))return Mi(void 0,n.useValue);{let e=T_(n);return Mi(e,fu)}}function T_(n,e,t){let r;if(Bi(n)){let o=Pt(n);return No(o)||em(o)}else if(D_(n))r=()=>Pt(n.useValue);else if(lk(n))r=()=>n.useFactory(...Zp(n.deps||[]));else if(ak(n))r=()=>B(Pt(n.useExisting));else{let o=Pt(n&&(n.useClass||n.provide));if(fk(n))r=()=>new o(...Zp(n.deps));else return No(o)||em(o)}return r}function Mi(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function fk(n){return!!n.deps}function pk(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function mk(n){return typeof n=="function"||typeof n=="object"&&n instanceof z}function tm(n,e){for(let t of n)Array.isArray(t)?tm(t,e):t&&a_(t)?tm(t.\u0275providers,e):e(t)}function dn(n,e){n instanceof Ra&&n.assertNotDestroyed();let t,r=Wr(n),o=qt(void 0);try{return e()}finally{Wr(r),qt(o)}}function S_(){return l_()!==void 0||VA()!=null}function gk(n){if(!S_())throw new Q(-203,!1)}function bk(n){return typeof n=="function"}var yr=0,he=1,ie=2,Ft=3,Cn=4,An=5,_u=6,Iu=7,Dn=8,Ui=9,Hn=10,nt=11,Pa=12,Cx=13,Zi=14,qn=15,$i=16,Ri=17,zi=18,Ku=19,A_=20,Kr=21,Vp=22,cn=23,Tn=25,k_=1;var Oo=7,Eu=8,Cu=9,un=10,Du=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Du||{});function Qr(n){return Array.isArray(n)&&typeof n[k_]=="object"}function wr(n){return Array.isArray(n)&&n[k_]===!0}function M_(n){return(n.flags&4)!==0}function Qu(n){return n.componentOffset>-1}function Gm(n){return(n.flags&1)===1}function Xr(n){return!!n.template}function nm(n){return(n[ie]&512)!==0}var rm=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function R_(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function xr(){return P_}function P_(n){return n.type.prototype.ngOnChanges&&(n.setInput=yk),vk}xr.ngInherit=!0;function vk(){let n=O_(this),e=n?.current;if(e){let t=n.previous;if(t===Li)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function yk(n,e,t,r,o){let i=this.declaredInputs[r],s=O_(n)||wk(n,{previous:Li,current:null}),a=s.current||(s.current={}),c=s.previous,u=c[i];a[i]=new rm(u&&u.currentValue,t,c===Li),R_(n,e,o,t)}var N_="__ngSimpleChanges__";function O_(n){return n[N_]||null}function wk(n,e){return n[N_]=e}var Dx=null;var Un=function(n,e,t){Dx?.(n,e,t)},xk="svg",_k="math";function Gn(n){for(;Array.isArray(n);)n=n[yr];return n}function F_(n,e){return Gn(e[n])}function hn(n,e){return Gn(e[n.index])}function V_(n,e){return n.data[e]}function L_(n,e){return n[e]}function to(n,e){let t=e[n];return Qr(t)?t:t[yr]}function Wm(n){return(n[ie]&128)===128}function Ik(n){return wr(n[Ft])}function Tu(n,e){return e==null?null:n[e]}function j_(n){n[Ri]=0}function B_(n){n[ie]&1024||(n[ie]|=1024,Wm(n)&&Zu(n))}function Ek(n,e){for(;n>0;)e=e[Zi],n--;return e}function Yu(n){return!!(n[ie]&9216||n[cn]?.dirty)}function om(n){n[Hn].changeDetectionScheduler?.notify(8),n[ie]&64&&(n[ie]|=1024),Yu(n)&&Zu(n)}function Zu(n){n[Hn].changeDetectionScheduler?.notify(0);let e=Fo(n);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!Wm(e)));)e=Fo(e)}function U_(n,e){if((n[ie]&256)===256)throw new Q(911,!1);n[Kr]===null&&(n[Kr]=[]),n[Kr].push(e)}function Ck(n,e){if(n[Kr]===null)return;let t=n[Kr].indexOf(e);t!==-1&&n[Kr].splice(t,1)}function Fo(n){let e=n[Ft];return wr(e)?e[Ft]:e}var de={lFrame:Z_(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var $_=!1;function Dk(){return de.lFrame.elementDepthCount}function Tk(){de.lFrame.elementDepthCount++}function Sk(){de.lFrame.elementDepthCount--}function z_(){return de.bindingsEnabled}function Ak(){return de.skipHydrationRootTNode!==null}function kk(n){return de.skipHydrationRootTNode===n}function Mk(){de.skipHydrationRootTNode=null}function De(){return de.lFrame.lView}function jt(){return de.lFrame.tView}function lt(n){return de.lFrame.contextLView=n,n[Dn]}function ct(n){return de.lFrame.contextLView=null,n}function Bt(){let n=H_();for(;n!==null&&n.type===64;)n=n.parent;return n}function H_(){return de.lFrame.currentTNode}function Rk(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function La(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function q_(){return de.lFrame.isParent}function Pk(){de.lFrame.isParent=!1}function Nk(){return de.lFrame.contextLView}function G_(){return $_}function Tx(n){$_=n}function Km(){let n=de.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ok(){return de.lFrame.bindingIndex}function Fk(n){return de.lFrame.bindingIndex=n}function Xu(){return de.lFrame.bindingIndex++}function W_(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function Vk(){return de.lFrame.inI18n}function Lk(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,im(e)}function jk(){return de.lFrame.currentDirectiveIndex}function im(n){de.lFrame.currentDirectiveIndex=n}function Bk(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function K_(n){de.lFrame.currentQueryIndex=n}function Uk(n){let e=n[he];return e.type===2?e.declTNode:e.type===1?n[An]:null}function Q_(n,e,t){if(t&ue.SkipSelf){let o=e,i=n;for(;o=o.parent,o===null&&!(t&ue.Host);)if(o=Uk(i),o===null||(i=i[Zi],o.type&10))break;if(o===null)return!1;e=o,n=i}let r=de.lFrame=Y_();return r.currentTNode=e,r.lView=n,!0}function Qm(n){let e=Y_(),t=n[he];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function Y_(){let n=de.lFrame,e=n===null?null:n.child;return e===null?Z_(n):e}function Z_(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function X_(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var J_=X_;function Ym(){let n=X_();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $k(n){return(de.lFrame.contextLView=Ek(n,de.lFrame.contextLView))[Dn]}function $o(){return de.lFrame.selectedIndex}function Vo(n){de.lFrame.selectedIndex=n}function Ju(){let n=de.lFrame;return V_(n.tView,n.selectedIndex)}function zk(){return de.lFrame.currentNamespace}var eI=!0;function Zm(){return eI}function Xm(n){eI=n}function Hk(n,e,t){let{ngOnChanges:r,ngOnInit:o,ngDoCheck:i}=e.type.prototype;if(r){let s=P_(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}o&&(t.preOrderHooks??=[]).push(0-n,o),i&&((t.preOrderHooks??=[]).push(n,i),(t.preOrderCheckHooks??=[]).push(n,i))}function Jm(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let i=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:h}=i;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function pu(n,e,t){tI(n,e,3,t)}function mu(n,e,t,r){(n[ie]&3)===t&&tI(n,e,t,r)}function Lp(n,e){let t=n[ie];(t&3)===e&&(t&=16383,t+=1,n[ie]=t)}function tI(n,e,t,r){let o=r!==void 0?n[Ri]&65535:0,i=r??-1,s=e.length-1,a=0;for(let c=o;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(n[Ri]+=65536),(a<i||i==-1)&&(qk(n,t,e,c),n[Ri]=(n[Ri]&4294901760)+c+2),c++}function Sx(n,e){Un(4,n,e);let t=xe(null);try{e.call(n)}finally{xe(t),Un(5,n,e)}}function qk(n,e,t,r){let o=t[r]<0,i=t[r+1],s=o?-t[r]:t[r],a=n[s];o?n[ie]>>14<n[Ri]>>16&&(n[ie]&3)===e&&(n[ie]+=16384,Sx(a,i)):Sx(a,i)}var Fi=-1,Lo=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function Gk(n){return n instanceof Lo}function Wk(n){return(n.flags&8)!==0}function Kk(n){return(n.flags&16)!==0}var jp={},sm=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=qu(r);let o=this.injector.get(e,jp,r);return o!==jp||t===jp?o:this.parentInjector.get(e,t,r)}};function nI(n){return n!==Fi}function Su(n){return n&32767}function Qk(n){return n>>16}function Au(n,e){let t=Qk(n),r=e;for(;t>0;)r=r[Zi],t--;return r}var am=!0;function ku(n){let e=am;return am=n,e}var Yk=256,rI=Yk-1,oI=5,Zk=0,$n={};function Xk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Aa)&&(r=t[Aa]),r==null&&(r=t[Aa]=Zk++);let o=r&rI,i=1<<o;e.data[n+(o>>oI)]|=i}function Mu(n,e){let t=iI(n,e);if(t!==-1)return t;let r=e[he];r.firstCreatePass&&(n.injectorIndex=e.length,Bp(r.data,n),Bp(e,null),Bp(r.blueprint,null));let o=eg(n,e),i=n.injectorIndex;if(nI(o)){let s=Su(o),a=Au(o,e),c=a[he].data;for(let u=0;u<8;u++)e[i+u]=a[s+u]|c[s+u]}return e[i+8]=o,i}function Bp(n,e){n.push(0,0,0,0,0,0,0,0,e)}function iI(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function eg(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,o=e;for(;o!==null;){if(r=uI(o),r===null)return Fi;if(t++,o=o[Zi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Fi}function lm(n,e,t){Xk(n,e,t)}function Jk(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,o=0;for(;o<r;){let i=t[o];if(m_(i))break;if(i===0)o=o+2;else if(typeof i=="number")for(o++;o<r&&typeof t[o]=="string";)o++;else{if(i===e)return t[o+1];o=o+2}}}return null}function sI(n,e,t){if(t&ue.Optional||n!==void 0)return n;Um(e,"NodeInjector")}function aI(n,e,t,r){if(t&ue.Optional&&r===void 0&&(r=null),!(t&(ue.Self|ue.Host))){let o=n[Ui],i=qt(void 0);try{return o?o.get(e,r,t&ue.Optional):c_(e,r,t&ue.Optional)}finally{qt(i)}}return sI(r,e,t)}function lI(n,e,t,r=ue.Default,o){if(n!==null){if(e[ie]&2048&&!(r&ue.Self)){let s=oM(n,e,t,r,$n);if(s!==$n)return s}let i=cI(n,e,t,r,$n);if(i!==$n)return i}return aI(e,t,r,o)}function cI(n,e,t,r,o){let i=nM(t);if(typeof i=="function"){if(!Q_(e,n,r))return r&ue.Host?sI(o,t,r):aI(e,t,r,o);try{let s;if(s=i(r),s==null&&!(r&ue.Optional))Um(t);else return s}finally{J_()}}else if(typeof i=="number"){let s=null,a=iI(n,e),c=Fi,u=r&ue.Host?e[qn][An]:null;for((a===-1||r&ue.SkipSelf)&&(c=a===-1?eg(n,e):e[a+8],c===Fi||!kx(r,!1)?a=-1:(s=e[he],a=Su(c),e=Au(c,e)));a!==-1;){let h=e[he];if(Ax(i,a,h.data)){let p=eM(a,e,t,s,r,u);if(p!==$n)return p}c=e[a+8],c!==Fi&&kx(r,e[he].data[a+8]===u)&&Ax(i,a,e)?(s=h,a=Su(c),e=Au(c,e)):a=-1}}return o}function eM(n,e,t,r,o,i){let s=e[he],a=s.data[n+8],c=r==null?Qu(a)&&am:r!=s&&(a.type&3)!==0,u=o&ue.Host&&i===a,h=tM(a,s,t,c,u);return h!==null?Hi(e,s,h,a):$n}function tM(n,e,t,r,o){let i=n.providerIndexes,s=e.data,a=i&1048575,c=n.directiveStart,u=n.directiveEnd,h=i>>20,p=r?a:a+h,g=o?a+h:u;for(let v=p;v<g;v++){let D=s[v];if(v<c&&t===D||v>=c&&D.type===t)return v}if(o){let v=s[c];if(v&&Xr(v)&&v.type===t)return c}return null}function Hi(n,e,t,r){let o=n[t],i=e.data;if(Gk(o)){let s=o;s.resolving&&RA(MA(i[t]));let a=ku(s.canSeeViewProviders);s.resolving=!0;let c,u=s.injectImpl?qt(s.injectImpl):null,h=Q_(n,r,ue.Default);try{o=n[t]=s.factory(void 0,i,n,r),e.firstCreatePass&&t>=r.directiveStart&&Hk(t,i[t],e)}finally{u!==null&&qt(u),ku(a),s.resolving=!1,J_()}}return o}function nM(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Aa)?n[Aa]:void 0;return typeof e=="number"?e>=0?e&rI:rM:e}function Ax(n,e,t){let r=1<<n;return!!(t[e+(n>>oI)]&r)}function kx(n,e){return!(n&ue.Self)&&!(n&ue.Host&&e)}var Po=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return lI(this._tNode,this._lView,e,qu(r),t)}};function rM(){return new Po(Bt(),De())}function no(n){return Fa(()=>{let e=n.prototype.constructor,t=e[vu]||cm(e),r=Object.prototype,o=Object.getPrototypeOf(n.prototype).constructor;for(;o&&o!==r;){let i=o[vu]||cm(o);if(i&&i!==t)return i;o=Object.getPrototypeOf(o)}return i=>new i})}function cm(n){return r_(n)?()=>{let e=cm(Pt(n));return e&&e()}:No(n)}function oM(n,e,t,r,o){let i=n,s=e;for(;i!==null&&s!==null&&s[ie]&2048&&!(s[ie]&512);){let a=cI(i,s,t,r|ue.Self,$n);if(a!==$n)return a;let c=i.parent;if(!c){let u=s[A_];if(u){let h=u.get(t,$n,r);if(h!==$n)return h}c=uI(s),s=s[Zi]}i=c}return o}function uI(n){let e=n[he],t=e.type;return t===2?e.declTNode:t===1?n[An]:null}function tg(n){return Jk(Bt(),n)}function Mx(n,e=null,t=null,r){let o=dI(n,e,t,r);return o.resolveInjectorInitializers(),o}function dI(n,e=null,t=null,r,o=new Set){let i=[t||ln,Yi(n)];return r=r||(typeof n=="object"?void 0:Nt(n)),new Ra(i,e||qm(),r||null,o)}var Vt=class n{static{this.THROW_IF_NOT_FOUND=ka}static{this.NULL=new xu}static create(e,t){if(Array.isArray(e))return Mx({name:""},t,e,"");{let r=e.name??"";return Mx({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=H({token:n,providedIn:"any",factory:()=>B(h_)})}static{this.__NG_ELEMENT_ID__=-1}};var iM=new z("");iM.__NG_ELEMENT_ID__=n=>{let e=Bt();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(n&ue.Optional)return null;throw new Q(204,!1)};var sM="ngOriginalError";function Up(n){return n[sM]}var hI=!0,ng=(()=>{class n{static{this.__NG_ELEMENT_ID__=aM}static{this.__NG_ENV_ID__=t=>t}}return n})(),um=class extends ng{constructor(e){super(),this._lView=e}onDestroy(e){return U_(this._lView,e),()=>Ck(this._lView,e)}};function aM(){return new um(De())}var ro=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ge(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}}return n})();var dm=class extends Be{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,S_()&&(this.destroyRef=N(ng,{optional:!0})??void 0,this.pendingTasks=N(ro,{optional:!0})??void 0)}emit(e){let t=xe(null);try{super.next(e)}finally{xe(t)}}subscribe(e,t,r){let o=e,i=t||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;o=c.next?.bind(c),i=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(i=this.wrapInTimeout(i),o&&(o=this.wrapInTimeout(o)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:o,error:i,complete:s});return e instanceof Ye&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},Oe=dm;function Ru(...n){}function fI(n){let e,t;function r(){n=Ru;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function Rx(n){return queueMicrotask(()=>n()),()=>{n=Ru}}var rg="isAngularZone",Pu=rg+"_ID",lM=0,ye=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:o=!1,scheduleInRootZone:i=hI}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!o&&r,s.shouldCoalesceRunChangeDetection=o,s.callbackScheduled=!1,s.scheduleInRootZone=i,dM(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(rg)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new Q(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,o){let i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+o,e,cM,Ru,Ru);try{return i.runTask(s,t,r)}finally{i.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},cM={};function og(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function uM(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){fI(()=>{n.callbackScheduled=!1,hm(n),n.isCheckStableRunning=!0,og(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),hm(n)}function dM(n){let e=()=>{uM(n)},t=lM++;n._inner=n._inner.fork({name:"angular",properties:{[rg]:!0,[Pu]:t,[Pu+t]:!0},onInvokeTask:(r,o,i,s,a,c)=>{if(hM(c))return r.invokeTask(i,s,a,c);try{return Px(n),r.invokeTask(i,s,a,c)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Nx(n)}},onInvoke:(r,o,i,s,a,c,u)=>{try{return Px(n),r.invoke(i,s,a,c,u)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!fM(c)&&e(),Nx(n)}},onHasTask:(r,o,i,s)=>{r.hasTask(i,s),o===i&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,hm(n),og(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,o,i,s)=>(r.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function hm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Px(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Nx(n){n._nesting--,og(n)}var fm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oe,this.onMicrotaskEmpty=new Oe,this.onStable=new Oe,this.onError=new Oe}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,o){return e.apply(t,r)}};function hM(n){return pI(n,"__ignore_ng_zone__")}function fM(n){return pI(n,"__scheduler_tick__")}function pI(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var br=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Up(e);for(;t&&Up(t);)t=Up(t);return t||null}},pM=new z("",{providedIn:"root",factory:()=>{let n=N(ye),e=N(br);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function mM(){return ed(Bt(),De())}function ed(n,e){return new fn(hn(n,e))}var fn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=mM}}return n})();function mI(n){return(n.flags&128)===128}var gI=new Map,gM=0;function bM(){return gM++}function vM(n){gI.set(n[Ku],n)}function pm(n){gI.delete(n[Ku])}var Ox="__ngContext__";function jo(n,e){Qr(e)?(n[Ox]=e[Ku],vM(e)):n[Ox]=e}function bI(n){return yI(n[Pa])}function vI(n){return yI(n[Cn])}function yI(n){for(;n!==null&&!wr(n);)n=n[Cn];return n}var mm;function wI(n){mm=n}function yM(){if(mm!==void 0)return mm;if(typeof document<"u")return document;throw new Q(210,!1)}var ig=new z("",{providedIn:"root",factory:()=>wM}),wM="ng",sg=new z(""),It=new z("",{providedIn:"platform",factory:()=>"unknown"});var ag=new z("",{providedIn:"root",factory:()=>yM().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var xM="h",_M="b";var IM=()=>null;function lg(n,e,t=!1){return IM(n,e,t)}var xI=!1,EM=new z("",{providedIn:"root",factory:()=>xI});var cu;function CM(){if(cu===void 0&&(cu=null,Ro.trustedTypes))try{cu=Ro.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return cu}function Fx(n){return CM()?.createScriptURL(n)||n}var Nu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${t_})`}};function ja(n){return n instanceof Nu?n.changingThisBreaksApplicationSecurity:n}function cg(n,e){let t=DM(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${t_})`)}return t===e}function DM(n){return n instanceof Nu&&n.getTypeName()||null}var TM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function _I(n){return n=String(n),n.match(TM)?n:"unsafe:"+n}var td=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(td||{});function zo(n){let e=EI();return e?e.sanitize(td.URL,n)||"":cg(n,"URL")?ja(n):_I(Vi(n))}function SM(n){let e=EI();if(e)return Fx(e.sanitize(td.RESOURCE_URL,n)||"");if(cg(n,"ResourceURL"))return Fx(ja(n));throw new Q(904,!1)}function AM(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?SM:zo}function II(n,e,t){return AM(e,t)(n)}function EI(){let n=De();return n&&n[Hn].sanitizer}function CI(n){return n instanceof Function?n():n}function kM(n){return(n??N(Vt)).get(It)==="browser"}var Wn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(Wn||{}),MM;function ug(n,e){return MM(n,e)}function Pi(n,e,t,r,o){if(r!=null){let i,s=!1;wr(r)?i=r:Qr(r)&&(s=!0,r=r[yr]);let a=Gn(r);n===0&&t!==null?o==null?kI(e,t,a):Ou(e,t,a,o||null,!0):n===1&&t!==null?Ou(e,t,a,o||null,!0):n===2?GM(e,a,s):n===3&&e.destroyNode(a),i!=null&&KM(e,n,i,t,o)}}function RM(n,e){return n.createText(e)}function PM(n,e,t){n.setValue(e,t)}function DI(n,e,t){return n.createElement(e,t)}function NM(n,e){TI(n,e),e[yr]=null,e[An]=null}function OM(n,e,t,r,o,i){r[yr]=o,r[An]=e,nd(n,r,t,1,o,i)}function TI(n,e){e[Hn].changeDetectionScheduler?.notify(9),nd(n,e,e[nt],2,null,null)}function FM(n){let e=n[Pa];if(!e)return $p(n[he],n);for(;e;){let t=null;if(Qr(e))t=e[Pa];else{let r=e[un];r&&(t=r)}if(!t){for(;e&&!e[Cn]&&e!==n;)Qr(e)&&$p(e[he],e),e=e[Ft];e===null&&(e=n),Qr(e)&&$p(e[he],e),t=e&&e[Cn]}e=t}}function VM(n,e,t,r){let o=un+r,i=t.length;r>0&&(t[o-1][Cn]=e),r<i-un?(e[Cn]=t[o],d_(t,un+r,e)):(t.push(e),e[Cn]=null),e[Ft]=t;let s=e[$i];s!==null&&t!==s&&SI(s,e);let a=e[zi];a!==null&&a.insertView(n),om(e),e[ie]|=128}function SI(n,e){let t=n[Cu],r=e[Ft];if(Qr(r))n[ie]|=Du.HasTransplantedViews;else{let o=r[Ft][qn];e[qn]!==o&&(n[ie]|=Du.HasTransplantedViews)}t===null?n[Cu]=[e]:t.push(e)}function dg(n,e){let t=n[Cu],r=t.indexOf(e);t.splice(r,1)}function gm(n,e){if(n.length<=un)return;let t=un+e,r=n[t];if(r){let o=r[$i];o!==null&&o!==n&&dg(o,r),e>0&&(n[t-1][Cn]=r[Cn]);let i=wu(n,un+e);NM(r[he],r);let s=i[zi];s!==null&&s.detachView(i[he]),r[Ft]=null,r[Cn]=null,r[ie]&=-129}return r}function AI(n,e){if(!(e[ie]&256)){let t=e[nt];t.destroyNode&&nd(n,e,t,3,null,null),FM(e)}}function $p(n,e){if(e[ie]&256)return;let t=xe(null);try{e[ie]&=-129,e[ie]|=256,e[cn]&&mp(e[cn]),jM(n,e),LM(n,e),e[he].type===1&&e[nt].destroy();let r=e[$i];if(r!==null&&wr(e[Ft])){r!==e[Ft]&&dg(r,e);let o=e[zi];o!==null&&o.detachView(n)}pm(e)}finally{xe(t)}}function LM(n,e){let t=n.cleanup,r=e[Iu];if(t!==null)for(let i=0;i<t.length-1;i+=2)if(typeof t[i]=="string"){let s=t[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else{let s=r[t[i+1]];t[i].call(s)}r!==null&&(e[Iu]=null);let o=e[Kr];if(o!==null){e[Kr]=null;for(let i=0;i<o.length;i++){let s=o[i];s()}}}function jM(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let o=e[t[r]];if(!(o instanceof Lo)){let i=t[r+1];if(Array.isArray(i))for(let s=0;s<i.length;s+=2){let a=o[i[s]],c=i[s+1];Un(4,a,c);try{c.call(a)}finally{Un(5,a,c)}}else{Un(4,o,i);try{i.call(o)}finally{Un(5,o,i)}}}}}function BM(n,e,t){return UM(n,e.parent,t)}function UM(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[yr];{let{componentOffset:o}=r;if(o>-1){let{encapsulation:i}=n.data[r.directiveStart+o];if(i===zn.None||i===zn.Emulated)return null}return hn(r,t)}}function Ou(n,e,t,r,o){n.insertBefore(e,t,r,o)}function kI(n,e,t){n.appendChild(e,t)}function Vx(n,e,t,r,o){r!==null?Ou(n,e,t,r,o):kI(n,e,t)}function MI(n,e){return n.parentNode(e)}function $M(n,e){return n.nextSibling(e)}function zM(n,e,t){return qM(n,e,t)}function HM(n,e,t){return n.type&40?hn(n,t):null}var qM=HM,Lx;function hg(n,e,t,r){let o=BM(n,r,e),i=e[nt],s=r.parent||e[An],a=zM(s,r,e);if(o!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Vx(i,o,t[c],a,!1);else Vx(i,o,t,a,!1);Lx!==void 0&&Lx(i,r,e,t,o)}function Sa(n,e){if(e!==null){let t=e.type;if(t&3)return hn(e,n);if(t&4)return bm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Sa(n,r);{let o=n[e.index];return wr(o)?bm(-1,o):Gn(o)}}else{if(t&128)return Sa(n,e.next);if(t&32)return ug(e,n)()||Gn(n[e.index]);{let r=RI(n,e);if(r!==null){if(Array.isArray(r))return r[0];let o=Fo(n[qn]);return Sa(o,r)}else return Sa(n,e.next)}}}return null}function RI(n,e){if(e!==null){let r=n[qn][An],o=e.projection;return r.projection[o]}return null}function bm(n,e){let t=un+n+1;if(t<e.length){let r=e[t],o=r[he].firstChild;if(o!==null)return Sa(r,o)}return e[Oo]}function GM(n,e,t){n.removeChild(null,e,t)}function fg(n,e,t,r,o,i,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],c=t.type;if(s&&e===0&&(a&&jo(Gn(a),r),t.flags|=2),(t.flags&32)!==32)if(c&8)fg(n,e,t.child,r,o,i,!1),Pi(e,n,o,a,i);else if(c&32){let u=ug(t,r),h;for(;h=u();)Pi(e,n,o,h,i);Pi(e,n,o,a,i)}else c&16?WM(n,e,r,t,o,i):Pi(e,n,o,a,i);t=s?t.projectionNext:t.next}}function nd(n,e,t,r,o,i){fg(t,r,n.firstChild,e,o,i,!1)}function WM(n,e,t,r,o,i){let s=t[qn],c=s[An].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++){let h=c[u];Pi(e,n,o,h,i)}else{let u=c,h=s[Ft];mI(r)&&(u.flags|=128),fg(n,e,u,h,o,i,!0)}}function KM(n,e,t,r,o){let i=t[Oo],s=Gn(t);i!==s&&Pi(e,n,r,i,o);for(let a=un;a<t.length;a++){let c=t[a];nd(c[he],c,n,e,r,i)}}function QM(n,e,t,r,o){if(e)o?n.addClass(t,r):n.removeClass(t,r);else{let i=r.indexOf("-")===-1?void 0:Wn.DashCase;o==null?n.removeStyle(t,r,i):(typeof o=="string"&&o.endsWith("!important")&&(o=o.slice(0,-10),i|=Wn.Important),n.setStyle(t,r,o,i))}}function YM(n,e,t){n.setAttribute(e,"style",t)}function PI(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function NI(n,e,t){let{mergedAttrs:r,classes:o,styles:i}=t;r!==null&&Xp(n,e,r),o!==null&&PI(n,e,o),i!==null&&YM(n,e,i)}var kn={};function q(n=1){OI(jt(),De(),$o()+n,!1)}function OI(n,e,t,r){if(!r)if((e[ie]&3)===3){let i=n.preOrderCheckHooks;i!==null&&pu(e,i,t)}else{let i=n.preOrderHooks;i!==null&&mu(e,i,0,t)}Vo(t)}function O(n,e=ue.Default){let t=De();if(t===null)return B(n,e);let r=Bt();return lI(r,t,Pt(n),e)}function FI(){let n="invalid";throw new Error(n)}function VI(n,e,t,r,o,i){let s=xe(null);try{let a=null;o&Yr.SignalBased&&(a=e[r][hr]),a!==null&&a.transformFn!==void 0&&(i=a.transformFn(i)),o&Yr.HasDecoratorInputTransform&&(i=n.inputTransforms[r].call(e,i)),n.setInput!==null?n.setInput(e,a,i,t,r):R_(e,a,r,i)}finally{xe(s)}}function ZM(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let o=t[r];if(o<0)Vo(~o);else{let i=o,s=t[++r],a=t[++r];Lk(s,i);let c=e[i];a(2,c)}}}finally{Vo(-1)}}function rd(n,e,t,r,o,i,s,a,c,u,h){let p=e.blueprint.slice();return p[yr]=o,p[ie]=r|4|128|8|64,(u!==null||n&&n[ie]&2048)&&(p[ie]|=2048),j_(p),p[Ft]=p[Zi]=n,p[Dn]=t,p[Hn]=s||n&&n[Hn],p[nt]=a||n&&n[nt],p[Ui]=c||n&&n[Ui]||null,p[An]=i,p[Ku]=bM(),p[_u]=h,p[A_]=u,p[qn]=e.type==2?n[qn]:p,p}function od(n,e,t,r,o){let i=n.data[e];if(i===null)i=XM(n,e,t,r,o),Vk()&&(i.flags|=32);else if(i.type&64){i.type=t,i.value=r,i.attrs=o;let s=Rk();i.injectorIndex=s===null?-1:s.injectorIndex}return La(i,!0),i}function XM(n,e,t,r,o){let i=H_(),s=q_(),a=s?i:i&&i.parent,c=n.data[e]=rR(n,a,t,e,r,o);return n.firstChild===null&&(n.firstChild=c),i!==null&&(s?i.child==null&&c.parent!==null&&(i.child=c):i.next===null&&(i.next=c,c.prev=i)),c}function LI(n,e,t,r){if(t===0)return-1;let o=e.length;for(let i=0;i<t;i++)e.push(r),n.blueprint.push(r),n.data.push(null);return o}function jI(n,e,t,r,o){let i=$o(),s=r&2;try{Vo(-1),s&&e.length>Tn&&OI(n,e,Tn,!1),Un(s?2:0,o),t(r,o)}finally{Vo(i),Un(s?3:1,o)}}function BI(n,e,t){if(M_(e)){let r=xe(null);try{let o=e.directiveStart,i=e.directiveEnd;for(let s=o;s<i;s++){let a=n.data[s];if(a.contentQueries){let c=t[s];a.contentQueries(1,c,s)}}}finally{xe(r)}}}function UI(n,e,t){z_()&&(cR(n,e,t,hn(t,e)),(t.flags&64)===64&&GI(n,e,t))}function $I(n,e,t=hn){let r=e.localNames;if(r!==null){let o=e.index+1;for(let i=0;i<r.length;i+=2){let s=r[i+1],a=s===-1?t(e,n):n[s];n[o++]=a}}}function zI(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=pg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function pg(n,e,t,r,o,i,s,a,c,u,h){let p=Tn+r,g=p+o,v=JM(p,g),D=typeof u=="function"?u():u;return v[he]={type:n,blueprint:v,template:t,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof i=="function"?i():i,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:D,incompleteFirstPass:!1,ssrId:h}}function JM(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:kn);return t}function eR(n,e,t,r){let i=r.get(EM,xI)||t===zn.ShadowDom,s=n.selectRootElement(e,i);return tR(s),s}function tR(n){nR(n)}var nR=()=>null;function rR(n,e,t,r,o,i){let s=e?e.injectorIndex:-1,a=0;return Ak()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:o,attrs:i,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function jx(n,e,t,r,o){for(let i in e){if(!e.hasOwnProperty(i))continue;let s=e[i];if(s===void 0)continue;r??={};let a,c=Yr.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let u=i;if(o!==null){if(!o.hasOwnProperty(i))continue;u=o[i]}n===0?Bx(r,t,u,a,c):Bx(r,t,u,a)}return r}function Bx(n,e,t,r,o){let i;n.hasOwnProperty(t)?(i=n[t]).push(e,r):i=n[t]=[e,r],o!==void 0&&i.push(o)}function oR(n,e,t){let r=e.directiveStart,o=e.directiveEnd,i=n.data,s=e.attrs,a=[],c=null,u=null;for(let h=r;h<o;h++){let p=i[h],g=t?t.get(p):null,v=g?g.inputs:null,D=g?g.outputs:null;c=jx(0,p.inputs,h,c,v),u=jx(1,p.outputs,h,u,D);let M=c!==null&&s!==null&&!zm(e)?wR(c,h,s):null;a.push(M)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}function iR(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function mg(n,e,t,r,o,i,s,a){let c=hn(e,t),u=e.inputs,h;!a&&u!=null&&(h=u[r])?(gg(n,t,h,r,o),Qu(e)&&sR(t,e.index)):e.type&3?(r=iR(r),o=s!=null?s(o,e.value||"",r):o,i.setProperty(c,r,o)):e.type&12}function sR(n,e){let t=to(e,n);t[ie]&16||(t[ie]|=64)}function HI(n,e,t,r){if(z_()){let o=r===null?null:{"":-1},i=dR(n,t),s,a;i===null?s=a=null:[s,a]=i,s!==null&&qI(n,e,t,s,o,a),o&&hR(t,r,o)}t.mergedAttrs=Ma(t.mergedAttrs,t.attrs)}function qI(n,e,t,r,o,i){for(let u=0;u<r.length;u++)lm(Mu(t,e),n,r[u].type);pR(t,n.data.length,r.length);for(let u=0;u<r.length;u++){let h=r[u];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,c=LI(n,e,r.length,null);for(let u=0;u<r.length;u++){let h=r[u];t.mergedAttrs=Ma(t.mergedAttrs,h.hostAttrs),mR(n,t,e,c,h),fR(c,h,o),h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}oR(n,t,i)}function aR(n,e,t,r,o){let i=o.hostBindings;if(i){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;lR(s)!=a&&s.push(a),s.push(t,r,i)}}function lR(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function cR(n,e,t,r){let o=t.directiveStart,i=t.directiveEnd;Qu(t)&&gR(e,t,n.data[o+t.componentOffset]),n.firstCreatePass||Mu(t,e),jo(r,e);let s=t.initialInputs;for(let a=o;a<i;a++){let c=n.data[a],u=Hi(e,n,a,t);if(jo(u,e),s!==null&&yR(e,a-o,u,c,t,s),Xr(c)){let h=to(t.index,e);h[Dn]=Hi(e,n,a,t)}}}function GI(n,e,t){let r=t.directiveStart,o=t.directiveEnd,i=t.index,s=jk();try{Vo(i);for(let a=r;a<o;a++){let c=n.data[a],u=e[a];im(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&uR(c,u)}}finally{Vo(-1),im(s)}}function uR(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function dR(n,e){let t=n.directiveRegistry,r=null,o=null;if(t)for(let i=0;i<t.length;i++){let s=t[i];if(ZA(e,s.selectors,!1))if(r||(r=[]),Xr(s))if(s.findHostDirectiveDefs!==null){let a=[];o=o||new Map,s.findHostDirectiveDefs(s,a,o),r.unshift(...a,s);let c=a.length;vm(n,e,c)}else r.unshift(s),vm(n,e,0);else o=o||new Map,s.findHostDirectiveDefs?.(s,r,o),r.push(s)}return r===null?null:[r,o]}function vm(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function hR(n,e,t){if(e){let r=n.localNames=[];for(let o=0;o<e.length;o+=2){let i=t[e[o+1]];if(i==null)throw new Q(-301,!1);r.push(e[o],i)}}}function fR(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Xr(e)&&(t[""]=n)}}function pR(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function mR(n,e,t,r,o){n.data[r]=o;let i=o.factory||(o.factory=No(o.type,!0)),s=new Lo(i,Xr(o),O);n.blueprint[r]=s,t[r]=s,aR(n,e,r,LI(n,t,o.hostVars,kn),o)}function gR(n,e,t){let r=hn(e,n),o=zI(t),i=n[Hn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=id(n,rd(n,o,null,s,r,e,null,i.createRenderer(r,t),null,null,null));n[e.index]=a}function bR(n,e,t,r,o,i){let s=hn(n,e);vR(e[nt],s,i,n.value,t,r,o)}function vR(n,e,t,r,o,i,s){if(i==null)n.removeAttribute(e,o,t);else{let a=s==null?Vi(i):s(i,r||"",o);n.setAttribute(e,o,a,t)}}function yR(n,e,t,r,o,i){let s=i[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],u=s[a++],h=s[a++],p=s[a++];VI(r,t,c,u,h,p)}}function wR(n,e,t){let r=null,o=0;for(;o<t.length;){let i=t[o];if(i===0){o+=4;continue}else if(i===5){o+=2;continue}if(typeof i=="number")break;if(n.hasOwnProperty(i)){r===null&&(r=[]);let s=n[i];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(i,s[a+1],s[a+2],t[o+1]);break}}o+=2}return r}function WI(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function KI(n,e){let t=n.contentQueries;if(t!==null){let r=xe(null);try{for(let o=0;o<t.length;o+=2){let i=t[o],s=t[o+1];if(s!==-1){let a=n.data[s];K_(i),a.contentQueries(2,e[s],s)}}}finally{xe(r)}}}function id(n,e){return n[Pa]?n[Cx][Cn]=e:n[Pa]=e,n[Cx]=e,e}function ym(n,e,t){K_(0);let r=xe(null);try{e(n,t)}finally{xe(r)}}function xR(n){return n[Iu]??=[]}function _R(n){return n.cleanup??=[]}function QI(n,e){let t=n[Ui],r=t?t.get(br,null):null;r&&r.handleError(e)}function gg(n,e,t,r,o){for(let i=0;i<t.length;){let s=t[i++],a=t[i++],c=t[i++],u=e[s],h=n.data[s];VI(h,u,r,a,c,o)}}function YI(n,e,t){let r=F_(e,n);PM(n[nt],r,t)}function IR(n,e){let t=to(e,n),r=t[he];ER(r,t);let o=t[yr];o!==null&&t[_u]===null&&(t[_u]=lg(o,t[Ui])),bg(r,t,t[Dn])}function ER(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function bg(n,e,t){Qm(e);try{let r=n.viewQuery;r!==null&&ym(1,r,t);let o=n.template;o!==null&&jI(n,e,o,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[zi]?.finishViewCreation(n),n.staticContentQueries&&KI(n,e),n.staticViewQueries&&ym(2,n.viewQuery,t);let i=n.components;i!==null&&CR(e,i)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ie]&=-5,Ym()}}function CR(n,e){for(let t=0;t<e.length;t++)IR(n,e[t])}function DR(n,e,t,r){let o=xe(null);try{let i=e.tView,a=n[ie]&4096?4096:16,c=rd(n,i,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=n[e.index];c[$i]=u;let h=n[zi];return h!==null&&(c[zi]=h.createEmbeddedView(i)),bg(i,c,t),c}finally{xe(o)}}function Ux(n,e){return!e||e.firstChild===null||mI(n)}function TR(n,e,t,r=!0){let o=e[he];if(VM(o,e,n,t),r){let s=bm(t,n),a=e[nt],c=MI(a,n[Oo]);c!==null&&OM(o,n[An],a,e,c,s)}let i=e[_u];i!==null&&i.firstChild!==null&&(i.firstChild=null)}function Fu(n,e,t,r,o=!1){for(;t!==null;){if(t.type===128){t=o?t.projectionNext:t.next;continue}let i=e[t.index];i!==null&&r.push(Gn(i)),wr(i)&&SR(i,r);let s=t.type;if(s&8)Fu(n,e,t.child,r);else if(s&32){let a=ug(t,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=RI(e,t);if(Array.isArray(a))r.push(...a);else{let c=Fo(e[qn]);Fu(c[he],c,a,r,!0)}}t=o?t.projectionNext:t.next}return r}function SR(n,e){for(let t=un;t<n.length;t++){let r=n[t],o=r[he].firstChild;o!==null&&Fu(r[he],r,o,e)}n[Oo]!==n[yr]&&e.push(n[Oo])}var ZI=[];function AR(n){return n[cn]??kR(n)}function kR(n){let e=ZI.pop()??Object.create(RR);return e.lView=n,e}function MR(n){n.lView[cn]!==n&&(n.lView=null,ZI.push(n))}var RR=be($({},Ia),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Zu(n.lView)},consumerOnSignalRead(){this.lView[cn]=this}});function PR(n){let e=n[cn]??Object.create(NR);return e.lView=n,e}var NR=be($({},Ia),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Fo(n.lView);for(;e&&!XI(e[he]);)e=Fo(e);e&&B_(e)},consumerOnSignalRead(){this.lView[cn]=this}});function XI(n){return n.type!==2}var OR=100;function JI(n,e=!0,t=0){let r=n[Hn],o=r.rendererFactory,i=!1;i||o.begin?.();try{FR(n,t)}catch(s){throw e&&QI(n,s),s}finally{i||(o.end?.(),r.inlineEffectRunner?.flush())}}function FR(n,e){let t=G_();try{Tx(!0),wm(n,e);let r=0;for(;Yu(n);){if(r===OR)throw new Q(103,!1);r++,wm(n,1)}}finally{Tx(t)}}function VR(n,e,t,r){let o=e[ie];if((o&256)===256)return;let i=!1,s=!1;!i&&e[Hn].inlineEffectRunner?.flush(),Qm(e);let a=!0,c=null,u=null;i||(XI(n)?(u=AR(e),c=Ac(u)):Nw()===null?(a=!1,u=PR(e),c=Ac(u)):e[cn]&&(mp(e[cn]),e[cn]=null));try{j_(e),Fk(n.bindingStartIndex),t!==null&&jI(n,e,t,2,r);let h=(o&3)===3;if(!i)if(h){let v=n.preOrderCheckHooks;v!==null&&pu(e,v,null)}else{let v=n.preOrderHooks;v!==null&&mu(e,v,0,null),Lp(e,0)}if(s||LR(e),eE(e,0),n.contentQueries!==null&&KI(n,e),!i)if(h){let v=n.contentCheckHooks;v!==null&&pu(e,v)}else{let v=n.contentHooks;v!==null&&mu(e,v,1),Lp(e,1)}ZM(n,e);let p=n.components;p!==null&&nE(e,p,0);let g=n.viewQuery;if(g!==null&&ym(2,g,r),!i)if(h){let v=n.viewCheckHooks;v!==null&&pu(e,v)}else{let v=n.viewHooks;v!==null&&mu(e,v,2),Lp(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Vp]){for(let v of e[Vp])v();e[Vp]=null}i||(e[ie]&=-73)}catch(h){throw i||Zu(e),h}finally{u!==null&&(fp(u,c),a&&MR(u)),Ym()}}function eE(n,e){for(let t=bI(n);t!==null;t=vI(t))for(let r=un;r<t.length;r++){let o=t[r];tE(o,e)}}function LR(n){for(let e=bI(n);e!==null;e=vI(e)){if(!(e[ie]&Du.HasTransplantedViews))continue;let t=e[Cu];for(let r=0;r<t.length;r++){let o=t[r];B_(o)}}}function jR(n,e,t){let r=to(e,n);tE(r,t)}function tE(n,e){Wm(n)&&wm(n,e)}function wm(n,e){let r=n[he],o=n[ie],i=n[cn],s=!!(e===0&&o&16);if(s||=!!(o&64&&e===0),s||=!!(o&1024),s||=!!(i?.dirty&&pp(i)),s||=!1,i&&(i.dirty=!1),n[ie]&=-9217,s)VR(r,n,r.template,n[Dn]);else if(o&8192){eE(n,1);let a=r.components;a!==null&&nE(n,a,1)}}function nE(n,e,t){for(let r=0;r<e.length;r++)jR(n,e[r],t)}function vg(n,e){let t=G_()?64:1088;for(n[Hn].changeDetectionScheduler?.notify(e);n;){n[ie]|=t;let r=Fo(n);if(nm(n)&&!r)return n;n=r}return null}var Bo=class{get rootNodes(){let e=this._lView,t=e[he];return Fu(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Dn]}set context(e){this._lView[Dn]=e}get destroyed(){return(this._lView[ie]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ft];if(wr(e)){let t=e[Eu],r=t?t.indexOf(this):-1;r>-1&&(gm(e,r),wu(t,r))}this._attachedToViewContainer=!1}AI(this._lView[he],this._lView)}onDestroy(e){U_(this._lView,e)}markForCheck(){vg(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ie]&=-129}reattach(){om(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,JI(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=nm(this._lView),t=this._lView[$i];t!==null&&!e&&dg(t,this._lView),TI(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let t=nm(this._lView),r=this._lView[$i];r!==null&&!t&&SI(r,this._lView),om(this._lView)}},sd=(()=>{class n{static{this.__NG_ELEMENT_ID__=$R}}return n})(),BR=sd,UR=class extends BR{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let o=DR(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Bo(o)}};function $R(){return rE(Bt(),De())}function rE(n,e){return n.type&4?new UR(e,n,ed(n,e)):null}var Q9=new RegExp(`^(\\d+)*(${_M}|${xM})*(.*)`);var zR=()=>null;function $x(n,e){return zR(n,e)}var qi=class{},yg=new z("",{providedIn:"root",factory:()=>!1});var oE=new z(""),iE=new z(""),xm=class{},Vu=class{};function HR(n){let e=Error(`No component factory found for ${Nt(n)}.`);return e[qR]=n,e}var qR="ngComponent";var _m=class{resolveComponentFactory(e){throw HR(e)}},Gi=class{static{this.NULL=new _m}},Wi=class{},Mn=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>GR()}}return n})();function GR(){let n=De(),e=Bt(),t=to(e.index,n);return(Qr(t)?t:n)[nt]}var WR=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>null})}}return n})();function Im(n,e,t){let r=t?n.styles:null,o=t?n.classes:null,i=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")i=a;else if(i==1)o=mx(o,a);else if(i==2){let c=a,u=e[++s];r=mx(r,c+": "+u+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=o:n.classesWithoutHost=o}var Lu=class extends Gi{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Zr(e);return new Ki(t,this.ngModule)}};function zx(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let o=n[r];if(o===void 0)continue;let i=Array.isArray(o),s=i?o[0]:o,a=i?o[1]:Yr.None;e?t.push({propName:s,templateName:r,isSignal:(a&Yr.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function KR(n){let e=n.toLowerCase();return e==="svg"?xk:e==="math"?_k:null}var Ki=class extends Vu{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=zx(e.inputs,!0);if(t!==null)for(let o of r)t.hasOwnProperty(o.propName)&&(o.transform=t[o.propName]);return r}get outputs(){return zx(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=tk(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,o){let i=xe(null);try{o=o||this.ngModule;let s=o instanceof Ot?o:o?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new sm(e,s):e,c=a.get(Wi,null);if(c===null)throw new Q(407,!1);let u=a.get(WR,null),h=a.get(qi,null),p={rendererFactory:c,sanitizer:u,inlineEffectRunner:null,changeDetectionScheduler:h},g=c.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",D=r?eR(g,r,this.componentDef.encapsulation,a):DI(g,v,KR(v)),M=512;this.componentDef.signals?M|=4096:this.componentDef.onPush||(M|=16);let S=null;D!==null&&(S=lg(D,a,!0));let V=pg(0,null,null,1,0,null,null,null,null,null,null),W=rd(null,V,null,M,null,null,p,g,a,null,S);Qm(W);let L,te,ge=null;try{let re=this.componentDef,x,b=null;re.findHostDirectiveDefs?(x=[],b=new Map,re.findHostDirectiveDefs(re,x,b),x.push(re)):x=[re];let w=QR(W,D);ge=YR(w,D,re,x,W,p,g),te=V_(V,Tn),D&&JR(g,re,D,r),t!==void 0&&eP(te,this.ngContentSelectors,t),L=XR(ge,re,x,b,W,[tP]),bg(V,W,null)}catch(re){throw ge!==null&&pm(ge),pm(W),re}finally{Ym()}return new Em(this.componentType,L,ed(te,W),W,te)}finally{xe(i)}}},Em=class extends xm{constructor(e,t,r,o,i){super(),this.location=r,this._rootLView=o,this._tNode=i,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Bo(o,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,o;if(r!==null&&(o=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView;gg(i[he],i,o,e,t),this.previousInputValues.set(e,t);let s=to(this._tNode.index,i);vg(s,1)}}get injector(){return new Po(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function QR(n,e){let t=n[he],r=Tn;return n[r]=e,od(t,r,2,"#host",null)}function YR(n,e,t,r,o,i,s){let a=o[he];ZR(r,n,e,s);let c=null;e!==null&&(c=lg(e,o[Ui]));let u=i.rendererFactory.createRenderer(e,t),h=16;t.signals?h=4096:t.onPush&&(h=64);let p=rd(o,zI(t),null,h,o[n.index],n,i,u,null,null,c);return a.firstCreatePass&&vm(a,n,r.length-1),id(o,p),o[n.index]=p}function ZR(n,e,t,r){for(let o of n)e.mergedAttrs=Ma(e.mergedAttrs,o.hostAttrs);e.mergedAttrs!==null&&(Im(e,e.mergedAttrs,!0),t!==null&&NI(r,t,e))}function XR(n,e,t,r,o,i){let s=Bt(),a=o[he],c=hn(s,o);qI(a,o,s,t,null,r);for(let h=0;h<t.length;h++){let p=s.directiveStart+h,g=Hi(o,a,p,s);jo(g,o)}GI(a,o,s),c&&jo(c,o);let u=Hi(o,a,s.directiveStart+s.componentOffset,s);if(n[Dn]=o[Dn]=u,i!==null)for(let h of i)h(u,e);return BI(a,s,o),u}function JR(n,e,t,r){if(r)Xp(n,t,["ng-version","18.2.5"]);else{let{attrs:o,classes:i}=nk(e.selectors[0]);o&&Xp(n,t,o),i&&i.length>0&&PI(n,t,i.join(" "))}}function eP(n,e,t){let r=n.projection=[];for(let o=0;o<e.length;o++){let i=t[o];r.push(i!=null?Array.from(i):null)}}function tP(){let n=Bt();Jm(De()[he],n)}var Xi=(()=>{class n{static{this.__NG_ELEMENT_ID__=nP}}return n})();function nP(){let n=Bt();return oP(n,De())}var rP=Xi,sE=class extends rP{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return ed(this._hostTNode,this._hostLView)}get injector(){return new Po(this._hostTNode,this._hostLView)}get parentInjector(){let e=eg(this._hostTNode,this._hostLView);if(nI(e)){let t=Au(e,this._hostLView),r=Su(e),o=t[he].data[r+8];return new Po(o,t)}else return new Po(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Hx(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-un}createEmbeddedView(e,t,r){let o,i;typeof r=="number"?o=r:r!=null&&(o=r.index,i=r.injector);let s=$x(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},i,s);return this.insertImpl(a,o,Ux(this._hostTNode,s)),a}createComponent(e,t,r,o,i){let s=e&&!bk(e),a;if(s)a=t;else{let D=t||{};a=D.index,r=D.injector,o=D.projectableNodes,i=D.environmentInjector||D.ngModuleRef}let c=s?e:new Ki(Zr(e)),u=r||this.parentInjector;if(!i&&c.ngModule==null){let M=(s?u:this.parentInjector).get(Ot,null);M&&(i=M)}let h=Zr(c.componentType??{}),p=$x(this._lContainer,h?.id??null),g=p?.firstChild??null,v=c.create(u,o,g,i);return this.insertImpl(v.hostView,a,Ux(this._hostTNode,p)),v}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let o=e._lView;if(Ik(o)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=o[Ft],u=new sE(c,c[An],c[Ft]);u.detach(u.indexOf(e))}}let i=this._adjustIndex(t),s=this._lContainer;return TR(s,o,i,r),e.attachToViewContainerRef(),d_(zp(s),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Hx(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=gm(this._lContainer,t);r&&(wu(zp(this._lContainer),t),AI(r[he],r))}detach(e){let t=this._adjustIndex(e,-1),r=gm(this._lContainer,t);return r&&wu(zp(this._lContainer),t)!=null?new Bo(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Hx(n){return n[Eu]}function zp(n){return n[Eu]||(n[Eu]=[])}function oP(n,e){let t,r=e[n.index];return wr(r)?t=r:(t=WI(r,e,null,n),e[n.index]=t,id(e,t)),sP(t,e,n,r),new sE(t,n,e)}function iP(n,e){let t=n[nt],r=t.createComment(""),o=hn(e,n),i=MI(t,o);return Ou(t,i,r,$M(t,o),!1),r}var sP=cP,aP=()=>!1;function lP(n,e,t){return aP(n,e,t)}function cP(n,e,t,r){if(n[Oo])return;let o;t.type&8?o=Gn(r):o=iP(e,t),n[Oo]=o}var qx=new Set;function Ho(n){qx.has(n)||(qx.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function uP(n){return typeof n=="function"&&n[hr]!==void 0}function Ji(n,e){Ho("NgSignals");let t=qw(n),r=t[hr];return e?.equal&&(r.equal=e.equal),t.set=o=>gp(r,o),t.update=o=>Gw(r,o),t.asReadonly=dP.bind(t),t}function dP(){let n=this[hr];if(n.readonlyFn===void 0){let e=()=>this();e[hr]=n,n.readonlyFn=e}return n.readonlyFn}function aE(n){return uP(n)&&typeof n.set=="function"}function hP(n){return Object.getPrototypeOf(n.prototype).constructor}function Yt(n){let e=hP(n.type),t=!0,r=[n];for(;e;){let o;if(Xr(n))o=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);o=e.\u0275dir}if(o){if(t){r.push(o);let s=n;s.inputs=uu(n.inputs),s.inputTransforms=uu(n.inputTransforms),s.declaredInputs=uu(n.declaredInputs),s.outputs=uu(n.outputs);let a=o.hostBindings;a&&bP(n,a);let c=o.viewQuery,u=o.contentQueries;if(c&&mP(n,c),u&&gP(n,u),fP(n,o),IA(n.outputs,o.outputs),Xr(o)&&o.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(o.data.animation)}}let i=o.features;if(i)for(let s=0;s<i.length;s++){let a=i[s];a&&a.ngInherit&&a(n),a===Yt&&(t=!1)}}e=Object.getPrototypeOf(e)}pP(r)}function fP(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let o=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(o))continue;n.inputTransforms??={},n.inputTransforms[o]=e.inputTransforms[o]}}}function pP(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let o=n[r];o.hostVars=e+=o.hostVars,o.hostAttrs=Ma(o.hostAttrs,t=Ma(t,o.hostAttrs))}}function uu(n){return n===Li?{}:n===ln?[]:n}function mP(n,e){let t=n.viewQuery;t?n.viewQuery=(r,o)=>{e(r,o),t(r,o)}:n.viewQuery=e}function gP(n,e){let t=n.contentQueries;t?n.contentQueries=(r,o,i)=>{e(r,o,i),t(r,o,i)}:n.contentQueries=e}function bP(n,e){let t=n.hostBindings;t?n.hostBindings=(r,o)=>{e(r,o),t(r,o)}:n.hostBindings=e}function wg(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)&&o[3]&&(t[r]=o[3])}n.inputTransforms=t}var Jr=class{},Na=class{};var Cm=class extends Jr{constructor(e,t,r,o=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Lu(this);let i=x_(e);this._bootstrapComponents=CI(i.bootstrap),this._r3Injector=dI(e,t,[{provide:Jr,useValue:this},{provide:Gi,useValue:this.componentFactoryResolver},...r],Nt(e),new Set(["environment"])),o&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Dm=class extends Na{constructor(e){super(),this.moduleType=e}create(e){return new Cm(this.moduleType,e,[])}};var ju=class extends Jr{constructor(e){super(),this.componentFactoryResolver=new Lu(this),this.instance=null;let t=new Ra([...e.providers,{provide:Jr,useValue:this},{provide:Gi,useValue:this.componentFactoryResolver}],e.parent||qm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ad(n,e,t=null){return new ju({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function lE(n){return xg(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function vP(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function xg(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function _g(n,e,t){return n[e]=t}function yP(n,e){return n[e]}function eo(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function cE(n,e,t,r){let o=eo(n,e,t);return eo(n,e+1,r)||o}function wP(n){return(n.flags&32)===32}function xP(n,e,t,r,o,i,s,a,c){let u=e.consts,h=od(e,n,4,s||null,a||null);HI(e,t,h,Tu(u,c)),Jm(e,h);let p=h.tView=pg(2,h,r,o,i,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function _P(n,e,t,r,o,i,s,a,c,u){let h=t+Tn,p=e.firstCreatePass?xP(h,e,n,r,o,i,s,a,c):e.data[h];La(p,!1);let g=IP(e,n,p,t);Zm()&&hg(e,n,g,p),jo(g,n);let v=WI(g,n,g,p);return n[h]=v,id(n,v),lP(v,p,n),Gm(p)&&UI(e,n,p),c!=null&&$I(n,p,u),p}function ve(n,e,t,r,o,i,s,a){let c=De(),u=jt(),h=Tu(u.consts,i);return _P(c,u,n,e,t,r,o,h,s,a),ve}var IP=EP;function EP(n,e,t,r){return Xm(!0),e[nt].createComment("")}var Ni=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Ni||{}),uE=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Tm=class n{constructor(){this.ngZone=N(ye),this.scheduler=N(qi),this.errorHandler=N(br,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Ni.EarlyRead,Ni.Write,Ni.MixedReadWrite,Ni.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>new n})}},Sm=class{constructor(e,t,r,o){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=o.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy()}};function Ig(n,e){!e?.injector&&gk(Ig);let t=e?.injector??N(Vt);return kM(t)?(Ho("NgAfterNextRender"),DP(n,t,e,!0)):TP}function CP(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function DP(n,e,t,r){let o=e.get(uE);o.impl??=e.get(Tm);let i=t?.phase??Ni.MixedReadWrite,s=new Sm(o.impl,CP(n,i),r,e.get(ng));return o.impl.register(s),s}var TP={destroy(){}};function ld(n,e,t,r){let o=De(),i=Xu();if(eo(o,i,e)){let s=jt(),a=Ju();bR(a,o,n,e,t,r)}return ld}function dE(n,e,t,r){return eo(n,Xu(),t)?e+Vi(t)+r:kn}function SP(n,e,t,r,o,i){let s=Ok(),a=cE(n,s,t,o);return W_(2),a?e+Vi(t)+r+Vi(o)+i:kn}function du(n,e){return n<<17|e<<2}function Uo(n){return n>>17&32767}function AP(n){return(n&2)==2}function kP(n,e){return n&131071|e<<17}function Am(n){return n|2}function Qi(n){return(n&131068)>>2}function Hp(n,e){return n&-131069|e<<2}function MP(n){return(n&1)===1}function km(n){return n|1}function RP(n,e,t,r,o,i){let s=i?e.classBindings:e.styleBindings,a=Uo(s),c=Qi(s);n[r]=t;let u=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Va(p,h)>0)&&(u=!0)}else h=t;if(o)if(c!==0){let g=Uo(n[a+1]);n[r+1]=du(g,a),g!==0&&(n[g+1]=Hp(n[g+1],r)),n[a+1]=kP(n[a+1],r)}else n[r+1]=du(a,0),a!==0&&(n[a+1]=Hp(n[a+1],r)),a=r;else n[r+1]=du(c,0),a===0?a=r:n[c+1]=Hp(n[c+1],r),c=r;u&&(n[r+1]=Am(n[r+1])),Gx(n,h,r,!0),Gx(n,h,r,!1),PP(e,h,n,r,i),s=du(a,c),i?e.classBindings=s:e.styleBindings=s}function PP(n,e,t,r,o){let i=o?n.residualClasses:n.residualStyles;i!=null&&typeof e=="string"&&Va(i,e)>=0&&(t[r+1]=km(t[r+1]))}function Gx(n,e,t,r){let o=n[t+1],i=e===null,s=r?Uo(o):Qi(o),a=!1;for(;s!==0&&(a===!1||i);){let c=n[s],u=n[s+1];NP(c,e)&&(a=!0,n[s+1]=r?km(u):Am(u)),s=r?Uo(u):Qi(u)}a&&(n[t+1]=r?Am(o):km(o))}function NP(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Va(n,e)>=0:!1}function Z(n,e,t){let r=De(),o=Xu();if(eo(r,o,e)){let i=jt(),s=Ju();mg(i,s,r,n,e,r[nt],t,!1)}return Z}function Wx(n,e,t,r,o){let i=e.inputs,s=o?"class":"style";gg(n,t,i[s],s,r)}function cd(n,e){return OP(n,e,null,!0),cd}function OP(n,e,t,r){let o=De(),i=jt(),s=W_(2);if(i.firstUpdatePass&&VP(i,n,s,r),e!==kn&&eo(o,s,e)){let a=i.data[$o()];$P(i,a,o,o[nt],n,o[s+1]=zP(e,t),r,s)}}function FP(n,e){return e>=n.expandoStartIndex}function VP(n,e,t,r){let o=n.data;if(o[t+1]===null){let i=o[$o()],s=FP(n,t);HP(i,r)&&e===null&&!s&&(e=!1),e=LP(o,i,e,r),RP(o,i,e,t,s,r)}}function LP(n,e,t,r){let o=Bk(n),i=r?e.residualClasses:e.residualStyles;if(o===null)(r?e.classBindings:e.styleBindings)===0&&(t=qp(null,n,e,t,r),t=Oa(t,e.attrs,r),i=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==o)if(t=qp(o,n,e,t,r),i===null){let c=jP(n,e,r);c!==void 0&&Array.isArray(c)&&(c=qp(null,n,e,c[1],r),c=Oa(c,e.attrs,r),BP(n,e,r,c))}else i=UP(n,e,r)}return i!==void 0&&(r?e.residualClasses=i:e.residualStyles=i),t}function jP(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Qi(r)!==0)return n[Uo(r)]}function BP(n,e,t,r){let o=t?e.classBindings:e.styleBindings;n[Uo(o)]=r}function UP(n,e,t){let r,o=e.directiveEnd;for(let i=1+e.directiveStylingLast;i<o;i++){let s=n[i].hostAttrs;r=Oa(r,s,t)}return Oa(r,e.attrs,t)}function qp(n,e,t,r,o){let i=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(i=e[a],r=Oa(r,i.hostAttrs,o),i!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Oa(n,e,t){let r=t?1:2,o=-1;if(e!==null)for(let i=0;i<e.length;i++){let s=e[i];typeof s=="number"?o=s:o===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),zA(n,s,t?!0:e[++i]))}return n===void 0?null:n}function $P(n,e,t,r,o,i,s,a){if(!(e.type&3))return;let c=n.data,u=c[a+1],h=MP(u)?Kx(c,e,t,o,Qi(u),s):void 0;if(!Bu(h)){Bu(i)||AP(u)&&(i=Kx(c,null,t,o,a,s));let p=F_($o(),t);QM(r,s,p,o,i)}}function Kx(n,e,t,r,o,i){let s=e===null,a;for(;o>0;){let c=n[o],u=Array.isArray(c),h=u?c[1]:c,p=h===null,g=t[o+1];g===kn&&(g=p?ln:void 0);let v=p?Op(g,r):h===r?g:void 0;if(u&&!Bu(v)&&(v=Op(c,r)),Bu(v)&&(a=v,s))return a;let D=n[o+1];o=s?Uo(D):Qi(D)}if(e!==null){let c=i?e.residualClasses:e.residualStyles;c!=null&&(a=Op(c,r))}return a}function Bu(n){return n!==void 0}function zP(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Nt(ja(n)))),n}function HP(n,e){return(n.flags&(e?8:16))!==0}function qP(n,e,t,r,o,i){let s=e.consts,a=Tu(s,o),c=od(e,n,2,r,a);return HI(e,t,c,Tu(s,i)),c.attrs!==null&&Im(c,c.attrs,!1),c.mergedAttrs!==null&&Im(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function T(n,e,t,r){let o=De(),i=jt(),s=Tn+n,a=o[nt],c=i.firstCreatePass?qP(s,i,o,e,t,r):i.data[s],u=GP(i,o,c,a,e,n);o[s]=u;let h=Gm(c);return La(c,!0),NI(a,u,c),!wP(c)&&Zm()&&hg(i,o,u,c),Dk()===0&&jo(u,o),Tk(),h&&(UI(i,o,c),BI(i,c,o)),r!==null&&$I(o,c),T}function A(){let n=Bt();q_()?Pk():(n=n.parent,La(n,!1));let e=n;kk(e)&&Mk(),Sk();let t=jt();return t.firstCreatePass&&(Jm(t,n),M_(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&Wk(e)&&Wx(t,e,De(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&Kk(e)&&Wx(t,e,De(),e.stylesWithoutHost,!1),A}function Y(n,e,t,r){return T(n,e,t,r),A(),Y}var GP=(n,e,t,r,o,i)=>(Xm(!0),DI(r,o,zk()));function Zt(){return De()}var Mo=void 0;function WP(n){let e=n,t=Math.floor(Math.abs(n)),r=n.toString().replace(/^[^.]*\.?/,"").length;return t===1&&r===0?1:5}var KP=["en",[["a","p"],["AM","PM"],Mo],[["AM","PM"],Mo,Mo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Mo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Mo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Mo,"{1} 'at' {0}",Mo],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",WP],Gp={};function pn(n){let e=QP(n),t=Qx(e);if(t)return t;let r=e.split("-")[0];if(t=Qx(r),t)return t;if(r==="en")return KP;throw new Q(701,!1)}function Qx(n){return n in Gp||(Gp[n]=Ro.ng&&Ro.ng.common&&Ro.ng.common.locales&&Ro.ng.common.locales[n]),Gp[n]}var Xe=function(n){return n[n.LocaleId=0]="LocaleId",n[n.DayPeriodsFormat=1]="DayPeriodsFormat",n[n.DayPeriodsStandalone=2]="DayPeriodsStandalone",n[n.DaysFormat=3]="DaysFormat",n[n.DaysStandalone=4]="DaysStandalone",n[n.MonthsFormat=5]="MonthsFormat",n[n.MonthsStandalone=6]="MonthsStandalone",n[n.Eras=7]="Eras",n[n.FirstDayOfWeek=8]="FirstDayOfWeek",n[n.WeekendRange=9]="WeekendRange",n[n.DateFormat=10]="DateFormat",n[n.TimeFormat=11]="TimeFormat",n[n.DateTimeFormat=12]="DateTimeFormat",n[n.NumberSymbols=13]="NumberSymbols",n[n.NumberFormats=14]="NumberFormats",n[n.CurrencyCode=15]="CurrencyCode",n[n.CurrencySymbol=16]="CurrencySymbol",n[n.CurrencyName=17]="CurrencyName",n[n.Currencies=18]="Currencies",n[n.Directionality=19]="Directionality",n[n.PluralCase=20]="PluralCase",n[n.ExtraData=21]="ExtraData",n}(Xe||{});function QP(n){return n.toLowerCase().replace(/_/g,"-")}var Uu="en-US";var YP=Uu;function ZP(n){typeof n=="string"&&(YP=n.toLowerCase().replace(/_/g,"-"))}var XP=(n,e,t)=>{};function _e(n,e,t,r){let o=De(),i=jt(),s=Bt();return hE(i,o,o[nt],s,n,e,r),_e}function JP(n,e,t,r){let o=n.cleanup;if(o!=null)for(let i=0;i<o.length-1;i+=2){let s=o[i];if(s===t&&o[i+1]===r){let a=e[Iu],c=o[i+2];return a.length>c?a[c]:null}typeof s=="string"&&(i+=2)}return null}function hE(n,e,t,r,o,i,s){let a=Gm(r),u=n.firstCreatePass&&_R(n),h=e[Dn],p=xR(e),g=!0;if(r.type&3||s){let M=hn(r,e),S=s?s(M):M,V=p.length,W=s?te=>s(Gn(te[r.index])):r.index,L=null;if(!s&&a&&(L=JP(n,e,o,r.index)),L!==null){let te=L.__ngLastListenerFn__||L;te.__ngNextListenerFn__=i,L.__ngLastListenerFn__=i,g=!1}else{i=Zx(r,e,h,i),XP(M,o,i);let te=t.listen(S,o,i);p.push(i,te),u&&u.push(o,W,V,V+1)}}else i=Zx(r,e,h,i);let v=r.outputs,D;if(g&&v!==null&&(D=v[o])){let M=D.length;if(M)for(let S=0;S<M;S+=2){let V=D[S],W=D[S+1],ge=e[V][W].subscribe(i),re=p.length;p.push(i,ge),u&&u.push(o,r.index,re,-(re+1))}}}function Yx(n,e,t,r){let o=xe(null);try{return Un(6,e,t),t(r)!==!1}catch(i){return QI(n,i),!1}finally{Un(7,e,t),xe(o)}}function Zx(n,e,t,r){return function o(i){if(i===Function)return r;let s=n.componentOffset>-1?to(n.index,e):e;vg(s,5);let a=Yx(e,t,r,i),c=o.__ngNextListenerFn__;for(;c;)a=Yx(e,t,c,i)&&a,c=c.__ngNextListenerFn__;return a}}function Ae(n=1){return $k(n)}function Ba(n,e,t){return fE(n,"",e,"",t),Ba}function fE(n,e,t,r,o){let i=De(),s=dE(i,e,t,r);if(s!==kn){let a=jt(),c=Ju();mg(a,c,i,n,s,i[nt],o,!1)}return fE}function eN(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function ud(n){let e=Nk();return L_(e,Tn+n)}function R(n,e=""){let t=De(),r=jt(),o=n+Tn,i=r.firstCreatePass?od(r,o,1,e,null):r.data[o],s=tN(r,t,i,e,n);t[o]=s,Zm()&&hg(r,t,s,i),La(i,!1)}var tN=(n,e,t,r,o)=>(Xm(!0),RM(e[nt],r));function Ut(n){return Et("",n,""),Ut}function Et(n,e,t){let r=De(),o=dE(r,n,e,t);return o!==kn&&YI(r,$o(),o),Et}function Eg(n,e,t,r,o){let i=De(),s=SP(i,n,e,t,r,o);return s!==kn&&YI(i,$o(),s),Eg}function Ua(n,e,t){aE(e)&&(e=e());let r=De(),o=Xu();if(eo(r,o,e)){let i=jt(),s=Ju();mg(i,s,r,n,e,r[nt],t,!1)}return Ua}function dd(n,e){let t=aE(n);return t&&n.set(e),t}function $a(n,e){let t=De(),r=jt(),o=Bt();return hE(r,t,t[nt],o,n,e),$a}function nN(n,e,t){let r=jt();if(r.firstCreatePass){let o=Xr(n);Mm(t,r.data,r.blueprint,o,!0),Mm(e,r.data,r.blueprint,o,!1)}}function Mm(n,e,t,r,o){if(n=Pt(n),Array.isArray(n))for(let i=0;i<n.length;i++)Mm(n[i],e,t,r,o);else{let i=jt(),s=De(),a=Bt(),c=Bi(n)?n:Pt(n.provide),u=T_(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Bi(n)||!n.multi){let v=new Lo(u,o,O),D=Kp(c,e,o?h:h+g,p);D===-1?(lm(Mu(a,s),i,c),Wp(i,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(v),s.push(v)):(t[D]=v,s[D]=v)}else{let v=Kp(c,e,h+g,p),D=Kp(c,e,h,h+g),M=v>=0&&t[v],S=D>=0&&t[D];if(o&&!S||!o&&!M){lm(Mu(a,s),i,c);let V=iN(o?oN:rN,t.length,o,r,u);!o&&S&&(t[D].providerFactory=V),Wp(i,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,o&&(a.providerIndexes+=1048576),t.push(V),s.push(V)}else{let V=pE(t[o?D:v],u,!o&&r);Wp(i,n,v>-1?v:D,V)}!o&&r&&S&&t[D].componentProviders++}}}function Wp(n,e,t,r){let o=Bi(e),i=ck(e);if(o||i){let c=(i?Pt(e.useClass):e).prototype.ngOnDestroy;if(c){let u=n.destroyHooks||(n.destroyHooks=[]);if(!o&&e.multi){let h=u.indexOf(t);h===-1?u.push(t,[r,c]):u[h+1].push(r,c)}else u.push(t,c)}}}function pE(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Kp(n,e,t,r){for(let o=t;o<r;o++)if(e[o]===n)return o;return-1}function rN(n,e,t,r){return Rm(this.multi,[])}function oN(n,e,t,r){let o=this.multi,i;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Hi(t,t[he],this.providerFactory.index,r);i=a.slice(0,s),Rm(o,i);for(let c=s;c<a.length;c++)i.push(a[c])}else i=[],Rm(o,i);return i}function Rm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function iN(n,e,t,r,o){let i=new Lo(n,t,O);return i.multi=[],i.index=e,i.componentProviders=0,pE(i,o,r&&!t),i}function _r(n,e=[]){return t=>{t.providersResolver=(r,o)=>nN(r,o?o(n):n,e)}}var sN=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=E_(!1,t.type),o=r.length>0?ad([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,o)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:n,providedIn:"environment",factory:()=>new n(B(Ot))})}}return n})();function He(n){Ho("NgStandalone"),n.getStandaloneInjector=e=>e.get(sN).getOrCreateStandaloneInjector(n)}function hd(n,e,t){let r=Km()+n,o=De();return o[r]===kn?_g(o,r,t?e.call(t):e()):yP(o,r)}function es(n,e,t,r){return aN(De(),Km(),n,e,t,r)}function mE(n,e){let t=n[e];return t===kn?void 0:t}function aN(n,e,t,r,o,i){let s=e+t;return eo(n,s,o)?_g(n,s+1,i?r.call(i,o):r(o)):mE(n,s+1)}function lN(n,e,t,r,o,i,s){let a=e+t;return cE(n,a,o,i)?_g(n,a+2,s?r.call(s,o,i):r(o,i)):mE(n,a+2)}function gE(n,e){let t=jt(),r,o=n+Tn;t.firstCreatePass?(r=cN(e,t.pipeRegistry),t.data[o]=r,r.onDestroy&&(t.destroyHooks??=[]).push(o,r.onDestroy)):r=t.data[o];let i=r.factory||(r.factory=No(r.type,!0)),s,a=qt(O);try{let c=ku(!1),u=i();return ku(c),eN(t,De(),o,u),u}finally{qt(a)}}function cN(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function bE(n,e,t,r){let o=n+Tn,i=De(),s=L_(i,o);return uN(i,o)?lN(i,Km(),e,s.transform,t,r,s):s.transform(t,r)}function uN(n,e){return n[he].data[e].pure}function fd(n,e){return rE(n,e)}var vr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},pd=new vr("18.2.5");var md=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var vE=new z("");function qo(n){return!!n&&typeof n.then=="function"}function yE(n){return!!n&&typeof n.subscribe=="function"}var gd=new z(""),wE=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=N(gd,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let o of this.appInits){let i=o();if(qo(i))t.push(i);else if(yE(i)){let s=new Promise((a,c)=>{i.subscribe({complete:a,error:c})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(o=>{this.reject(o)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),za=new z("");function dN(){Hw(()=>{throw new Q(600,!1)})}function hN(n){return n.isBoundToModule}var fN=10;function pN(n,e,t){try{let r=t();return qo(r)?r.catch(o=>{throw e.runOutsideAngular(()=>n.handleError(o)),o}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var oo=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=N(pM),this.afterRenderManager=N(uE),this.zonelessEnabled=N(yg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Be,this.afterTick=new Be,this.componentTypes=[],this.components=[],this.isStable=N(ro).hasPendingTasks.pipe(J(t=>!t)),this._injector=N(Ot)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:o=>{o&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let o=t instanceof Vu;if(!this._injector.get(wE).done){let g=!o&&w_(t),v=!1;throw new Q(405,v)}let s;o?s=t:s=this._injector.get(Gi).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=hN(s)?void 0:this._injector.get(Jr),c=r||s.selector,u=s.create(Vt.NULL,[],c,a),h=u.location.nativeElement,p=u.injector.get(vE,null);return p?.registerApplication(h),u.onDestroy(()=>{this.detachView(u.hostView),gu(this.components,u),p?.unregisterApplication(h)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Q(101,!1);let t=xe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,xe(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Wi,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<fN;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:o,notifyErrorHandler:i}of this._views)mN(o,i,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Yu(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;gu(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(za,[]);[...this._bootstrapListeners,...r].forEach(o=>o(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>gu(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new Q(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function gu(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function mN(n,e,t,r){if(!t&&!Yu(n))return;JI(n,e,t&&!r?0:1)}var Pm=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},bd=(()=>{class n{compileModuleSync(t){return new Dm(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),o=x_(t),i=CI(o.declarations).reduce((s,a)=>{let c=Zr(a);return c&&s.push(new Ki(c)),s},[]);return new Pm(r,i)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var gN=(()=>{class n{constructor(){this.zone=N(ye),this.changeDetectionScheduler=N(qi),this.applicationRef=N(oo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),bN=new z("",{factory:()=>!1});function xE({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new ye(be($({},IE()),{scheduleInRootZone:t})),[{provide:ye,useFactory:n},{provide:ji,multi:!0,useFactory:()=>{let r=N(gN,{optional:!0});return()=>r.initialize()}},{provide:ji,multi:!0,useFactory:()=>{let r=N(vN);return()=>{r.initialize()}}},e===!0?{provide:oE,useValue:!0}:[],{provide:iE,useValue:t??hI}]}function _E(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=xE({ngZoneFactory:()=>{let o=IE(n);return o.scheduleInRootZone=t,o.shouldCoalesceEventChangeDetection&&Ho("NgZone_CoalesceEvent"),new ye(o)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Kn([{provide:bN,useValue:!0},{provide:yg,useValue:!1},r])}function IE(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var vN=(()=>{class n{constructor(){this.subscription=new Ye,this.initialized=!1,this.zone=N(ye),this.pendingTasks=N(ro)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ye.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ye.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var yN=(()=>{class n{constructor(){this.appRef=N(oo),this.taskService=N(ro),this.ngZone=N(ye),this.zonelessEnabled=N(yg),this.disableScheduling=N(oE,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ye,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Pu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(iE,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof fm||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Rx:fI;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Pu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Rx(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function wN(){return typeof $localize<"u"&&$localize.locale||Uu}var vd=new z("",{providedIn:"root",factory:()=>N(vd,ue.Optional|ue.SkipSelf)||wN()});var EE=new z("");function hu(n){return!!n.platformInjector}function xN(n){let e=hu(n)?n.r3Injector:n.moduleRef.injector,t=e.get(ye);return t.run(()=>{hu(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(br,null),o;if(t.runOutsideAngular(()=>{o=t.onError.subscribe({next:i=>{r.handleError(i)}})}),hu(n)){let i=()=>e.destroy(),s=n.platformInjector.get(EE);s.add(i),e.onDestroy(()=>{o.unsubscribe(),s.delete(i)})}else n.moduleRef.onDestroy(()=>{gu(n.allPlatformModules,n.moduleRef),o.unsubscribe()});return pN(r,t,()=>{let i=e.get(wE);return i.runInitializers(),i.donePromise.then(()=>{let s=e.get(vd,Uu);if(ZP(s||Uu),hu(n)){let a=e.get(oo);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return _N(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function _N(n,e){let t=n.injector.get(oo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new Q(-403,!1);e.push(n)}var bu=null;function IN(n=[],e){return Vt.create({name:e,providers:[{provide:Wu,useValue:"platform"},{provide:EE,useValue:new Set([()=>bu=null])},...n]})}function EN(n=[]){if(bu)return bu;let e=IN(n);return bu=e,dN(),CN(e),e}function CN(n){n.get(sg,null)?.forEach(t=>t())}function Cg(){return!1}var Go=(()=>{class n{static{this.__NG_ELEMENT_ID__=DN}}return n})();function DN(n){return TN(Bt(),De(),(n&16)===16)}function TN(n,e,t){if(Qu(n)&&!t){let r=to(n.index,e);return new Bo(r,r)}else if(n.type&175){let r=e[qn];return new Bo(r,e)}return null}var Nm=class{constructor(){}supports(e){return lE(e)}create(e){return new Om(e)}},SN=(n,e)=>e,Om=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||SN}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,o=0,i=null;for(;t||r;){let s=!r||t&&t.currentIndex<Xx(r,o,i)?t:r,a=Xx(s,o,i),c=s.currentIndex;if(s===r)o--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)o++;else{i||(i=[]);let u=a-o,h=c-o;if(u!=h){for(let g=0;g<u;g++){let v=g<i.length?i[g]:i[g]=0,D=v+g;h<=D&&D<u&&(i[g]=v+1)}let p=s.previousIndex;i[p]=h-u}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!lE(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,o,i,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)i=e[a],s=this._trackByFn(a,i),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,i,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,i,s,a)),Object.is(t.item,i)||this._addIdentityChange(t,i)),t=t._next}else o=0,vP(e,a=>{s=this._trackByFn(o,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,o),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,o)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,o++}),this.length=o;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,o){let i;return e===null?i=this._itTail:(i=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,o)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,o),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,o)):e=this._addAfter(new Fm(t,r),i,o)),e}_verifyReinsertion(e,t,r,o){let i=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return i!==null?e=this._reinsertAfter(i,e._prev,o):e.currentIndex!=o&&(e.currentIndex=o,this._addToMoves(e,o)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let o=e._prevRemoved,i=e._nextRemoved;return o===null?this._removalsHead=i:o._nextRemoved=i,i===null?this._removalsTail=o:i._prevRemoved=o,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let o=t===null?this._itHead:t._next;return e._next=o,e._prev=t,o===null?this._itTail=e:o._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new $u),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new $u),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Fm=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Vm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},$u=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Vm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,o=this.map.get(r);return o?o.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Xx(n,e,t){let r=n.previousIndex;if(r===null)return r;let o=0;return t&&r<t.length&&(o=t[r]),r+e+o}var Lm=class{constructor(){}supports(e){return e instanceof Map||xg(e)}create(){return new jm}},jm=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||xg(e)))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,o)=>{if(t&&t.key===o)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let i=this._getOrCreateRecordForKey(o,r);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let o=this._records.get(e);this._maybeAddToChanges(o,t);let i=o._prev,s=o._next;return i&&(i._next=s),s&&(s._prev=i),o._next=null,o._prev=null,o}let r=new Bm(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},Bm=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function Jx(){return new Dg([new Nm])}var Dg=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:Jx})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||Jx()),deps:[[n,new Gu,new Lt]]}}find(t){let r=this.factories.find(o=>o.supports(t));if(r!=null)return r;throw new Q(901,!1)}}return n})();function e_(){return new Tg([new Lm])}var Tg=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:e_})}constructor(t){this.factories=t}static create(t,r){if(r){let o=r.factories.slice();t=t.concat(o)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||e_()),deps:[[n,new Gu,new Lt]]}}find(t){let r=this.factories.find(o=>o.supports(t));if(r)return r;throw new Q(901,!1)}}return n})();function CE(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,o=EN(r),i=[xE({}),{provide:qi,useExisting:yN},...t||[]],s=new ju({providers:i,parent:o,debugName:"",runEnvironmentInitializers:!1});return xN({r3Injector:s.injector,platformInjector:o,rootComponent:e})}catch(e){return Promise.reject(e)}}var DE=new z("");function Wo(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function ts(n,e){Ho("NgSignals");let t=Uw(n);return e?.equal&&(t[hr].equal=e.equal),t}function Qn(n){let e=xe(null);try{return n()}finally{xe(e)}}function TE(n){let e=Zr(n);if(!e)return null;let t=new Ki(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var NE=null;function Dr(){return NE}function OE(n){NE??=n}var Td=class{};var mt=new z(""),Fg=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>N(kN),providedIn:"platform"})}}return n})(),FE=new z(""),kN=(()=>{class n extends Fg{constructor(){super(),this._doc=N(mt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dr().getBaseHref(this._doc)}onPopState(t){let r=Dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,o){this._history.pushState(t,r,o)}replaceState(t,r,o){this._history.replaceState(t,r,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function Vg(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function SE(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function Er(n){return n&&n[0]!=="?"?"?"+n:n}var Tr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>N(Lg),providedIn:"root"})}}return n})(),VE=new z(""),Lg=(()=>{class n extends Tr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(mt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Vg(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+Er(this._platformLocation.search),o=this._platformLocation.hash;return o&&t?`${r}${o}`:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Er(i));this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Er(i));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(B(Fg),B(VE,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),LE=(()=>{class n extends Tr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Vg(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,o,i){let s=this.prepareExternalUrl(o+Er(i));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,o,i){let s=this.prepareExternalUrl(o+Er(i));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(B(Fg),B(VE,8))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),rs=(()=>{class n{constructor(t){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=PN(SE(AE(r))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Er(r))}normalize(t){return n.stripTrailingSlash(RN(this._basePath,AE(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",o=null){this._locationStrategy.pushState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Er(r)),o)}replaceState(t,r="",o=null){this._locationStrategy.replaceState(o,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Er(r)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(o=>o(t,r))}subscribe(t,r,o){return this._subject.subscribe({next:t,error:r,complete:o})}static{this.normalizeQueryParams=Er}static{this.joinWithSlash=Vg}static{this.stripTrailingSlash=SE}static{this.\u0275fac=function(r){return new(r||n)(B(Tr))}}static{this.\u0275prov=H({token:n,factory:()=>MN(),providedIn:"root"})}}return n})();function MN(){return new rs(B(Tr))}function RN(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function AE(n){return n.replace(/\/index.html$/,"")}function PN(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var $t=function(n){return n[n.Format=0]="Format",n[n.Standalone=1]="Standalone",n}($t||{}),Ne=function(n){return n[n.Narrow=0]="Narrow",n[n.Abbreviated=1]="Abbreviated",n[n.Wide=2]="Wide",n[n.Short=3]="Short",n}(Ne||{}),Xt=function(n){return n[n.Short=0]="Short",n[n.Medium=1]="Medium",n[n.Long=2]="Long",n[n.Full=3]="Full",n}(Xt||{}),io={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function NN(n){return pn(n)[Xe.LocaleId]}function ON(n,e,t){let r=pn(n),o=[r[Xe.DayPeriodsFormat],r[Xe.DayPeriodsStandalone]],i=mn(o,e);return mn(i,t)}function FN(n,e,t){let r=pn(n),o=[r[Xe.DaysFormat],r[Xe.DaysStandalone]],i=mn(o,e);return mn(i,t)}function VN(n,e,t){let r=pn(n),o=[r[Xe.MonthsFormat],r[Xe.MonthsStandalone]],i=mn(o,e);return mn(i,t)}function LN(n,e){let r=pn(n)[Xe.Eras];return mn(r,e)}function yd(n,e){let t=pn(n);return mn(t[Xe.DateFormat],e)}function wd(n,e){let t=pn(n);return mn(t[Xe.TimeFormat],e)}function xd(n,e){let r=pn(n)[Xe.DateTimeFormat];return mn(r,e)}function Ad(n,e){let t=pn(n),r=t[Xe.NumberSymbols][e];if(typeof r>"u"){if(e===io.CurrencyDecimal)return t[Xe.NumberSymbols][io.Decimal];if(e===io.CurrencyGroup)return t[Xe.NumberSymbols][io.Group]}return r}function jE(n){if(!n[Xe.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[Xe.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function jN(n){let e=pn(n);return jE(e),(e[Xe.ExtraData][2]||[]).map(r=>typeof r=="string"?Sg(r):[Sg(r[0]),Sg(r[1])])}function BN(n,e,t){let r=pn(n);jE(r);let o=[r[Xe.ExtraData][0],r[Xe.ExtraData][1]],i=mn(o,e)||[];return mn(i,t)||[]}function mn(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function Sg(n){let[e,t]=n.split(":");return{hours:+e,minutes:+t}}var UN=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,_d={},$N=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,Cr=function(n){return n[n.Short=0]="Short",n[n.ShortGMT=1]="ShortGMT",n[n.Long=2]="Long",n[n.Extended=3]="Extended",n}(Cr||{}),Se=function(n){return n[n.FullYear=0]="FullYear",n[n.Month=1]="Month",n[n.Date=2]="Date",n[n.Hours=3]="Hours",n[n.Minutes=4]="Minutes",n[n.Seconds=5]="Seconds",n[n.FractionalSeconds=6]="FractionalSeconds",n[n.Day=7]="Day",n}(Se||{}),Te=function(n){return n[n.DayPeriods=0]="DayPeriods",n[n.Days=1]="Days",n[n.Months=2]="Months",n[n.Eras=3]="Eras",n}(Te||{});function zN(n,e,t,r){let o=XN(n);e=Ir(t,e)||e;let s=[],a;for(;e;)if(a=$N.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let c=o.getTimezoneOffset();r&&(c=UE(r,c),o=ZN(o,r,!0));let u="";return s.forEach(h=>{let p=QN(h);u+=p?p(o,t,c):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),u}function Sd(n,e,t){let r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Ir(n,e){let t=NN(n);if(_d[t]??={},_d[t][e])return _d[t][e];let r="";switch(e){case"shortDate":r=yd(n,Xt.Short);break;case"mediumDate":r=yd(n,Xt.Medium);break;case"longDate":r=yd(n,Xt.Long);break;case"fullDate":r=yd(n,Xt.Full);break;case"shortTime":r=wd(n,Xt.Short);break;case"mediumTime":r=wd(n,Xt.Medium);break;case"longTime":r=wd(n,Xt.Long);break;case"fullTime":r=wd(n,Xt.Full);break;case"short":let o=Ir(n,"shortTime"),i=Ir(n,"shortDate");r=Id(xd(n,Xt.Short),[o,i]);break;case"medium":let s=Ir(n,"mediumTime"),a=Ir(n,"mediumDate");r=Id(xd(n,Xt.Medium),[s,a]);break;case"long":let c=Ir(n,"longTime"),u=Ir(n,"longDate");r=Id(xd(n,Xt.Long),[c,u]);break;case"full":let h=Ir(n,"fullTime"),p=Ir(n,"fullDate");r=Id(xd(n,Xt.Full),[h,p]);break}return r&&(_d[t][e]=r),r}function Id(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return e!=null&&r in e?e[r]:t})),n}function Rn(n,e,t="-",r,o){let i="";(n<0||o&&n<=0)&&(o?n=-n+1:(n=-n,i=t));let s=String(n);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),i+s}function HN(n,e){return Rn(n,3).substring(0,e)}function rt(n,e,t=0,r=!1,o=!1){return function(i,s){let a=qN(n,i);if((t>0||a>-t)&&(a+=t),n===Se.Hours)a===0&&t===-12&&(a=12);else if(n===Se.FractionalSeconds)return HN(a,e);let c=Ad(s,io.MinusSign);return Rn(a,e,c,r,o)}}function qN(n,e){switch(n){case Se.FullYear:return e.getFullYear();case Se.Month:return e.getMonth();case Se.Date:return e.getDate();case Se.Hours:return e.getHours();case Se.Minutes:return e.getMinutes();case Se.Seconds:return e.getSeconds();case Se.FractionalSeconds:return e.getMilliseconds();case Se.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}function Ve(n,e,t=$t.Format,r=!1){return function(o,i){return GN(o,i,n,e,t,r)}}function GN(n,e,t,r,o,i){switch(t){case Te.Months:return VN(e,o,r)[n.getMonth()];case Te.Days:return FN(e,o,r)[n.getDay()];case Te.DayPeriods:let s=n.getHours(),a=n.getMinutes();if(i){let u=jN(e),h=BN(e,o,r),p=u.findIndex(g=>{if(Array.isArray(g)){let[v,D]=g,M=s>=v.hours&&a>=v.minutes,S=s<D.hours||s===D.hours&&a<D.minutes;if(v.hours<D.hours){if(M&&S)return!0}else if(M||S)return!0}else if(g.hours===s&&g.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return ON(e,o,r)[s<12?0:1];case Te.Eras:return LN(e,r)[n.getFullYear()<=0?0:1];default:let c=t;throw new Error(`unexpected translation type ${c}`)}}function Ed(n){return function(e,t,r){let o=-1*r,i=Ad(t,io.MinusSign),s=o>0?Math.floor(o/60):Math.ceil(o/60);switch(n){case Cr.Short:return(o>=0?"+":"")+Rn(s,2,i)+Rn(Math.abs(o%60),2,i);case Cr.ShortGMT:return"GMT"+(o>=0?"+":"")+Rn(s,1,i);case Cr.Long:return"GMT"+(o>=0?"+":"")+Rn(s,2,i)+":"+Rn(Math.abs(o%60),2,i);case Cr.Extended:return r===0?"Z":(o>=0?"+":"")+Rn(s,2,i)+":"+Rn(Math.abs(o%60),2,i);default:throw new Error(`Unknown zone width "${n}"`)}}}var WN=0,Dd=4;function KN(n){let e=Sd(n,WN,1).getDay();return Sd(n,0,1+(e<=Dd?Dd:Dd+7)-e)}function BE(n){let e=n.getDay(),t=e===0?-3:Dd-e;return Sd(n.getFullYear(),n.getMonth(),n.getDate()+t)}function Ag(n,e=!1){return function(t,r){let o;if(e){let i=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,s=t.getDate();o=1+Math.floor((s+i)/7)}else{let i=BE(t),s=KN(i.getFullYear()),a=i.getTime()-s.getTime();o=1+Math.round(a/6048e5)}return Rn(o,n,Ad(r,io.MinusSign))}}function Cd(n,e=!1){return function(t,r){let i=BE(t).getFullYear();return Rn(i,n,Ad(r,io.MinusSign),e)}}var kg={};function QN(n){if(kg[n])return kg[n];let e;switch(n){case"G":case"GG":case"GGG":e=Ve(Te.Eras,Ne.Abbreviated);break;case"GGGG":e=Ve(Te.Eras,Ne.Wide);break;case"GGGGG":e=Ve(Te.Eras,Ne.Narrow);break;case"y":e=rt(Se.FullYear,1,0,!1,!0);break;case"yy":e=rt(Se.FullYear,2,0,!0,!0);break;case"yyy":e=rt(Se.FullYear,3,0,!1,!0);break;case"yyyy":e=rt(Se.FullYear,4,0,!1,!0);break;case"Y":e=Cd(1);break;case"YY":e=Cd(2,!0);break;case"YYY":e=Cd(3);break;case"YYYY":e=Cd(4);break;case"M":case"L":e=rt(Se.Month,1,1);break;case"MM":case"LL":e=rt(Se.Month,2,1);break;case"MMM":e=Ve(Te.Months,Ne.Abbreviated);break;case"MMMM":e=Ve(Te.Months,Ne.Wide);break;case"MMMMM":e=Ve(Te.Months,Ne.Narrow);break;case"LLL":e=Ve(Te.Months,Ne.Abbreviated,$t.Standalone);break;case"LLLL":e=Ve(Te.Months,Ne.Wide,$t.Standalone);break;case"LLLLL":e=Ve(Te.Months,Ne.Narrow,$t.Standalone);break;case"w":e=Ag(1);break;case"ww":e=Ag(2);break;case"W":e=Ag(1,!0);break;case"d":e=rt(Se.Date,1);break;case"dd":e=rt(Se.Date,2);break;case"c":case"cc":e=rt(Se.Day,1);break;case"ccc":e=Ve(Te.Days,Ne.Abbreviated,$t.Standalone);break;case"cccc":e=Ve(Te.Days,Ne.Wide,$t.Standalone);break;case"ccccc":e=Ve(Te.Days,Ne.Narrow,$t.Standalone);break;case"cccccc":e=Ve(Te.Days,Ne.Short,$t.Standalone);break;case"E":case"EE":case"EEE":e=Ve(Te.Days,Ne.Abbreviated);break;case"EEEE":e=Ve(Te.Days,Ne.Wide);break;case"EEEEE":e=Ve(Te.Days,Ne.Narrow);break;case"EEEEEE":e=Ve(Te.Days,Ne.Short);break;case"a":case"aa":case"aaa":e=Ve(Te.DayPeriods,Ne.Abbreviated);break;case"aaaa":e=Ve(Te.DayPeriods,Ne.Wide);break;case"aaaaa":e=Ve(Te.DayPeriods,Ne.Narrow);break;case"b":case"bb":case"bbb":e=Ve(Te.DayPeriods,Ne.Abbreviated,$t.Standalone,!0);break;case"bbbb":e=Ve(Te.DayPeriods,Ne.Wide,$t.Standalone,!0);break;case"bbbbb":e=Ve(Te.DayPeriods,Ne.Narrow,$t.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ve(Te.DayPeriods,Ne.Abbreviated,$t.Format,!0);break;case"BBBB":e=Ve(Te.DayPeriods,Ne.Wide,$t.Format,!0);break;case"BBBBB":e=Ve(Te.DayPeriods,Ne.Narrow,$t.Format,!0);break;case"h":e=rt(Se.Hours,1,-12);break;case"hh":e=rt(Se.Hours,2,-12);break;case"H":e=rt(Se.Hours,1);break;case"HH":e=rt(Se.Hours,2);break;case"m":e=rt(Se.Minutes,1);break;case"mm":e=rt(Se.Minutes,2);break;case"s":e=rt(Se.Seconds,1);break;case"ss":e=rt(Se.Seconds,2);break;case"S":e=rt(Se.FractionalSeconds,1);break;case"SS":e=rt(Se.FractionalSeconds,2);break;case"SSS":e=rt(Se.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=Ed(Cr.Short);break;case"ZZZZZ":e=Ed(Cr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=Ed(Cr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=Ed(Cr.Long);break;default:return null}return kg[n]=e,e}function UE(n,e){n=n.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function YN(n,e){return n=new Date(n.getTime()),n.setMinutes(n.getMinutes()+e),n}function ZN(n,e,t){let r=t?-1:1,o=n.getTimezoneOffset(),i=UE(e,o);return YN(n,r*(i-o))}function XN(n){if(kE(n))return n;if(typeof n=="number"&&!isNaN(n))return new Date(n);if(typeof n=="string"){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){let[o,i=1,s=1]=n.split("-").map(a=>+a);return Sd(o,i-1,s)}let t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(UN))return JN(r)}let e=new Date(n);if(!kE(e))throw new Error(`Unable to convert "${n}" into a date`);return e}function JN(n){let e=new Date(0),t=0,r=0,o=n[8]?e.setUTCFullYear:e.setFullYear,i=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),o.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));let s=Number(n[4]||0)-t,a=Number(n[5]||0)-r,c=Number(n[6]||0),u=Math.floor(parseFloat("0."+(n[7]||0))*1e3);return i.call(e,s,a,c,u),e}function kE(n){return n instanceof Date&&!isNaN(n.valueOf())}function kd(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[o,i]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(o.trim()===e)return decodeURIComponent(i)}return null}var Mg=/\s+/,ME=[],Md=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=ME,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Mg):ME}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Mg):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let o=this.stateMap.get(t);o!==void 0?(o.enabled!==r&&(o.changed=!0,o.enabled=r),o.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],o=t[1];o.changed?(this._toggleClass(r,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),o.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Mg).forEach(o=>{r?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}static{this.\u0275fac=function(r){return new(r||n)(O(fn),O(Mn))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var Rg=class{constructor(e,t,r,o){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=o}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},gn=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,o){this._viewContainer=t,this._template=r,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((o,i,s)=>{if(o.previousIndex==null)r.createEmbeddedView(this._template,new Rg(o.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(i===null?void 0:i);else if(i!==null){let a=r.get(i);r.move(a,s),RE(a,o)}});for(let o=0,i=r.length;o<i;o++){let a=r.get(o).context;a.index=o,a.count=i,a.ngForOf=this._ngForOf}t.forEachIdentityChange(o=>{let i=r.get(o.currentIndex);RE(i,o)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(O(Xi),O(sd),O(Dg))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function RE(n,e){n.context.$implicit=e.item}var Ct=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Pg,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){PE("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){PE("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(O(Xi),O(sd))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Pg=class{constructor(){this.$implicit=null,this.ngIf=null}};function PE(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Nt(e)}'.`)}var $E=(()=>{class n{constructor(t,r,o){this._ngEl=t,this._differs=r,this._renderer=o,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[o,i]=t.split("."),s=o.indexOf("-")===-1?void 0:Wn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,o,i?`${r}${i}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,o,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(O(fn),O(Tg),O(Mn))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})();function eO(n,e){return new Q(2100,!1)}var tO="mediumDate",nO=new z(""),rO=new z(""),zE=(()=>{class n{constructor(t,r,o){this.locale=t,this.defaultTimezone=r,this.defaultOptions=o}transform(t,r,o,i){if(t==null||t===""||t!==t)return null;try{let s=r??this.defaultOptions?.dateFormat??tO,a=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return zN(t,s,i||this.locale,a)}catch(s){throw eO(n,s.message)}}static{this.\u0275fac=function(r){return new(r||n)(O(vd,16),O(nO,24),O(rO,24))}}static{this.\u0275pipe=b_({name:"date",type:n,pure:!0,standalone:!0})}}return n})();var Je=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=_t({type:n})}static{this.\u0275inj=xt({})}}return n})(),jg="browser",oO="server";function iO(n){return n===jg}function os(n){return n===oO}var HE=(()=>{class n{static{this.\u0275prov=H({token:n,providedIn:"root",factory:()=>iO(N(It))?new Ng(N(mt),window):new Og})}}return n})(),Ng=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=sO(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,o=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(r-i[0],o-i[1])}};function sO(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),o=r.currentNode;for(;o;){let i=o.shadowRoot;if(i){let s=i.getElementById(e)||i.querySelector(`[name="${e}"]`);if(s)return s}o=r.nextNode()}}return null}var Og=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},ns=class{};var qa=class{},Pd=class{},Sr=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let o=t.slice(0,r),i=o.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(o,i),this.headers.has(i)?this.headers.get(i).push(s):this.headers.set(i,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let o=(e.op==="a"?this.headers.get(t):void 0)||[];o.push(...r),this.headers.set(t,o);break;case"d":let i=e.value;if(!i)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>i.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(i=>i.toString()),o=e.toLowerCase();this.headers.set(o,r),this.maybeSetNormalizedName(e,o)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var Ug=class{encodeKey(e){return qE(e)}encodeValue(e){return qE(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function aO(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(o=>{let i=o.indexOf("="),[s,a]=i==-1?[e.decodeKey(o),""]:[e.decodeKey(o.slice(0,i)),e.decodeValue(o.slice(i+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}var lO=/%(\d[a-f0-9])/gi,cO={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function qE(n){return encodeURIComponent(n).replace(lO,(e,t)=>cO[t]??e)}function Rd(n){return`${n}`}var ao=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Ug,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=aO(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],o=Array.isArray(r)?r.map(Rd):[Rd(r)];this.map.set(t,o)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let o=e[r];Array.isArray(o)?o.forEach(i=>{t.push({param:r,value:i,op:"a"})}):t.push({param:r,value:o,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Rd(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],o=r.indexOf(Rd(e.value));o!==-1&&r.splice(o,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var $g=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function uO(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function GE(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function WE(n){return typeof Blob<"u"&&n instanceof Blob}function KE(n){return typeof FormData<"u"&&n instanceof FormData}function dO(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ha=class n{constructor(e,t,r,o){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let i;if(uO(this.method)||o?(this.body=r!==void 0?r:null,i=o):i=r,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params),this.transferCache=i.transferCache),this.headers??=new Sr,this.context??=new $g,!this.params)this.params=new ao,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),c=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+c+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||GE(this.body)||WE(this.body)||KE(this.body)||dO(this.body)?this.body:this.body instanceof ao?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||KE(this.body)?null:WE(this.body)?this.body.type||null:GE(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ao?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,o=e.responseType||this.responseType,i=e.transferCache??this.transferCache,s=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,c=e.reportProgress??this.reportProgress,u=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,v)=>g.set(v,e.setHeaders[v]),u)),e.setParams&&(h=Object.keys(e.setParams).reduce((g,v)=>g.set(v,e.setParams[v]),h)),new n(t,r,s,{params:h,headers:u,context:p,reportProgress:c,responseType:o,withCredentials:a,transferCache:i})}},lo=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(lo||{}),Ga=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new Sr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Nd=class n extends Ga{constructor(e={}){super(e),this.type=lo.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Wa=class n extends Ga{constructor(e={}){super(e),this.type=lo.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},so=class extends Ga{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},XE=200,hO=204;function Bg(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Ka=(()=>{class n{constructor(t){this.handler=t}request(t,r,o={}){let i;if(t instanceof Ha)i=t;else{let c;o.headers instanceof Sr?c=o.headers:c=new Sr(o.headers);let u;o.params&&(o.params instanceof ao?u=o.params:u=new ao({fromObject:o.params})),i=new Ha(t,r,o.body!==void 0?o.body:null,{headers:c,context:o.context,params:u,reportProgress:o.reportProgress,responseType:o.responseType||"json",withCredentials:o.withCredentials,transferCache:o.transferCache})}let s=X(i).pipe(mr(c=>this.handler.handle(c)));if(t instanceof Ha||o.observe==="events")return s;let a=s.pipe(pt(c=>c instanceof Wa));switch(o.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return a.pipe(J(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(J(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(J(c=>{if(c.body!==null&&typeof c.body!="string")throw new Error("Response is not a string.");return c.body}));case"json":default:return a.pipe(J(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${o.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ao().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,o={}){return this.request("PATCH",t,Bg(o,r))}post(t,r,o={}){return this.request("POST",t,Bg(o,r))}put(t,r,o={}){return this.request("PUT",t,Bg(o,r))}static{this.\u0275fac=function(r){return new(r||n)(B(qa))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),fO=/^\)\]\}',?\n/,pO="X-Request-URL";function QE(n){if(n.url)return n.url;let e=pO.toLocaleLowerCase();return n.headers.get(e)}var mO=(()=>{class n{constructor(){this.fetchImpl=N(zg,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=N(ye)}handle(t){return new ae(r=>{let o=new AbortController;return this.doRequest(t,o.signal,r).then(Hg,i=>r.error(new so({error:i}))),()=>o.abort()})}doRequest(t,r,o){return U(this,null,function*(){let i=this.createRequestInit(t),s;try{let v=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,$({signal:r},i)));gO(v),o.next({type:lo.Sent}),s=yield v}catch(v){o.error(new so({error:v,status:v.status??0,statusText:v.statusText,url:t.urlWithParams,headers:v.headers}));return}let a=new Sr(s.headers),c=s.statusText,u=QE(s)??t.urlWithParams,h=s.status,p=null;if(t.reportProgress&&o.next(new Nd({headers:a,status:h,statusText:c,url:u})),s.body){let v=s.headers.get("content-length"),D=[],M=s.body.getReader(),S=0,V,W,L=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>U(this,null,function*(){for(;;){let{done:ge,value:re}=yield M.read();if(ge)break;if(D.push(re),S+=re.length,t.reportProgress){W=t.responseType==="text"?(W??"")+(V??=new TextDecoder).decode(re,{stream:!0}):void 0;let x=()=>o.next({type:lo.DownloadProgress,total:v?+v:void 0,loaded:S,partialText:W});L?L.run(x):x()}}}));let te=this.concatChunks(D,S);try{let ge=s.headers.get("Content-Type")??"";p=this.parseBody(t,te,ge)}catch(ge){o.error(new so({error:ge,headers:new Sr(s.headers),status:s.status,statusText:s.statusText,url:QE(s)??t.urlWithParams}));return}}h===0&&(h=p?XE:0),h>=200&&h<300?(o.next(new Wa({body:p,headers:a,status:h,statusText:c,url:u})),o.complete()):o.error(new so({error:p,headers:a,status:h,statusText:c,url:u}))})}parseBody(t,r,o){switch(t.responseType){case"json":let i=new TextDecoder().decode(r).replace(fO,"");return i===""?null:JSON.parse(i);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:o});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},o=t.withCredentials?"include":void 0;if(t.headers.forEach((i,s)=>r[i]=s.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let i=t.detectContentTypeHeader();i!==null&&(r["Content-Type"]=i)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:o}}concatChunks(t,r){let o=new Uint8Array(r),i=0;for(let s of t)o.set(s,i),i+=s.length;return o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),zg=class{};function Hg(){}function gO(n){n.then(Hg,Hg)}function bO(n,e){return e(n)}function vO(n,e,t){return(r,o)=>dn(t,()=>e(r,i=>n(i,o)))}var JE=new z(""),eC=new z(""),yO=new z(""),wO=new z("",{providedIn:"root",factory:()=>!0});var YE=(()=>{class n extends qa{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=N(ro),this.contributeToStability=N(wO)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(eC),...this.injector.get(yO,[])]));this.chain=r.reduceRight((o,i)=>vO(o,i,this.injector),bO)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,o=>this.backend.handle(o)).pipe(ko(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(B(Pd),B(Ot))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();var xO=/^\)\]\}',?\n/;function _O(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var ZE=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new Q(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ce(r.\u0275loadImpl()):X(null)).pipe(Ue(()=>new ae(i=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((M,S)=>s.setRequestHeader(M,S.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let M=t.detectContentTypeHeader();M!==null&&s.setRequestHeader("Content-Type",M)}if(t.responseType){let M=t.responseType.toLowerCase();s.responseType=M!=="json"?M:"text"}let a=t.serializeBody(),c=null,u=()=>{if(c!==null)return c;let M=s.statusText||"OK",S=new Sr(s.getAllResponseHeaders()),V=_O(s)||t.url;return c=new Nd({headers:S,status:s.status,statusText:M,url:V}),c},h=()=>{let{headers:M,status:S,statusText:V,url:W}=u(),L=null;S!==hO&&(L=typeof s.response>"u"?s.responseText:s.response),S===0&&(S=L?XE:0);let te=S>=200&&S<300;if(t.responseType==="json"&&typeof L=="string"){let ge=L;L=L.replace(xO,"");try{L=L!==""?JSON.parse(L):null}catch(re){L=ge,te&&(te=!1,L={error:re,text:L})}}te?(i.next(new Wa({body:L,headers:M,status:S,statusText:V,url:W||void 0})),i.complete()):i.error(new so({error:L,headers:M,status:S,statusText:V,url:W||void 0}))},p=M=>{let{url:S}=u(),V=new so({error:M,status:s.status||0,statusText:s.statusText||"Unknown Error",url:S||void 0});i.error(V)},g=!1,v=M=>{g||(i.next(u()),g=!0);let S={type:lo.DownloadProgress,loaded:M.loaded};M.lengthComputable&&(S.total=M.total),t.responseType==="text"&&s.responseText&&(S.partialText=s.responseText),i.next(S)},D=M=>{let S={type:lo.UploadProgress,loaded:M.loaded};M.lengthComputable&&(S.total=M.total),i.next(S)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",v),a!==null&&s.upload&&s.upload.addEventListener("progress",D)),s.send(a),i.next({type:lo.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",v),a!==null&&s.upload&&s.upload.removeEventListener("progress",D)),s.readyState!==s.DONE&&s.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(B(ns))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),tC=new z(""),IO="XSRF-TOKEN",EO=new z("",{providedIn:"root",factory:()=>IO}),CO="X-XSRF-TOKEN",DO=new z("",{providedIn:"root",factory:()=>CO}),Od=class{},TO=(()=>{class n{constructor(t,r,o){this.doc=t,this.platform=r,this.cookieName=o,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=kd(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(B(mt),B(It),B(EO))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function SO(n,e){let t=n.url.toLowerCase();if(!N(tC)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=N(Od).getToken(),o=N(DO);return r!=null&&!n.headers.has(o)&&(n=n.clone({headers:n.headers.set(o,r)})),e(n)}function nC(...n){let e=[Ka,ZE,YE,{provide:qa,useExisting:YE},{provide:Pd,useFactory:()=>N(mO,{optional:!0})??N(ZE)},{provide:eC,useValue:SO,multi:!0},{provide:tC,useValue:!0},{provide:Od,useClass:TO}];for(let t of n)e.push(...t.\u0275providers);return Kn(e)}var Wg=class extends Td{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Kg=class n extends Wg{static makeCurrent(){OE(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=AO();return t==null?null:kO(t)}resetBaseElement(){Qa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return kd(document.cookie,e)}},Qa=null;function AO(){return Qa=Qa||document.querySelector("base"),Qa?Qa.getAttribute("href"):null}function kO(n){return new URL(n,document.baseURI).pathname}var MO=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Fd=new z(""),aC=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>{o.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(i=>i.supports(t)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(B(Fd),B(ye))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Ya=class{constructor(e){this._doc=e}},qg="ng-app-id",lC=(()=>{class n{constructor(t,r,o,i={}){this.doc=t,this.appId=r,this.nonce=o,this.platformId=i,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=os(i),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(o=>o.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${qg}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(o=>{o.textContent!=null&&r.set(o.textContent,o)}),r}return null}changeUsageCount(t,r){let o=this.styleRef;if(o.has(t)){let i=o.get(t);return i.usage+=r,i.usage}return o.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let o=this.styleNodesInDOM,i=o?.get(r);if(i?.parentNode===t)return o.delete(r),i.removeAttribute(qg),i;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(qg,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let o=this.getStyleElement(t,r),i=this.styleRef,s=i.get(r)?.elements;s?s.push(o):i.set(r,{elements:[o],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(B(mt),B(ig),B(ag,8),B(It))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Gg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Yg=/%COMP%/g,cC="%COMP%",RO=`_nghost-${cC}`,PO=`_ngcontent-${cC}`,NO=!0,OO=new z("",{providedIn:"root",factory:()=>NO});function FO(n){return PO.replace(Yg,n)}function VO(n){return RO.replace(Yg,n)}function uC(n,e){return e.map(t=>t.replace(Yg,n))}var oC=(()=>{class n{constructor(t,r,o,i,s,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.removeStylesOnCompDestroy=i,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=os(a),this.defaultRenderer=new Za(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===zn.ShadowDom&&(r=be($({},r),{encapsulation:zn.Emulated}));let o=this.getOrCreateRenderer(t,r);return o instanceof Vd?o.applyToHost(t):o instanceof Xa&&o.applyStyles(),o}getOrCreateRenderer(t,r){let o=this.rendererByCompId,i=o.get(r.id);if(!i){let s=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case zn.Emulated:i=new Vd(c,u,r,this.appId,h,s,a,p);break;case zn.ShadowDom:return new Qg(c,u,t,r,s,a,this.nonce,p);default:i=new Xa(c,u,r,h,s,a,p);break}o.set(r.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(B(aC),B(lC),B(ig),B(OO),B(mt),B(It),B(ye),B(ag))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),Za=class{constructor(e,t,r,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=o,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Gg[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(iC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(iC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;let i=Gg[o];i?e.setAttributeNS(i,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let o=Gg[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(Wn.DashCase|Wn.Important)?e.style.setProperty(t,r,o&Wn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&Wn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Dr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function iC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Qg=class extends Za{constructor(e,t,r,o,i,s,a,c){super(e,i,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=uC(o.id,o.styles);for(let h of u){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Xa=class extends Za{constructor(e,t,r,o,i,s,a,c){super(e,i,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=o,this.styles=c?uC(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Vd=class extends Xa{constructor(e,t,r,o,i,s,a,c){let u=o+"-"+r.id;super(e,t,r,i,s,a,c,u),this.contentAttr=FO(u),this.hostAttr=VO(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},LO=(()=>{class n extends Ya{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}static{this.\u0275fac=function(r){return new(r||n)(B(mt))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),jO=(()=>{class n extends Ya{constructor(t){super(t),this.delegate=N(DE,{optional:!0})}supports(t){return this.delegate?this.delegate.supports(t):!1}addEventListener(t,r,o){return this.delegate.addEventListener(t,r,o)}removeEventListener(t,r,o){return this.delegate.removeEventListener(t,r,o)}static{this.\u0275fac=function(r){return new(r||n)(B(mt))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})(),sC=["alt","control","meta","shift"],BO={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UO={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},$O=(()=>{class n extends Ya{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,o){let i=n.parseEventName(r),s=n.eventCallback(i.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dr().onAndCancel(t,i.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),o=r.shift();if(r.length===0||!(o==="keydown"||o==="keyup"))return null;let i=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),sC.forEach(u=>{let h=r.indexOf(u);h>-1&&(r.splice(h,1),s+=u+".")}),s+=i,r.length!=0||i.length===0)return null;let c={};return c.domEventName=o,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let o=BO[t.key]||t.key,i="";return r.indexOf("code.")>-1&&(o=t.code,i="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),sC.forEach(s=>{if(s!==o){let a=UO[s];a(t)&&(i+=s+".")}}),i+=o,i===r)}static eventCallback(t,r,o){return i=>{n.matchEventFullKeyCode(i,t)&&o.runGuarded(()=>r(i))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(B(mt))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function dC(n,e){return CE($({rootComponent:n},zO(e)))}function zO(n){return{appProviders:[...KO,...n?.providers??[]],platformProviders:WO}}function HO(){Kg.makeCurrent()}function qO(){return new br}function GO(){return wI(document),document}var WO=[{provide:It,useValue:jg},{provide:sg,useValue:HO,multi:!0},{provide:mt,useFactory:GO,deps:[]}];var KO=[{provide:Wu,useValue:"root"},{provide:br,useFactory:qO,deps:[]},{provide:Fd,useClass:LO,multi:!0,deps:[mt,ye,It]},{provide:Fd,useClass:$O,multi:!0,deps:[mt]},{provide:Fd,useClass:jO,multi:!0},oC,lC,aC,{provide:Wi,useExisting:oC},{provide:ns,useClass:MO,deps:[]},[]];var hC=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(B(mt))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var ce="primary",fl=Symbol("RouteTitle"),tb=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function us(n){return new tb(n)}function YO(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let o={};for(let i=0;i<r.length;i++){let s=r[i],a=n[i];if(s[0]===":")o[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function ZO(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yn(n[t],e[t]))return!1;return!0}function Yn(n,e){let t=n?nb(n):void 0,r=e?nb(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let i=0;i<t.length;i++)if(o=t[i],!IC(n[o],e[o]))return!1;return!0}function nb(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function IC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((o,i)=>r[i]===o)}else return n===e}function EC(n){return n.length>0?n[n.length-1]:null}function uo(n){return Sp(n)?n:qo(n)?Ce(Promise.resolve(n)):X(n)}var XO={exact:DC,subset:TC},CC={exact:JO,subset:e2,ignored:()=>!0};function fC(n,e,t){return XO[t.paths](n.root,e.root,t.matrixParams)&&CC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function JO(n,e){return Yn(n,e)}function DC(n,e,t){if(!Qo(n.segments,e.segments)||!Bd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!DC(n.children[r],e.children[r],t))return!1;return!0}function e2(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>IC(n[t],e[t]))}function TC(n,e,t){return SC(n,e,e.segments,t)}function SC(n,e,t,r){if(n.segments.length>t.length){let o=n.segments.slice(0,t.length);return!(!Qo(o,t)||e.hasChildren()||!Bd(o,t,r))}else if(n.segments.length===t.length){if(!Qo(n.segments,t)||!Bd(n.segments,t,r))return!1;for(let o in e.children)if(!n.children[o]||!TC(n.children[o],e.children[o],r))return!1;return!0}else{let o=t.slice(0,n.segments.length),i=t.slice(n.segments.length);return!Qo(n.segments,o)||!Bd(n.segments,o,r)||!n.children[ce]?!1:SC(n.children[ce],e,i,r)}}function Bd(n,e,t){return e.every((r,o)=>CC[t](n[o].parameters,r.parameters))}var kr=class{constructor(e=new ke([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=us(this.queryParams),this._queryParamMap}toString(){return r2.serialize(this)}},ke=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ud(this)}},Ko=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=us(this.parameters),this._parameterMap}toString(){return kC(this)}};function t2(n,e){return Qo(n,e)&&n.every((t,r)=>Yn(t.parameters,e[r].parameters))}function Qo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function n2(n,e){let t=[];return Object.entries(n.children).forEach(([r,o])=>{r===ce&&(t=t.concat(e(o,r)))}),Object.entries(n.children).forEach(([r,o])=>{r!==ce&&(t=t.concat(e(o,r)))}),t}var pl=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>new ds,providedIn:"root"})}}return n})(),ds=class{parse(e){let t=new ob(e);return new kr(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Ja(e.root,!0)}`,r=s2(e.queryParams),o=typeof e.fragment=="string"?`#${o2(e.fragment)}`:"";return`${t}${r}${o}`}},r2=new ds;function Ud(n){return n.segments.map(e=>kC(e)).join("/")}function Ja(n,e){if(!n.hasChildren())return Ud(n);if(e){let t=n.children[ce]?Ja(n.children[ce],!1):"",r=[];return Object.entries(n.children).forEach(([o,i])=>{o!==ce&&r.push(`${o}:${Ja(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=n2(n,(r,o)=>o===ce?[Ja(n.children[ce],!1)]:[`${o}:${Ja(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ce]!=null?`${Ud(n)}/${t[0]}`:`${Ud(n)}/(${t.join("//")})`}}function AC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ld(n){return AC(n).replace(/%3B/gi,";")}function o2(n){return encodeURI(n)}function rb(n){return AC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $d(n){return decodeURIComponent(n)}function pC(n){return $d(n.replace(/\+/g,"%20"))}function kC(n){return`${rb(n.path)}${i2(n.parameters)}`}function i2(n){return Object.entries(n).map(([e,t])=>`;${rb(e)}=${rb(t)}`).join("")}function s2(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(o=>`${Ld(t)}=${Ld(o)}`).join("&"):`${Ld(t)}=${Ld(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var a2=/^[^\/()?;#]+/;function Zg(n){let e=n.match(a2);return e?e[0]:""}var l2=/^[^\/()?;=#]+/;function c2(n){let e=n.match(l2);return e?e[0]:""}var u2=/^[^=?&#]+/;function d2(n){let e=n.match(u2);return e?e[0]:""}var h2=/^[^&#]+/;function f2(n){let e=n.match(h2);return e?e[0]:""}var ob=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ke([],{}):new ke([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ce]=new ke(e,t)),r}parseSegment(){let e=Zg(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new Ko($d(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=c2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=Zg(this.remaining);o&&(r=o,this.capture(r))}e[$d(t)]=$d(r)}parseQueryParam(e){let t=d2(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=f2(this.remaining);s&&(r=s,this.capture(r))}let o=pC(t),i=pC(r);if(e.hasOwnProperty(o)){let s=e[o];Array.isArray(s)||(s=[s],e[o]=s),s.push(i)}else e[o]=i}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Zg(this.remaining),o=this.remaining[r.length];if(o!=="/"&&o!==")"&&o!==";")throw new Q(4010,!1);let i;r.indexOf(":")>-1?(i=r.slice(0,r.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=ce);let s=this.parseChildren();t[i]=Object.keys(s).length===1?s[ce]:new ke([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function MC(n){return n.segments.length>0?new ke([],{[ce]:n}):n}function RC(n){let e={};for(let[r,o]of Object.entries(n.children)){let i=RC(o);if(r===ce&&i.segments.length===0&&i.hasChildren())for(let[s,a]of Object.entries(i.children))e[s]=a;else(i.segments.length>0||i.hasChildren())&&(e[r]=i)}let t=new ke(n.segments,e);return p2(t)}function p2(n){if(n.numberOfChildren===1&&n.children[ce]){let e=n.children[ce];return new ke(n.segments.concat(e.segments),e.children)}return n}function Yo(n){return n instanceof kr}function m2(n,e,t=null,r=null){let o=PC(n);return NC(o,e,t,r)}function PC(n){let e;function t(i){let s={};for(let c of i.children){let u=t(c);s[c.outlet]=u}let a=new ke(i.url,s);return i===n&&(e=a),a}let r=t(n.root),o=MC(r);return e??o}function NC(n,e,t,r){let o=n;for(;o.parent;)o=o.parent;if(e.length===0)return Xg(o,o,o,t,r);let i=g2(e);if(i.toRoot())return Xg(o,o,new ke([],{}),t,r);let s=b2(i,o,n),a=s.processChildren?nl(s.segmentGroup,s.index,i.commands):FC(s.segmentGroup,s.index,i.commands);return Xg(o,s.segmentGroup,a,t,r)}function zd(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function il(n){return typeof n=="object"&&n!=null&&n.outlets}function Xg(n,e,t,r,o){let i={};r&&Object.entries(r).forEach(([c,u])=>{i[c]=Array.isArray(u)?u.map(h=>`${h}`):`${u}`});let s;n===e?s=t:s=OC(n,e,t);let a=MC(RC(s));return new kr(a,i,o)}function OC(n,e,t){let r={};return Object.entries(n.children).forEach(([o,i])=>{i===e?r[o]=t:r[o]=OC(i,e,t)}),new ke(n.segments,r)}var Hd=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&zd(r[0]))throw new Q(4003,!1);let o=r.find(il);if(o&&o!==EC(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function g2(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Hd(!0,0,n);let e=0,t=!1,r=n.reduce((o,i,s)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let a={};return Object.entries(i.outlets).forEach(([c,u])=>{a[c]=typeof u=="string"?u.split("/"):u}),[...o,{outlets:a}]}if(i.segmentPath)return[...o,i.segmentPath]}return typeof i!="string"?[...o,i]:s===0?(i.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?t=!0:a===".."?e++:a!=""&&o.push(a))}),o):[...o,i]},[]);return new Hd(t,e,r)}var as=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function b2(n,e,t){if(n.isAbsolute)return new as(e,!0,0);if(!t)return new as(e,!1,NaN);if(t.parent===null)return new as(t,!0,0);let r=zd(n.commands[0])?0:1,o=t.segments.length-1+r;return v2(t,o,n.numberOfDoubleDots)}function v2(n,e,t){let r=n,o=e,i=t;for(;i>o;){if(i-=o,r=r.parent,!r)throw new Q(4005,!1);o=r.segments.length}return new as(r,!1,o-i)}function y2(n){return il(n[0])?n[0].outlets:{[ce]:n}}function FC(n,e,t){if(n??=new ke([],{}),n.segments.length===0&&n.hasChildren())return nl(n,e,t);let r=w2(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let i=new ke(n.segments.slice(0,r.pathIndex),{});return i.children[ce]=new ke(n.segments.slice(r.pathIndex),n.children),nl(i,0,o)}else return r.match&&o.length===0?new ke(n.segments,{}):r.match&&!n.hasChildren()?ib(n,e,t):r.match?nl(n,0,o):ib(n,e,t)}function nl(n,e,t){if(t.length===0)return new ke(n.segments,{});{let r=y2(t),o={};if(Object.keys(r).some(i=>i!==ce)&&n.children[ce]&&n.numberOfChildren===1&&n.children[ce].segments.length===0){let i=nl(n.children[ce],e,t);return new ke(n.segments,i.children)}return Object.entries(r).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(o[i]=FC(n.children[i],e,s))}),Object.entries(n.children).forEach(([i,s])=>{r[i]===void 0&&(o[i]=s)}),new ke(n.segments,o)}}function w2(n,e,t){let r=0,o=e,i={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return i;let s=n.segments[o],a=t[r];if(il(a))break;let c=`${a}`,u=r<t.length-1?t[r+1]:null;if(o>0&&c===void 0)break;if(c&&u&&typeof u=="object"&&u.outlets===void 0){if(!gC(c,u,s))return i;r+=2}else{if(!gC(c,{},s))return i;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}function ib(n,e,t){let r=n.segments.slice(0,e),o=0;for(;o<t.length;){let i=t[o];if(il(i)){let c=x2(i.outlets);return new ke(r,c)}if(o===0&&zd(t[0])){let c=n.segments[e];r.push(new Ko(c.path,mC(t[0]))),o++;continue}let s=il(i)?i.outlets[ce]:`${i}`,a=o<t.length-1?t[o+1]:null;s&&a&&zd(a)?(r.push(new Ko(s,mC(a))),o+=2):(r.push(new Ko(s,{})),o++)}return new ke(r,{})}function x2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=ib(new ke([],{}),0,r))}),e}function mC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function gC(n,e,t){return n==t.path&&Yn(e,t.parameters)}var rl="imperative",ut=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ut||{}),bn=class{constructor(e,t){this.id=e,this.url=t}},hs=class extends bn{constructor(e,t,r="imperative",o=null){super(e,t),this.type=ut.NavigationStart,this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},vn=class extends bn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=ut.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},en=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(en||{}),qd=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(qd||{}),Ar=class extends bn{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=ut.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},co=class extends bn{constructor(e,t,r,o){super(e,t),this.reason=r,this.code=o,this.type=ut.NavigationSkipped}},sl=class extends bn{constructor(e,t,r,o){super(e,t),this.error=r,this.target=o,this.type=ut.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Gd=class extends bn{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=ut.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sb=class extends bn{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=ut.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ab=class extends bn{constructor(e,t,r,o,i){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=i,this.type=ut.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},lb=class extends bn{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=ut.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cb=class extends bn{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o,this.type=ut.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ub=class{constructor(e){this.route=e,this.type=ut.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},db=class{constructor(e){this.route=e,this.type=ut.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hb=class{constructor(e){this.snapshot=e,this.type=ut.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fb=class{constructor(e){this.snapshot=e,this.type=ut.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pb=class{constructor(e){this.snapshot=e,this.type=ut.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mb=class{constructor(e){this.snapshot=e,this.type=ut.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wd=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=ut.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},al=class{},fs=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function _2(n,e){return n.providers&&!n._injector&&(n._injector=ad(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Nn(n){return n.outlet||ce}function I2(n,e){let t=n.filter(r=>Nn(r)===e);return t.push(...n.filter(r=>Nn(r)!==e)),t}function ml(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var gb=class{get injector(){return ml(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new gl(this.rootInjector),this.attachRef=null}},gl=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let o=this.getOrCreateContext(t);o.outlet=r,this.contexts.set(t,o)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new gb(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(B(Ot))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Kd=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=bb(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=bb(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=vb(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return vb(e,this._root).map(t=>t.value)}};function bb(n,e){if(n===e.value)return e;for(let t of e.children){let r=bb(n,t);if(r)return r}return null}function vb(n,e){if(n===e.value)return[e];for(let t of e.children){let r=vb(n,t);if(r.length)return r.unshift(e),r}return[]}var Jt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ss(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Qd=class extends Kd{constructor(e,t){super(e),this.snapshot=t,Tb(this,e)}toString(){return this.snapshot.toString()}};function VC(n){let e=E2(n),t=new Ge([new Ko("",{})]),r=new Ge({}),o=new Ge({}),i=new Ge({}),s=new Ge(""),a=new yn(t,r,i,s,o,ce,n,e.root);return a.snapshot=e.root,new Qd(new Jt(a,[]),e)}function E2(n){let e={},t={},r={},o="",i=new ls([],e,r,o,t,ce,n,null,{});return new Zd("",new Jt(i,[]))}var yn=class{constructor(e,t,r,o,i,s,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=o,this.dataSubject=i,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(J(u=>u[fl]))??X(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(J(e=>us(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(J(e=>us(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yd(n,e,t="emptyOnly"){let r,{routeConfig:o}=n;return e!==null&&(t==="always"||o?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:$($({},e.params),n.params),data:$($({},e.data),n.data),resolve:$($($($({},n.data),e.data),o?.data),n._resolvedData)}:r={params:$({},n.params),data:$({},n.data),resolve:$($({},n.data),n._resolvedData??{})},o&&jC(o)&&(r.resolve[fl]=o.title),r}var ls=class{get title(){return this.data?.[fl]}constructor(e,t,r,o,i,s,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=i,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=us(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=us(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Zd=class extends Kd{constructor(e,t){super(t),this.url=e,Tb(this,t)}toString(){return LC(this._root)}};function Tb(n,e){e.value._routerState=n,e.children.forEach(t=>Tb(n,t))}function LC(n){let e=n.children.length>0?` { ${n.children.map(LC).join(", ")} } `:"";return`${n.value}${e}`}function Jg(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Yn(e.params,t.params)||n.paramsSubject.next(t.params),ZO(e.url,t.url)||n.urlSubject.next(t.url),Yn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function yb(n,e){let t=Yn(n.params,e.params)&&t2(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||yb(n.parent,e.parent))}function jC(n){return typeof n.title=="string"||n.title===null}var Sb=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=N(gl),this.location=N(Xi),this.changeDetector=N(Go),this.inputBinder=N(th,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:o}=t.name;if(r)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=t;let o=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new wb(t,a,o.injector);this.activated=o.createComponent(s,{index:o.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ze({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[xr]})}}return n})(),wb=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===yn?this.route:e===gl?this.childContexts:this.parent.get(e,t)}},th=new z(""),bC=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,o=Ta([r.queryParams,r.params,r.data]).pipe(Ue(([i,s,a],c)=>(a=$($($({},i),s),a),c===0?X(a):Promise.resolve(a)))).subscribe(i=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=TE(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,i[a])});this.outletDataSubscriptions.set(t,o)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function C2(n,e,t){let r=ll(n,e._root,t?t._root:void 0);return new Qd(r,e)}function ll(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let o=D2(n,e,t);return new Jt(r,o)}else{if(n.shouldAttach(e.value)){let i=n.retrieve(e.value);if(i!==null){let s=i.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ll(n,a)),s}}let r=T2(e.value),o=e.children.map(i=>ll(n,i));return new Jt(r,o)}}function D2(n,e,t){return e.children.map(r=>{for(let o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return ll(n,r,o);return ll(n,r)})}function T2(n){return new yn(new Ge(n.url),new Ge(n.params),new Ge(n.queryParams),new Ge(n.fragment),new Ge(n.data),n.outlet,n.component,n)}var cl=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},BC="ngNavigationCancelingError";function Xd(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Yo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,o=UC(!1,en.Redirect);return o.url=t,o.navigationBehaviorOptions=r,o}function UC(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[BC]=!0,t.cancellationCode=e,t}function S2(n){return $C(n)&&Yo(n.url)}function $C(n){return!!n&&n[BC]}var A2=(n,e,t,r)=>J(o=>(new xb(e,o.targetRouterState,o.currentRouterState,t,r).activate(n),o)),xb=class{constructor(e,t,r,o,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o,this.inputBindingEnabled=i}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Jg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let o=ss(t);e.children.forEach(i=>{let s=i.value.outlet;this.deactivateRoutes(i,o[s],r),delete o[s]}),Object.values(o).forEach(i=>{this.deactivateRouteAndItsChildren(i,r)})}deactivateRoutes(e,t,r){let o=e.value,i=t?t.value:null;if(o===i)if(o.component){let s=r.getContext(o.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else i&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=ss(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,i=ss(e);for(let s of Object.values(i))this.deactivateRouteAndItsChildren(s,o);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let o=ss(t);e.children.forEach(i=>{this.activateRoutes(i,o[i.value.outlet],r),this.forwardEvent(new mb(i.value.snapshot))}),e.children.length&&this.forwardEvent(new fb(e.value.snapshot))}activateRoutes(e,t,r){let o=e.value,i=t?t.value:null;if(Jg(o),o===i)if(o.component){let s=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(o.component){let s=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){let a=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Jg(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=o,s.outlet&&s.outlet.activateWith(o,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Jd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},cs=class{constructor(e,t){this.component=e,this.route=t}};function k2(n,e,t){let r=n._root,o=e?e._root:null;return el(r,o,t,[r.value])}function M2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ms(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!o_(n)?n:e.get(n):r}function el(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=ss(e);return n.children.forEach(s=>{R2(s,i[s.value.outlet],t,r.concat([s.value]),o),delete i[s.value.outlet]}),Object.entries(i).forEach(([s,a])=>ol(a,t.getContext(s),o)),o}function R2(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){let i=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&i.routeConfig===s.routeConfig){let c=P2(s,i,i.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Jd(r)):(i.data=s.data,i._resolvedData=s._resolvedData),i.component?el(n,e,a?a.children:null,r,o):el(n,e,t,r,o),c&&a&&a.outlet&&a.outlet.isActivated&&o.canDeactivateChecks.push(new cs(a.outlet.component,s))}else s&&ol(e,a,o),o.canActivateChecks.push(new Jd(r)),i.component?el(n,null,a?a.children:null,r,o):el(n,null,t,r,o);return o}function P2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Qo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Qo(n.url,e.url)||!Yn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yb(n,e)||!Yn(n.queryParams,e.queryParams);case"paramsChange":default:return!yb(n,e)}}function ol(n,e,t){let r=ss(n),o=n.value;Object.entries(r).forEach(([i,s])=>{o.component?e?ol(s,e.children.getContext(i),t):ol(s,null,t):ol(s,e,t)}),o.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new cs(e.outlet.component,o)):t.canDeactivateChecks.push(new cs(null,o)):t.canDeactivateChecks.push(new cs(null,o))}function bl(n){return typeof n=="function"}function N2(n){return typeof n=="boolean"}function O2(n){return n&&bl(n.canLoad)}function F2(n){return n&&bl(n.canActivate)}function V2(n){return n&&bl(n.canActivateChild)}function L2(n){return n&&bl(n.canDeactivate)}function j2(n){return n&&bl(n.canMatch)}function zC(n){return n instanceof pr||n?.name==="EmptyError"}var jd=Symbol("INITIAL_VALUE");function ps(){return Ue(n=>Ta(n.map(e=>e.pipe(gr(1),su(jd)))).pipe(J(e=>{for(let t of e)if(t!==!0){if(t===jd)return jd;if(t===!1||B2(t))return t}return!0}),pt(e=>e!==jd),gr(1)))}function B2(n){return Yo(n)||n instanceof cl}function U2(n,e){return et(t=>{let{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:i,canDeactivateChecks:s}}=t;return s.length===0&&i.length===0?X(be($({},t),{guardsResult:!0})):$2(s,r,o,n).pipe(et(a=>a&&N2(a)?z2(r,i,n,e):X(a)),J(a=>be($({},t),{guardsResult:a})))})}function $2(n,e,t,r){return Ce(n).pipe(et(o=>K2(o.component,o.route,t,e,r)),an(o=>o!==!0,!0))}function z2(n,e,t,r){return Ce(e).pipe(mr(o=>Ai(q2(o.route.parent,r),H2(o.route,r),W2(n,o.path,t),G2(n,o.route,t))),an(o=>o!==!0,!0))}function H2(n,e){return n!==null&&e&&e(new pb(n)),X(!0)}function q2(n,e){return n!==null&&e&&e(new hb(n)),X(!0)}function G2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return X(!0);let o=r.map(i=>nu(()=>{let s=ml(e)??t,a=ms(i,s),c=F2(a)?a.canActivate(e,n):dn(s,()=>a(e,n));return uo(c).pipe(an())}));return X(o).pipe(ps())}function W2(n,e,t){let r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(s=>M2(s)).filter(s=>s!==null).map(s=>nu(()=>{let a=s.guards.map(c=>{let u=ml(s.node)??t,h=ms(c,u),p=V2(h)?h.canActivateChild(r,n):dn(u,()=>h(r,n));return uo(p).pipe(an())});return X(a).pipe(ps())}));return X(i).pipe(ps())}function K2(n,e,t,r,o){let i=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!i||i.length===0)return X(!0);let s=i.map(a=>{let c=ml(e)??o,u=ms(a,c),h=L2(u)?u.canDeactivate(n,e,t,r):dn(c,()=>u(n,e,t,r));return uo(h).pipe(an())});return X(s).pipe(ps())}function Q2(n,e,t,r){let o=e.canLoad;if(o===void 0||o.length===0)return X(!0);let i=o.map(s=>{let a=ms(s,n),c=O2(a)?a.canLoad(e,t):dn(n,()=>a(e,t));return uo(c)});return X(i).pipe(ps(),HC(r))}function HC(n){return Fc(tt(e=>{if(typeof e!="boolean")throw Xd(n,e)}),J(e=>e===!0))}function Y2(n,e,t,r){let o=e.canMatch;if(!o||o.length===0)return X(!0);let i=o.map(s=>{let a=ms(s,n),c=j2(a)?a.canMatch(e,t):dn(n,()=>a(e,t));return uo(c)});return X(i).pipe(ps(),HC(r))}var ul=class{constructor(e){this.segmentGroup=e||null}},dl=class extends Error{constructor(e){super(),this.urlTree=e}};function is(n){return Si(new ul(n))}function Z2(n){return Si(new Q(4e3,!1))}function X2(n){return Si(UC(!1,en.GuardRejected))}var _b=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),o.numberOfChildren===0)return X(r);if(o.numberOfChildren>1||!o.children[ce])return Z2(`${e.redirectTo}`);o=o.children[ce]}}applyRedirectCommands(e,t,r,o,i){if(typeof t!="string"){let a=t,{queryParams:c,fragment:u,routeConfig:h,url:p,outlet:g,params:v,data:D,title:M}=o,S=dn(i,()=>a({params:v,data:D,queryParams:c,fragment:u,routeConfig:h,url:p,outlet:g,title:M}));if(S instanceof kr)throw new dl(S);t=S}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new dl(s);return s}applyRedirectCreateUrlTree(e,t,r,o){let i=this.createSegmentGroup(e,t.root,r,o);return new kr(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([o,i])=>{if(typeof i=="string"&&i[0]===":"){let a=i.substring(1);r[o]=t[a]}else r[o]=i}),r}createSegmentGroup(e,t,r,o){let i=this.createSegments(e,t.segments,r,o),s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,o)}),new ke(i,s)}createSegments(e,t,r,o){return t.map(i=>i.path[0]===":"?this.findPosParam(e,i,o):this.findOrReturn(i,r))}findPosParam(e,t,r){let o=r[t.path.substring(1)];if(!o)throw new Q(4001,!1);return o}findOrReturn(e,t){let r=0;for(let o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}},Ib={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function J2(n,e,t,r,o){let i=qC(n,e,t);return i.matched?(r=_2(e,r),Y2(r,e,t,o).pipe(J(s=>s===!0?i:$({},Ib)))):X(i)}function qC(n,e,t){if(e.path==="**")return eF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?$({},Ib):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let o=(e.matcher||YO)(t,n,e);if(!o)return $({},Ib);let i={};Object.entries(o.posParams??{}).forEach(([a,c])=>{i[a]=c.path});let s=o.consumed.length>0?$($({},i),o.consumed[o.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:o.consumed,remainingSegments:t.slice(o.consumed.length),parameters:s,positionalParamSegments:o.posParams??{}}}function eF(n){return{matched:!0,parameters:n.length>0?EC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function vC(n,e,t,r){return t.length>0&&rF(n,t,r)?{segmentGroup:new ke(e,nF(r,new ke(t,n.children))),slicedSegments:[]}:t.length===0&&oF(n,t,r)?{segmentGroup:new ke(n.segments,tF(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ke(n.segments,n.children),slicedSegments:t}}function tF(n,e,t,r){let o={};for(let i of t)if(nh(n,e,i)&&!r[Nn(i)]){let s=new ke([],{});o[Nn(i)]=s}return $($({},r),o)}function nF(n,e){let t={};t[ce]=e;for(let r of n)if(r.path===""&&Nn(r)!==ce){let o=new ke([],{});t[Nn(r)]=o}return t}function rF(n,e,t){return t.some(r=>nh(n,e,r)&&Nn(r)!==ce)}function oF(n,e,t){return t.some(r=>nh(n,e,r))}function nh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function iF(n,e,t){return e.length===0&&!n.children[t]}var Eb=class{};function sF(n,e,t,r,o,i,s="emptyOnly"){return new Cb(n,e,t,r,o,s,i).recognize()}var aF=31,Cb=class{constructor(e,t,r,o,i,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=o,this.urlTree=i,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new _b(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=vC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(J(({children:t,rootSnapshot:r})=>{let o=new Jt(r,t),i=new Zd("",o),s=m2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(s),{state:i,tree:s}}))}match(e){let t=new ls([],Object.freeze({}),Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,t).pipe(J(r=>({children:r,rootSnapshot:t})),qr(r=>{if(r instanceof dl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ul?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,o,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,i):this.processSegment(e,t,r,r.segments,o,!0,i).pipe(J(s=>s instanceof Jt?[s]:[]))}processChildren(e,t,r,o){let i=[];for(let s of Object.keys(r.children))s==="primary"?i.unshift(s):i.push(s);return Ce(i).pipe(mr(s=>{let a=r.children[s],c=I2(t,s);return this.processSegmentGroup(e,c,a,s,o)}),ou((s,a)=>(s.push(...a),s)),Gr(null),Rp(),et(s=>{if(s===null)return is(r);let a=GC(s);return lF(a),X(a)}))}processSegment(e,t,r,o,i,s,a){return Ce(t).pipe(mr(c=>this.processSegmentAgainstRoute(c._injector??e,t,c,r,o,i,s,a).pipe(qr(u=>{if(u instanceof ul)return X(null);throw u}))),an(c=>!!c),qr(c=>{if(zC(c))return iF(r,o,i)?X(new Eb):is(r);throw c}))}processSegmentAgainstRoute(e,t,r,o,i,s,a,c){return Nn(r)!==s&&(s===ce||!nh(o,i,r))?is(o):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,o,r,i,s,c):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,o,t,r,i,s,c):is(o)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,i,s,a){let{matched:c,parameters:u,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=qC(t,o,i);if(!c)return is(t);typeof o.redirectTo=="string"&&o.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>aF&&(this.allowRedirects=!1));let v=new ls(i,u,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,yC(o),Nn(o),o.component??o._loadedComponent??null,o,wC(o)),D=Yd(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(D.params),v.data=Object.freeze(D.data);let M=this.applyRedirects.applyRedirectCommands(h,o.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(o,M).pipe(et(S=>this.processSegment(e,r,t,S.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,o,i,s){let a=J2(t,r,o,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(Ue(c=>c.matched?(e=r._injector??e,this.getChildConfig(e,r,o).pipe(Ue(({routes:u})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:v}=c,D=new ls(g,p,Object.freeze($({},this.urlTree.queryParams)),this.urlTree.fragment,yC(r),Nn(r),r.component??r._loadedComponent??null,r,wC(r)),M=Yd(D,s,this.paramsInheritanceStrategy);D.params=Object.freeze(M.params),D.data=Object.freeze(M.data);let{segmentGroup:S,slicedSegments:V}=vC(t,g,v,u);if(V.length===0&&S.hasChildren())return this.processChildren(h,u,S,D).pipe(J(L=>new Jt(D,L)));if(u.length===0&&V.length===0)return X(new Jt(D,[]));let W=Nn(r)===i;return this.processSegment(h,u,S,V,W?ce:i,!0,D).pipe(J(L=>new Jt(D,L instanceof Jt?[L]:[])))}))):is(t)))}getChildConfig(e,t,r){return t.children?X({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?X({routes:t._loadedRoutes,injector:t._loadedInjector}):Q2(e,t,r,this.urlSerializer).pipe(et(o=>o?this.configLoader.loadChildren(e,t).pipe(tt(i=>{t._loadedRoutes=i.routes,t._loadedInjector=i.injector})):X2(t))):X({routes:[],injector:e})}};function lF(n){n.sort((e,t)=>e.value.outlet===ce?-1:t.value.outlet===ce?1:e.value.outlet.localeCompare(t.value.outlet))}function cF(n){let e=n.value.routeConfig;return e&&e.path===""}function GC(n){let e=[],t=new Set;for(let r of n){if(!cF(r)){e.push(r);continue}let o=e.find(i=>r.value.routeConfig===i.value.routeConfig);o!==void 0?(o.children.push(...r.children),t.add(o)):e.push(r)}for(let r of t){let o=GC(r.children);e.push(new Jt(r.value,o))}return e.filter(r=>!t.has(r))}function yC(n){return n.data||{}}function wC(n){return n.resolve||{}}function uF(n,e,t,r,o,i){return et(s=>sF(n,e,t,r,s.extractedUrl,o,i).pipe(J(({state:a,tree:c})=>be($({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function dF(n,e){return et(t=>{let{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return X(t);let i=new Set(o.map(c=>c.route)),s=new Set;for(let c of i)if(!s.has(c))for(let u of WC(c))s.add(u);let a=0;return Ce(s).pipe(mr(c=>i.has(c)?hF(c,r,n,e):(c.data=Yd(c,c.parent,n).resolve,X(void 0))),tt(()=>a++),ki(1),et(c=>a===s.size?X(t):Rt))})}function WC(n){let e=n.children.map(t=>WC(t)).flat();return[n,...e]}function hF(n,e,t,r){let o=n.routeConfig,i=n._resolve;return o?.title!==void 0&&!jC(o)&&(i[fl]=o.title),fF(i,n,e,r).pipe(J(s=>(n._resolvedData=s,n.data=Yd(n,n.parent,t).resolve,null)))}function fF(n,e,t,r){let o=nb(n);if(o.length===0)return X({});let i={};return Ce(o).pipe(et(s=>pF(n[s],e,t,r).pipe(an(),tt(a=>{if(a instanceof cl)throw Xd(new ds,a);i[s]=a}))),ki(1),Mp(i),qr(s=>zC(s)?Rt:Si(s)))}function pF(n,e,t,r){let o=ml(e)??r,i=ms(n,o),s=i.resolve?i.resolve(e,t):dn(o,()=>i(e,t));return uo(s)}function eb(n){return Ue(e=>{let t=n(e);return t?Ce(t).pipe(J(()=>e)):X(e)})}var KC=(()=>{class n{buildTitle(t){let r,o=t.root;for(;o!==void 0;)r=this.getResolvedTitleForRoute(o)??r,o=o.children.find(i=>i.outlet===ce);return r}getResolvedTitleForRoute(t){return t.data[fl]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>N(mF),providedIn:"root"})}}return n})(),mF=(()=>{class n extends KC{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(B(hC))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vl=new z("",{providedIn:"root",factory:()=>({})}),gF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=$e({type:n,selectors:[["ng-component"]],standalone:!0,features:[He],decls:1,vars:0,template:function(r,o){r&1&&Y(0,"router-outlet")},dependencies:[Sb],encapsulation:2})}}return n})();function Ab(n){let e=n.children&&n.children.map(Ab),t=e?be($({},n),{children:e}):$({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ce&&(t.component=gF),t}var hl=new z(""),kb=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=N(bd)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return X(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=uo(t.loadComponent()).pipe(J(QC),tt(i=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=i}),ko(()=>{this.componentLoaders.delete(t)})),o=new Ei(r,()=>new Be).pipe(Ii());return this.componentLoaders.set(t,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return X({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=bF(r,this.compiler,t,this.onLoadEndListener).pipe(ko(()=>{this.childrenLoaders.delete(r)})),s=new Ei(i,()=>new Be).pipe(Ii());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bF(n,e,t,r){return uo(n.loadChildren()).pipe(J(QC),et(o=>o instanceof Na||Array.isArray(o)?X(o):Ce(e.compileModuleAsync(o))),J(o=>{r&&r(n);let i,s,a=!1;return Array.isArray(o)?(s=o,a=!0):(i=o.create(t).injector,s=i.get(hl,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ab),injector:i}}))}function vF(n){return n&&typeof n=="object"&&"default"in n}function QC(n){return vF(n)?n.default:n}var Mb=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>N(yF),providedIn:"root"})}}return n})(),yF=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),YC=new z(""),ZC=new z("");function wF(n,e,t){let r=n.get(ZC),o=n.get(mt);return n.get(ye).runOutsideAngular(()=>{if(!o.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let i,s=new Promise(u=>{i=u}),a=o.startViewTransition(()=>(i(),xF(n))),{onViewTransitionCreated:c}=r;return c&&dn(n,()=>c({transition:a,from:e,to:t})),s})}function xF(n){return new Promise(e=>{Ig({read:()=>setTimeout(e)},{injector:n})})}var _F=new z(""),Rb=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Be,this.transitionAbortSubject=new Be,this.configLoader=N(kb),this.environmentInjector=N(Ot),this.urlSerializer=N(pl),this.rootContexts=N(gl),this.location=N(rs),this.inputBindingEnabled=N(th,{optional:!0})!==null,this.titleStrategy=N(KC),this.options=N(vl,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=N(Mb),this.createViewTransition=N(YC,{optional:!0}),this.navigationErrorHandler=N(_F,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>X(void 0),this.rootComponentType=null;let t=o=>this.events.next(new ub(o)),r=o=>this.events.next(new db(o));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(be($($({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,o){return this.transitions=new Ge({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:rl,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(pt(i=>i.id!==0),J(i=>be($({},i),{extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),Ue(i=>{let s=!1,a=!1;return X(i).pipe(Ue(c=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",en.SupersededByNewNavigation),Rt;this.currentTransition=i,this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,targetBrowserUrl:typeof c.extras.browserUrl=="string"?this.urlSerializer.parse(c.extras.browserUrl):c.extras.browserUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?be($({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=c.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&h!=="reload"){let p="";return this.events.next(new co(c.id,this.urlSerializer.serialize(c.rawUrl),p,qd.IgnoredSameUrlNavigation)),c.resolve(!1),Rt}if(this.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return X(c).pipe(Ue(p=>{let g=this.transitions?.getValue();return this.events.next(new hs(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?Rt:Promise.resolve(p)}),uF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(p=>{i.targetSnapshot=p.targetSnapshot,i.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=be($({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let g=new Gd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){let{id:p,extractedUrl:g,source:v,restoredState:D,extras:M}=c,S=new hs(p,this.urlSerializer.serialize(g),v,D);this.events.next(S);let V=VC(this.rootComponentType).snapshot;return this.currentTransition=i=be($({},c),{targetSnapshot:V,urlAfterRedirects:g,extras:be($({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,X(i)}else{let p="";return this.events.next(new co(c.id,this.urlSerializer.serialize(c.extractedUrl),p,qd.IgnoredByUrlHandlingStrategy)),c.resolve(!1),Rt}}),tt(c=>{let u=new sb(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),J(c=>(this.currentTransition=i=be($({},c),{guards:k2(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),i)),U2(this.environmentInjector,c=>this.events.next(c)),tt(c=>{if(i.guardsResult=c.guardsResult,c.guardsResult&&typeof c.guardsResult!="boolean")throw Xd(this.urlSerializer,c.guardsResult);let u=new ab(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),pt(c=>c.guardsResult?!0:(this.cancelNavigationTransition(c,"",en.GuardRejected),!1)),eb(c=>{if(c.guards.canActivateChecks.length)return X(c).pipe(tt(u=>{let h=new lb(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}),Ue(u=>{let h=!1;return X(u).pipe(dF(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(u,"",en.NoDataFromResolver)}}))}),tt(u=>{let h=new cb(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(h)}))}),eb(c=>{let u=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(tt(g=>{h.component=g}),J(()=>{})));for(let g of h.children)p.push(...u(g));return p};return Ta(u(c.targetSnapshot.root)).pipe(Gr(null),gr(1))}),eb(()=>this.afterPreactivation()),Ue(()=>{let{currentSnapshot:c,targetSnapshot:u}=i,h=this.createViewTransition?.(this.environmentInjector,c.root,u.root);return h?Ce(h).pipe(J(()=>i)):X(i)}),J(c=>{let u=C2(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=i=be($({},c),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,i}),tt(()=>{this.events.next(new al)}),A2(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),gr(1),tt({next:c=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new vn(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),this.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{s=!0}}),Np(this.transitionAbortSubject.pipe(tt(c=>{throw c}))),ko(()=>{!s&&!a&&this.cancelNavigationTransition(i,"",en.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation=null,this.currentTransition=null)}),qr(c=>{if(a=!0,$C(c))this.events.next(new Ar(i.id,this.urlSerializer.serialize(i.extractedUrl),c.message,c.cancellationCode)),S2(c)?this.events.next(new fs(c.url,c.navigationBehaviorOptions)):i.resolve(!1);else{let u=new sl(i.id,this.urlSerializer.serialize(i.extractedUrl),c,i.targetSnapshot??void 0);try{let h=dn(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(h instanceof cl){let{message:p,cancellationCode:g}=Xd(this.urlSerializer,h);this.events.next(new Ar(i.id,this.urlSerializer.serialize(i.extractedUrl),p,g)),this.events.next(new fs(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(u);let p=t.errorHandler(c);i.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(h)}}return Rt}))}))}cancelNavigationTransition(t,r,o){let i=new Ar(t.id,this.urlSerializer.serialize(t.extractedUrl),r,o);this.events.next(i),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function IF(n){return n!==rl}var EF=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>N(CF),providedIn:"root"})}}return n})(),Db=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},CF=(()=>{class n extends Db{static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=no(n)))(o||n)}})()}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),XC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:()=>N(DF),providedIn:"root"})}}return n})(),DF=(()=>{class n extends XC{constructor(){super(...arguments),this.location=N(rs),this.urlSerializer=N(pl),this.options=N(vl,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=N(Mb),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=VC(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof hs)this.stateMemento=this.createStateMemento();else if(t instanceof co)this.rawUrlTree=r.initialUrl;else if(t instanceof Gd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??o,r)}}else t instanceof al?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof Ar&&(t.code===en.GuardRejected||t.code===en.NoDataFromResolver)?this.restoreHistory(r):t instanceof sl?this.restoreHistory(r,!0):t instanceof vn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let o=t instanceof kr?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl){let i=this.browserPageId,s=$($({},r.extras.state),this.generateNgRouterState(r.id,i));this.location.replaceState(o,"",s)}else{let i=$($({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(o,"",i)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,i=this.currentPageId-o;i!==0?this.location.historyGo(i):this.currentUrlTree===t.finalUrl&&i===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=no(n)))(o||n)}})()}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tl=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(tl||{});function JC(n,e){n.events.pipe(pt(t=>t instanceof vn||t instanceof Ar||t instanceof sl||t instanceof co),J(t=>t instanceof vn||t instanceof co?tl.COMPLETE:(t instanceof Ar?t.code===en.Redirect||t.code===en.SupersededByNewNavigation:!1)?tl.REDIRECTING:tl.FAILED),pt(t=>t!==tl.REDIRECTING),gr(1)).subscribe(()=>{e()})}function TF(n){throw n}var SF={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},AF={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},We=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=N(md),this.stateManager=N(XC),this.options=N(vl,{optional:!0})||{},this.pendingTasks=N(ro),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=N(Rb),this.urlSerializer=N(pl),this.location=N(rs),this.urlHandlingStrategy=N(Mb),this._events=new Be,this.errorHandler=this.options.errorHandler||TF,this.navigated=!1,this.routeReuseStrategy=N(EF),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=N(hl,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!N(th,{optional:!0}),this.eventsSubscription=new Ye,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let o=this.navigationTransitions.currentTransition,i=this.navigationTransitions.currentNavigation;if(o!==null&&i!==null){if(this.stateManager.handleRouterEvent(r,i),r instanceof Ar&&r.code!==en.Redirect&&r.code!==en.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof vn)this.navigated=!0;else if(r instanceof fs){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,o.currentRawUrl),c=$({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||IF(o.source)},s);this.scheduleNavigation(a,rl,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}MF(r)&&this._events.next(r)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),rl,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,o){let i={replaceUrl:!0},s=o?.navigationId?o:null;if(o){let c=$({},o);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,i)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Ab),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:o,queryParams:i,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=$($({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=o?o.snapshot:this.routerState.snapshot.root;p=PC(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return NC(p,t,h,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let o=Yo(t)?t:this.parseUrl(t),i=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(i,rl,null,r)}navigate(t,r={skipLocationChange:!1}){return kF(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let o;if(r===!0?o=$({},SF):r===!1?o=$({},AF):o=r,Yo(t))return fC(this.currentUrlTree,t,o);let i=this.parseUrl(t);return fC(this.currentUrlTree,i,o)}removeEmptyProps(t){return Object.entries(t).reduce((r,[o,i])=>(i!=null&&(r[o]=i),r),{})}scheduleNavigation(t,r,o,i,s){if(this.disposed)return Promise.resolve(!1);let a,c,u;s?(a=s.resolve,c=s.reject,u=s.promise):u=new Promise((p,g)=>{a=p,c=g});let h=this.pendingTasks.add();return JC(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:i,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kF(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new Q(4008,!1)}function MF(n){return!(n instanceof al)&&!(n instanceof fs)}var ho=(()=>{class n{constructor(t,r,o,i,s,a){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=i,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new Be,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof vn&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Yo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,o,i,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||o||i||s||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,c),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:II(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let o=this.renderer,i=this.el.nativeElement;r!==null?o.setAttribute(i,t,r):o.removeAttribute(i,t)}get urlTree(){return this.routerLinkInput===null?null:Yo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(O(We),O(yn),tg("tabindex"),O(Mn),O(fn),O(Tr))}}static{this.\u0275dir=ze({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,o){r&1&&_e("click",function(s){return o.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&ld("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Wo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Wo],replaceUrl:[2,"replaceUrl","replaceUrl",Wo],routerLink:"routerLink"},standalone:!0,features:[wg,xr]})}}return n})();var eh=class{};var RF=(()=>{class n{constructor(t,r,o,i,s){this.router=t,this.injector=o,this.preloadingStrategy=i,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(pt(t=>t instanceof vn),mr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let o=[];for(let i of r){i.providers&&!i._injector&&(i._injector=ad(i.providers,t,`Route: ${i.path}`));let s=i._injector??t,a=i._loadedInjector??s;(i.loadChildren&&!i._loadedRoutes&&i.canLoad===void 0||i.loadComponent&&!i._loadedComponent)&&o.push(this.preloadConfig(s,i)),(i.children||i._loadedRoutes)&&o.push(this.processRoutes(a,i.children??i._loadedRoutes))}return Ce(o).pipe(Hr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let o;r.loadChildren&&r.canLoad===void 0?o=this.loader.loadChildren(t,r):o=X(null);let i=o.pipe(et(s=>s===null?X(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ce([i,s]).pipe(Hr())}else return i})}static{this.\u0275fac=function(r){return new(r||n)(B(We),B(bd),B(Ot),B(eh),B(kb))}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eD=new z(""),PF=(()=>{class n{constructor(t,r,o,i,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=o,this.zone=i,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof hs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof vn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof co&&t.code===qd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wd&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wd(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){FI()}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac})}}return n})();function tD(n,...e){return Kn([{provide:hl,multi:!0,useValue:n},[],{provide:yn,useFactory:nD,deps:[We]},{provide:za,multi:!0,useFactory:rD},e.map(t=>t.\u0275providers)])}function nD(n){return n.routerState.root}function yl(n,e){return{\u0275kind:n,\u0275providers:e}}function rD(){let n=N(Vt);return e=>{let t=n.get(oo);if(e!==t.components[0])return;let r=n.get(We),o=n.get(oD);n.get(Pb)===1&&r.initialNavigation(),n.get(iD,null,ue.Optional)?.setUpPreloading(),n.get(eD,null,ue.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),o.closed||(o.next(),o.complete(),o.unsubscribe())}}var oD=new z("",{factory:()=>new Be}),Pb=new z("",{providedIn:"root",factory:()=>1});function NF(){return yl(2,[{provide:Pb,useValue:0},{provide:gd,multi:!0,deps:[Vt],useFactory:e=>{let t=e.get(FE,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let o=e.get(We),i=e.get(oD);JC(o,()=>{r(!0)}),e.get(Rb).afterPreactivation=()=>(r(!0),i.closed?X(void 0):i),o.initialNavigation()}))}}])}function OF(){return yl(3,[{provide:gd,multi:!0,useFactory:()=>{let e=N(We);return()=>{e.setUpLocationChangeListener()}}},{provide:Pb,useValue:2}])}var iD=new z("");function FF(n){return yl(0,[{provide:iD,useExisting:RF},{provide:eh,useExisting:n}])}function VF(){return yl(8,[bC,{provide:th,useExisting:bC}])}function LF(n){let e=[{provide:YC,useValue:wF},{provide:ZC,useValue:$({skipNextTransition:!!n?.skipInitialTransition},n)}];return yl(9,e)}var xC=new z("ROUTER_FORROOT_GUARD"),jF=[rs,{provide:pl,useClass:ds},We,gl,{provide:yn,useFactory:nD,deps:[We]},kb,[]],On=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[jF,[],{provide:hl,multi:!0,useValue:t},{provide:xC,useFactory:zF,deps:[[We,new Lt,new Gu]]},{provide:vl,useValue:r||{}},r?.useHash?UF():$F(),BF(),r?.preloadingStrategy?FF(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?HF(r):[],r?.bindToComponentInputs?VF().\u0275providers:[],r?.enableViewTransitions?LF().\u0275providers:[],qF()]}}static forChild(t){return{ngModule:n,providers:[{provide:hl,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(B(xC,8))}}static{this.\u0275mod=_t({type:n})}static{this.\u0275inj=xt({})}}return n})();function BF(){return{provide:eD,useFactory:()=>{let n=N(HE),e=N(ye),t=N(vl),r=N(Rb),o=N(pl);return t.scrollOffset&&n.setOffset(t.scrollOffset),new PF(o,r,n,e,t)}}}function UF(){return{provide:Tr,useClass:LE}}function $F(){return{provide:Tr,useClass:Lg}}function zF(n){return"guarded"}function HF(n){return[n.initialNavigation==="disabled"?OF().\u0275providers:[],n.initialNavigation==="enabledBlocking"?NF().\u0275providers:[]]}var _C=new z("");function qF(){return[{provide:_C,useFactory:rD},{provide:za,multi:!0,useExisting:_C}]}var mD=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(O(Mn),O(fn))}}static{this.\u0275dir=ze({type:n})}}return n})(),dh=(()=>{class n extends mD{static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=no(n)))(o||n)}})()}static{this.\u0275dir=ze({type:n,features:[Yt]})}}return n})(),ws=new z(""),GF={provide:ws,useExisting:Sn(()=>jb),multi:!0},jb=(()=>{class n extends dh{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=no(n)))(o||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,o){r&1&&_e("change",function(s){return o.onChange(s.target.checked)})("blur",function(){return o.onTouched()})},features:[_r([GF]),Yt]})}}return n})(),WF={provide:ws,useExisting:Sn(()=>Zn),multi:!0};function KF(){let n=Dr()?Dr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var QF=new z(""),Zn=(()=>{class n extends mD{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!KF())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(O(Mn),O(fn),O(QF,8))}}static{this.\u0275dir=ze({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,o){r&1&&_e("input",function(s){return o._handleInput(s.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(s){return o._compositionEnd(s.target.value)})},features:[_r([WF]),Yt]})}}return n})();function fo(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function gD(n){return n!=null&&typeof n.length=="number"}var hh=new z(""),fh=new z(""),YF=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Gt=class{static min(e){return ZF(e)}static max(e){return XF(e)}static required(e){return JF(e)}static requiredTrue(e){return e5(e)}static email(e){return t5(e)}static minLength(e){return n5(e)}static maxLength(e){return r5(e)}static pattern(e){return o5(e)}static nullValidator(e){return bD(e)}static compose(e){return ID(e)}static composeAsync(e){return ED(e)}};function ZF(n){return e=>{if(fo(e.value)||fo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function XF(n){return e=>{if(fo(e.value)||fo(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function JF(n){return fo(n.value)?{required:!0}:null}function e5(n){return n.value===!0?null:{required:!0}}function t5(n){return fo(n.value)||YF.test(n.value)?null:{email:!0}}function n5(n){return e=>fo(e.value)||!gD(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function r5(n){return e=>gD(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function o5(n){if(!n)return bD;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(fo(r.value))return null;let o=r.value;return e.test(o)?null:{pattern:{requiredPattern:t,actualValue:o}}}}function bD(n){return null}function vD(n){return n!=null}function yD(n){return qo(n)?Ce(n):n}function wD(n){let e={};return n.forEach(t=>{e=t!=null?$($({},e),t):e}),Object.keys(e).length===0?null:e}function xD(n,e){return e.map(t=>t(n))}function i5(n){return!n.validate}function _D(n){return n.map(e=>i5(e)?e:t=>e.validate(t))}function ID(n){if(!n)return null;let e=n.filter(vD);return e.length==0?null:function(t){return wD(xD(t,e))}}function Bb(n){return n!=null?ID(_D(n)):null}function ED(n){if(!n)return null;let e=n.filter(vD);return e.length==0?null:function(t){let r=xD(t,e).map(yD);return Ap(r).pipe(J(wD))}}function Ub(n){return n!=null?ED(_D(n)):null}function sD(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function CD(n){return n._rawValidators}function DD(n){return n._rawAsyncValidators}function Nb(n){return n?Array.isArray(n)?n:[n]:[]}function oh(n,e){return Array.isArray(n)?n.includes(e):n===e}function aD(n,e){let t=Nb(e);return Nb(n).forEach(o=>{oh(t,o)||t.push(o)}),t}function lD(n,e){return Nb(e).filter(t=>!oh(n,t))}var ih=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Bb(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Ub(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Rr=class extends ih{get formDirective(){return null}get path(){return null}},Zo=class extends ih{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},sh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},s5={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},VH=be($({},s5),{"[class.ng-submitted]":"isSubmitted"}),mo=(()=>{class n extends sh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(O(Zo,2))}}static{this.\u0275dir=ze({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,o){r&2&&cd("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Yt]})}}return n})(),xs=(()=>{class n extends sh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(O(Rr,10))}}static{this.\u0275dir=ze({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,o){r&2&&cd("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Yt]})}}return n})();var wl="VALID",rh="INVALID",gs="PENDING",xl="DISABLED",po=class{},ah=class extends po{constructor(e,t){super(),this.value=e,this.source=t}},Il=class extends po{constructor(e,t){super(),this.pristine=e,this.source=t}},El=class extends po{constructor(e,t){super(),this.touched=e,this.source=t}},bs=class extends po{constructor(e,t){super(),this.status=e,this.source=t}},Ob=class extends po{constructor(e){super(),this.source=e}},Fb=class extends po{constructor(e){super(),this.source=e}};function $b(n){return(ph(n)?n.validators:n)||null}function a5(n){return Array.isArray(n)?Bb(n):n||null}function zb(n,e){return(ph(e)?e.asyncValidators:n)||null}function l5(n){return Array.isArray(n)?Ub(n):n||null}function ph(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function TD(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[t])throw new Q(1001,"")}function SD(n,e,t){n._forEachChild((r,o)=>{if(t[o]===void 0)throw new Q(1002,"")})}var vs=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ts(()=>this.statusReactive()),this.statusReactive=Ji(void 0),this._pristine=ts(()=>this.pristineReactive()),this.pristineReactive=Ji(!0),this._touched=ts(()=>this.touchedReactive()),this.touchedReactive=Ji(!1),this._events=new Be,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Qn(this.statusReactive)}set status(e){Qn(()=>this.statusReactive.set(e))}get valid(){return this.status===wl}get invalid(){return this.status===rh}get pending(){return this.status==gs}get disabled(){return this.status===xl}get enabled(){return this.status!==xl}get pristine(){return Qn(this.pristineReactive)}set pristine(e){Qn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Qn(this.touchedReactive)}set touched(e){Qn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(aD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(aD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(lD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(lD(e,this._rawAsyncValidators))}hasValidator(e){return oh(this._rawValidators,e)}hasAsyncValidator(e){return oh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(be($({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new El(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new El(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(be($({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Il(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(o=>{o.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Il(!0,r))}markAsPending(e={}){this.status=gs;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new bs(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(be($({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=xl,this.errors=null,this._forEachChild(o=>{o.disable(be($({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ah(this.value,r)),this._events.next(new bs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(be($({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(o=>o(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=wl,this._forEachChild(r=>{r.enable(be($({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(be($({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===wl||this.status===gs)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ah(this.value,t)),this._events.next(new bs(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(be($({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xl:wl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=gs,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=yD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(o=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(o,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,o)=>r&&r._find(o),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new bs(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Oe,this.statusChanges=new Oe}_calculateStatus(){return this._allControlsDisabled()?xl:this.errors?rh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(gs)?gs:this._anyControlsHaveStatus(rh)?rh:wl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),o=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),o&&this._events.next(new Il(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new El(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ph(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=a5(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=l5(this._rawAsyncValidators)}},ys=class extends vs{constructor(e,t,r){super($b(t),zb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){SD(this,!0,e),Object.keys(e).forEach(r=>{TD(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let o=this.controls[r];o&&o.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e?e[o]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,o)=>((r.enabled||this.disabled)&&(t[o]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,i)=>{r=t(r,o,i)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Vb=class extends ys{};var Dl=new z("CallSetDisabledState",{providedIn:"root",factory:()=>mh}),mh="always";function AD(n,e){return[...e.path,n]}function lh(n,e,t=mh){Hb(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),u5(n,e),h5(n,e),d5(n,e),c5(n,e)}function cD(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),uh(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ch(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function c5(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function Hb(n,e){let t=CD(n);e.validator!==null?n.setValidators(sD(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=DD(n);e.asyncValidator!==null?n.setAsyncValidators(sD(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let o=()=>n.updateValueAndValidity();ch(e._rawValidators,o),ch(e._rawAsyncValidators,o)}function uh(n,e){let t=!1;if(n!==null){if(e.validator!==null){let o=CD(n);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==e.validator);i.length!==o.length&&(t=!0,n.setValidators(i))}}if(e.asyncValidator!==null){let o=DD(n);if(Array.isArray(o)&&o.length>0){let i=o.filter(s=>s!==e.asyncValidator);i.length!==o.length&&(t=!0,n.setAsyncValidators(i))}}}let r=()=>{};return ch(e._rawValidators,r),ch(e._rawAsyncValidators,r),t}function u5(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&kD(n,e)})}function d5(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&kD(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function kD(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function h5(n,e){let t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function MD(n,e){n==null,Hb(n,e)}function f5(n,e){return uh(n,e)}function RD(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function p5(n){return Object.getPrototypeOf(n.constructor)===dh}function PD(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ND(n,e){if(!e)return null;Array.isArray(e);let t,r,o;return e.forEach(i=>{i.constructor===Zn?t=i:p5(i)?r=i:o=i}),o||r||t||null}function m5(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var g5={provide:Rr,useExisting:Sn(()=>qb)},_l=Promise.resolve(),qb=(()=>{class n extends Rr{get submitted(){return Qn(this.submittedReactive)}constructor(t,r,o){super(),this.callSetDisabledState=o,this._submitted=ts(()=>this.submittedReactive()),this.submittedReactive=Ji(!1),this._directives=new Set,this.ngSubmit=new Oe,this.form=new ys({},Bb(t),Ub(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){_l.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),lh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){_l.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){_l.then(()=>{let r=this._findContainer(t.path),o=new ys({});MD(o,t),r.registerControl(t.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){_l.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){_l.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),PD(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(O(hh,10),O(fh,10),O(Dl,8))}}static{this.\u0275dir=ze({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,o){r&1&&_e("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_r([g5]),Yt]})}}return n})();function uD(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function dD(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var Cl=class extends vs{constructor(e=null,t,r){super($b(t),zb(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ph(t)&&(t.nonNullable||t.initialValueIsDefault)&&(dD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){dD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var b5=n=>n instanceof Cl;var v5={provide:Zo,useExisting:Sn(()=>Tl)},hD=Promise.resolve(),Tl=(()=>{class n extends Zo{constructor(t,r,o,i,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Cl,this._registered=!1,this.name="",this.update=new Oe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=ND(this,i)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),RD(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){lh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){hD.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,o=r!==0&&Wo(r);hD.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?AD(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(O(Rr,9),O(hh,10),O(fh,10),O(ws,10),O(Go,8),O(Dl,8))}}static{this.\u0275dir=ze({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[_r([v5]),Yt,xr]})}}return n})(),_s=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ze({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})();var OD=new z("");var y5={provide:Rr,useExisting:Sn(()=>Sl)},Sl=(()=>{class n extends Rr{get submitted(){return Qn(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,o){super(),this.callSetDisabledState=o,this._submitted=ts(()=>this._submittedReactive()),this._submittedReactive=Ji(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Oe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(uh(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return lh(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){cD(t.control||null,t,!1),m5(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),PD(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Ob(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new Fb(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,o=this.form.get(t.path);r!==o&&(cD(r||null,t),b5(o)&&(lh(o,t,this.callSetDisabledState),t.control=o))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);MD(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&f5(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Hb(this.form,this),this._oldForm&&uh(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(O(hh,10),O(fh,10),O(Dl,8))}}static{this.\u0275dir=ze({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,o){r&1&&_e("submit",function(s){return o.onSubmit(s)})("reset",function(){return o.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[_r([y5]),Yt,xr]})}}return n})();var w5={provide:Zo,useExisting:Sn(()=>Al)},Al=(()=>{class n extends Zo{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,o,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Oe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=ND(this,i)}ngOnChanges(t){this._added||this._setUpControl(),RD(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return AD(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(O(Rr,13),O(hh,10),O(fh,10),O(ws,10),O(OD,8))}}static{this.\u0275dir=ze({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[_r([w5]),Yt,xr]})}}return n})(),x5={provide:ws,useExisting:Sn(()=>VD),multi:!0};function FD(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function _5(n){return n.split(":")[0]}var VD=(()=>{class n extends dh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),o=FD(r,t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=_5(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=no(n)))(o||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,o){r&1&&_e("change",function(s){return o.onChange(s.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[_r([x5]),Yt]})}}return n})(),LD=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(FD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(O(fn),O(Mn),O(VD,9))}}static{this.\u0275dir=ze({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),I5={provide:ws,useExisting:Sn(()=>jD),multi:!0};function fD(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function E5(n){return n.split(":")[0]}var jD=(()=>{class n extends dh{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let o=t.map(i=>this._getOptionId(i));r=(i,s)=>{i._setSelected(o.indexOf(s.toString())>-1)}}else r=(o,i)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let o=[],i=r.selectedOptions;if(i!==void 0){let s=i;for(let a=0;a<s.length;a++){let c=s[a],u=this._getOptionValue(c.value);o.push(u)}}else{let s=r.options;for(let a=0;a<s.length;a++){let c=s[a];if(c.selected){let u=this._getOptionValue(c.value);o.push(u)}}}this.value=o,t(o)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=E5(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(o){return(t||(t=no(n)))(o||n)}})()}static{this.\u0275dir=ze({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,o){r&1&&_e("change",function(s){return o.onChange(s.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[_r([I5]),Yt]})}}return n})(),BD=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(fD(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(fD(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(O(fn),O(Mn),O(jD,9))}}static{this.\u0275dir=ze({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();var UD=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=_t({type:n})}static{this.\u0275inj=xt({})}}return n})(),Lb=class extends vs{constructor(e,t,r){super($b(t),zb(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let o=this._adjustIndex(e);o<0&&(o=0),this.controls[o]&&this.controls[o]._registerOnCollectionChange(()=>{}),this.controls.splice(o,1),t&&(this.controls.splice(o,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){SD(this,!1,e),e.forEach((r,o)=>{TD(this,!1,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};function pD(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var gh=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){let t=new n;return t.useNonNullable=!0,t}group(t,r=null){let o=this._reduceControls(t),i={};return pD(r)?i=r:r!==null&&(i.validators=r.validator,i.asyncValidators=r.asyncValidator),new ys(o,i)}record(t,r=null){let o=this._reduceControls(t);return new Vb(o,r)}control(t,r,o){let i={};return this.useNonNullable?(pD(r)?i=r:(i.validators=r,i.asyncValidators=o),new Cl(t,be($({},i),{nonNullable:!0}))):new Cl(t,r,o)}array(t,r,o){let i=t.map(s=>this._createControl(s));return new Lb(i,r,o)}_reduceControls(t){let r={};return Object.keys(t).forEach(o=>{r[o]=this._createControl(t[o])}),r}_createControl(t){if(t instanceof Cl)return t;if(t instanceof vs)return t;if(Array.isArray(t)){let r=t[0],o=t.length>1?t[1]:null,i=t.length>2?t[2]:null;return this.control(r,o,i)}else return this.control(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var bh=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Dl,useValue:t.callSetDisabledState??mh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=_t({type:n})}static{this.\u0275inj=xt({imports:[UD]})}}return n})(),Is=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:OD,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Dl,useValue:t.callSetDisabledState??mh}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=_t({type:n})}static{this.\u0275inj=xt({imports:[UD]})}}return n})();var C5="firebase",D5="10.14.1";Mt(C5,D5,"app");var Fn=new vr("ANGULARFIRE2_VERSION");function Wb(n,e,t){if(e){if(e.length===1)return e[0];let i=e.filter(s=>s.app===t);if(i.length===1)return i[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var kl=(n,e)=>{let t=e?[e]:Cc(),r=[];return t.forEach(o=>{o.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},go=class{constructor(){return kl(T5)}},T5="app-check";function Es(){}var yh=class{zone;delegate;constructor(e,t=Dp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let o=this.zone,i=function(s){o.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(i,t,r)}},Gb=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Es,{},Es,Es)),t.pipe(tt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Jo=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new yh(Zone.current)),this.insideAngular=t.run(()=>new yh(Zone.current,Cp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(B(ye))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wh(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function S5(n){return wh().ngZone.runOutsideAngular(()=>n())}function Xo(n){return wh().ngZone.run(()=>n())}function Kb(n){return A5(wh())(n)}function A5(n){return function(t){return t=t.lift(new Gb(n.ngZone)),t.pipe(sn(n.outsideAngular),Qt(n.insideAngular))}}var k5=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Xo(()=>n.apply(void 0,r))},tn=(n,e)=>function(){let t,r=arguments;for(let i=0;i<arguments.length;i++)typeof r[i]=="function"&&(e&&(t||=Xo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Es,{},Es,Es))),r[i]=k5(r[i],t));let o=S5(()=>n.apply(this,r));if(!e)if(o instanceof ae){let i=wh();return o.pipe(sn(i.outsideAngular),Qt(i.insideAngular))}else return Xo(()=>o);return o instanceof ae?o.pipe(Kb):o instanceof Promise?Xo(()=>new Promise((i,s)=>o.then(a=>Xo(()=>i(a)),a=>Xo(()=>s(a))))):typeof o=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),o.apply(this,arguments)}:Xo(()=>o)};var ei=class{constructor(e){return e}},Ml=class{constructor(){return Cc()}};function R5(n){return n&&n.length===1?n[0]:new ei(xa())}var Qb=new z("angularfire2._apps"),P5={provide:ei,useFactory:R5,deps:[[new Lt,Qb]]},N5={provide:Ml,deps:[[new Lt,Qb]]};function O5(n){return(e,t)=>{let r=t.get(It);Mt("angularfire",Fn.full,"core"),Mt("angularfire",Fn.full,"app"),Mt("angular",pd.full,r.toString());let o=e.runOutsideAngular(()=>n(t));return new ei(o)}}function $D(n,...e){return Kn([P5,N5,{provide:Qb,useFactory:O5(n),multi:!0,deps:[ye,Vt,Jo,...e]}])}var F5=new Map,V5={activated:!1,tokenObservers:[]},L5={initialized:!1,enabled:!1};function Vn(n){return F5.get(n)||Object.assign({},V5)}function WD(){return L5}var j5="https://content-firebaseappcheck.googleapis.com/v1";var B5="exchangeDebugToken",zD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},f7=24*60*60*1e3;var Zb=class{constructor(e,t,r,o,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=o,o>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return U(this,null,function*(){this.stop();try{this.pending=new sp,this.pending.promise.catch(t=>{}),yield U5(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new sp,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function U5(n){return new Promise(e=>{setTimeout(e,n)})}var $5={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},bo=new Mw("appCheck","AppCheck",$5);function KD(n){if(!Vn(n).activated)throw bo.create("use-before-activation",{appName:n.name})}function QD(r,o){return U(this,arguments,function*({url:n,body:e},t){let i={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let v=yield s.getHeartbeatsHeader();v&&(i["X-Firebase-Client"]=v)}let a={method:"POST",body:JSON.stringify(e),headers:i},c;try{c=yield fetch(n,a)}catch(v){throw bo.create("fetch-network-error",{originalErrorMessage:v?.message})}if(c.status!==200)throw bo.create("fetch-status-error",{httpStatus:c.status});let u;try{u=yield c.json()}catch(v){throw bo.create("fetch-parse-error",{originalErrorMessage:v?.message})}let h=u.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw bo.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:u.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function YD(n,e){let{projectId:t,appId:r,apiKey:o}=n.options;return{url:`${j5}/projects/${t}/apps/${r}:${B5}?key=${o}`,body:{debug_token:e}}}var z5="firebase-app-check-database",H5=1,Xb="firebase-app-check-store";var xh=null;function q5(){return xh||(xh=new Promise((n,e)=>{try{let t=indexedDB.open(z5,H5);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(bo.create("storage-open",{originalErrorMessage:(o=r.target.error)===null||o===void 0?void 0:o.message}))},t.onupgradeneeded=r=>{let o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(Xb,{keyPath:"compositeKey"})}}}catch(t){e(bo.create("storage-open",{originalErrorMessage:t?.message}))}}),xh)}function G5(n,e){return W5(K5(n),e)}function W5(n,e){return U(this,null,function*(){let r=(yield q5()).transaction(Xb,"readwrite"),i=r.objectStore(Xb).put({compositeKey:n,value:e});return new Promise((s,a)=>{i.onsuccess=c=>{s()},r.onerror=c=>{var u;a(bo.create("storage-set",{originalErrorMessage:(u=c.target.error)===null||u===void 0?void 0:u.message}))}})})}function K5(n){return`${n.options.appId}-${n.name}`}var Jb=new Ec("@firebase/app-check");function Yb(n,e){return ap()?G5(n,e).catch(t=>{Jb.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ZD(){return WD().enabled}function XD(){return U(this,null,function*(){let n=WD();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var Q5={error:"UNKNOWN_ERROR"};function Y5(n){return Cw.encodeString(JSON.stringify(n),!1)}function ev(n,e=!1){return U(this,null,function*(){let t=n.app;KD(t);let r=Vn(t),o=r.token,i;if(o&&!Rl(o)&&(r.token=void 0,o=void 0),!o){let c=yield r.cachedTokenPromise;c&&(Rl(c)?o=c:yield Yb(t,void 0))}if(!e&&o&&Rl(o))return{token:o.token};let s=!1;if(ZD()){r.exchangeTokenPromise||(r.exchangeTokenPromise=QD(YD(t,yield XD()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),s=!0);let c=yield r.exchangeTokenPromise;return yield Yb(t,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),s=!0),o=yield Vn(t).exchangeTokenPromise}catch(c){c.code==="appCheck/throttled"?Jb.warn(c.message):Jb.error(c),i=c}let a;return o?i?Rl(o)?a={token:o.token,internalError:i}:a=qD(i):(a={token:o.token},r.token=o,yield Yb(t,o)):a=qD(i),s&&eV(t,a),a})}function Z5(n){return U(this,null,function*(){let e=n.app;KD(e);let{provider:t}=Vn(e);if(ZD()){let r=yield XD(),{token:o}=yield QD(YD(e,r),n.heartbeatServiceProvider);return{token:o}}else{let{token:r}=yield t.getToken();return{token:r}}})}function X5(n,e,t,r){let{app:o}=n,i=Vn(o),s={next:t,error:r,type:e};if(i.tokenObservers=[...i.tokenObservers,s],i.token&&Rl(i.token)){let a=i.token;Promise.resolve().then(()=>{t({token:a.token}),HD(n)}).catch(()=>{})}i.cachedTokenPromise.then(()=>HD(n))}function JD(n,e){let t=Vn(n),r=t.tokenObservers.filter(o=>o.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function HD(n){let{app:e}=n,t=Vn(e),r=t.tokenRefresher;r||(r=J5(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function J5(n){let{app:e}=n;return new Zb(()=>U(this,null,function*(){let t=Vn(e),r;if(t.token?r=yield ev(n,!0):r=yield ev(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=Vn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,o=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,o),Math.max(0,r-Date.now())}else return 0},zD.RETRIAL_MIN_WAIT,zD.RETRIAL_MAX_WAIT)}function eV(n,e){let t=Vn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Rl(n){return n.expireTimeMillis-Date.now()>0}function qD(n){return{token:Y5(Q5),error:n}}var tv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=Vn(this.app);for(let t of e)JD(this.app,t.next);return Promise.resolve()}};function tV(n,e){return new tv(n,e)}function nV(n){return{getToken:e=>ev(n,e),getLimitedUseToken:()=>Z5(n),addTokenListener:e=>X5(n,"INTERNAL",e),removeTokenListener:e=>JD(n.app,e)}}var rV="@firebase/app-check",oV="0.8.8";var iV="app-check",GD="app-check-internal";function sV(){wa(new ya(iV,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return tV(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(GD).initialize()})),wa(new ya(GD,n=>{let e=n.getProvider("app-check").getImmediate();return nV(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Mt(rV,oV)}sV();var aV=["localhost","0.0.0.0","127.0.0.1"],C7=typeof window<"u"&&aV.includes(window.location.hostname);var cV="firebase",uV="10.14.1";_n.registerVersion(cV,uV,"app-compat");var dV=["ngOnDestroy"],t1=(n,e,t,r={})=>new Proxy(n,{get:(o,i)=>t.runOutsideAngular(()=>{if(n[i])return r?.spy?.get&&r.spy.get(i,n[i]),n[i];if(dV.indexOf(i)>-1)return()=>{};let s=e.toPromise().then(a=>{let c=a?.[i];return typeof c=="function"?c.bind(a):c?.then?c.then(u=>t.run(()=>u)):t.run(()=>c)});return new Proxy(()=>{},{get:(a,c)=>s[c],apply:(a,c,u)=>s.then(h=>{let p=h?.(...u);return r?.spy?.apply&&r.spy.apply(i,u,p),p})})})});var _h=class{constructor(e){return e}},Ih=new z("angularfire2.app.options"),Eh=new z("angularfire2.app.name");function nv(n,e,t){let r=typeof t=="string"&&t||"[DEFAULT]",o=typeof t=="object"&&t||{};o.name=o.name||r;let s=_n.apps.filter(a=>a&&a.name===o.name)[0]||e.runOutsideAngular(()=>_n.initializeApp(n,o));try{if(JSON.stringify(n)!==JSON.stringify(s.options)){let a=!!module.hot;hV("error",`${s.name} Firebase App already initialized with different options${a?", you may need to reload as Firebase is not HMR aware.":"."}`)}}catch{}return new _h(s)}var hV=(n,...e)=>{Cg()&&typeof console<"u"&&console[n](...e)},fV={provide:_h,useFactory:nv,deps:[Ih,ye,[new Lt,Eh]]},Cs=(()=>{class n{static initializeApp(t,r){return{ngModule:n,providers:[{provide:Ih,useValue:t},{provide:Eh,useValue:r}]}}constructor(t){_n.registerVersion("angularfire",Fn.full,"core"),_n.registerVersion("angularfire",Fn.full,"app-compat"),_n.registerVersion("angular",pd.full,t.toString())}static \u0275fac=function(r){return new(r||n)(B(It))};static \u0275mod=_t({type:n});static \u0275inj=xt({providers:[fV]})}return n})();function n1(n,e,t,r,o){let[,i,s]=globalThis.\u0275AngularfireInstanceCache.find(a=>a[0]===n)||[];if(i)return pV(o,s)||(e1("error",`${e} was already initialized on the ${t} Firebase App with different settings.${mV?" You may need to reload as Firebase is not HMR aware.":""}`),e1("warn",{is:o,was:s})),i;{let a=r();return globalThis.\u0275AngularfireInstanceCache.push([n,a,o]),a}}function pV(n,e){try{return n.toString()===e.toString()}catch{return n===e}}var mV=typeof module<"u"&&!!module.hot,e1=(n,...e)=>{Cg()&&typeof console<"u"&&console[n](...e)};globalThis.\u0275AngularfireInstanceCache||=[];var gV=new z("angularfire2.auth.use-emulator"),bV=new z("angularfire2.auth.settings"),vV=new z("angularfire2.auth.tenant-id"),yV=new z("angularfire2.auth.langugage-code"),wV=new z("angularfire2.auth.use-device-language"),xV=new z("angularfire.auth.persistence"),_V=(n,e,t,r,o,i,s,a)=>n1(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{let c=e.runOutsideAngular(()=>n.auth());if(t&&c.useEmulator(...t),r&&(c.tenantId=r),c.languageCode=o,i&&c.useDeviceLanguage(),s)for(let[u,h]of Object.entries(s))c.settings[u]=h;return a&&c.setPersistence(a),c},[t,r,o,i,s,a]),Pl=(()=>{class n{authState;idToken;user;idTokenResult;credential;constructor(t,r,o,i,s,a,c,u,h,p,g,v){let D=new Be,M=X(void 0).pipe(Qt(s.outsideAngular),Ue(()=>i.runOutsideAngular(()=>import("./chunk-KXXQRMI5.js"))),J(()=>nv(t,i,r)),J(S=>_V(S,i,a,u,h,p,c,g)),iu({bufferSize:1,refCount:!1}));if(os(o))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=X(null);else{M.pipe(an()).subscribe();let S=M.pipe(Ue(L=>L.getRedirectResult().then(te=>te,()=>null)),Kb,iu({bufferSize:1,refCount:!1})),V=M.pipe(Ue(L=>new ae(te=>({unsubscribe:i.runOutsideAngular(()=>L.onAuthStateChanged(ge=>te.next(ge),ge=>te.error(ge),()=>te.complete()))})))),W=M.pipe(Ue(L=>new ae(te=>({unsubscribe:i.runOutsideAngular(()=>L.onIdTokenChanged(ge=>te.next(ge),ge=>te.error(ge),()=>te.complete()))}))));this.authState=S.pipe(au(V),sn(s.outsideAngular),Qt(s.insideAngular)),this.user=S.pipe(au(W),sn(s.outsideAngular),Qt(s.insideAngular)),this.idToken=this.user.pipe(Ue(L=>L?Ce(L.getIdToken()):X(null))),this.idTokenResult=this.user.pipe(Ue(L=>L?Ce(L.getIdTokenResult()):X(null))),this.credential=kp(S,D,this.authState.pipe(pt(L=>!L))).pipe(J(L=>L?.user?L:null),sn(s.outsideAngular),Qt(s.insideAngular))}return t1(this,M,i,{spy:{apply:(S,V,W)=>{(S.startsWith("signIn")||S.startsWith("createUser"))&&W.then(L=>D.next(L))}}})}static \u0275fac=function(r){return new(r||n)(B(Ih),B(Eh,8),B(It),B(ye),B(Jo),B(gV,8),B(bV,8),B(vV,8),B(yV,8),B(wV,8),B(xV,8),B(go,8))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})(),Ds=(()=>{class n{constructor(){_n.registerVersion("angularfire",Fn.full,"auth-compat")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=_t({type:n});static \u0275inj=xt({providers:[Pl]})}return n})();var dt=class n{constructor(e,t){this.router=e;this.fireBase=t}getToken(){throw new Error("Method not implemented.")}UserId=localStorage.getItem("userid");isLoggedIn=localStorage.getItem("auth")=="true";isAuthBehav=new Ge(this.isLoggedIn);isAuthObserv=this.isAuthBehav.asObservable();login(e,t){return this.fireBase.signInWithEmailAndPassword(e,t)}register(e,t){return this.fireBase.createUserWithEmailAndPassword(e,t)}canActivate(e,t){return this.isAuthBehav.getValue()?!0:(this.router.navigate(["auth"]),!1)}isAuthenticated(){return this.isLoggedIn}logout(){this.isLoggedIn=!1}static \u0275fac=function(t){return new(t||n)(B(We),B(Pl))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function EV(n,e){n&1&&(T(0,"small"),R(1,"Email is required."),A())}function CV(n,e){n&1&&(T(0,"small"),R(1,"Please enter a valid email address."),A())}function DV(n,e){if(n&1&&(T(0,"div",14),ve(1,EV,2,0,"small",15)(2,CV,2,0,"small",15),A()),n&2){let t=Ae();q(),Z("ngIf",t.formControls.email.errors==null?null:t.formControls.email.errors.required),q(),Z("ngIf",t.formControls.email.errors==null?null:t.formControls.email.errors.email)}}function TV(n,e){n&1&&(T(0,"div",14)(1,"small"),R(2,"Password is required."),A()())}var Ch=class n{constructor(e,t,r){this.fb=e;this.authService=t;this.router=r;this.loginForm=this.fb.group({email:["",[Gt.required,Gt.email]],password:["",Gt.required]})}loginForm;email="";password="";token;onLogin(){if(this.loginForm.invalid){console.log("Le formulaire est invalide");return}let e=this.loginForm.value.email.trim(),t=this.loginForm.value.password;console.log("Tentative de connexion avec l'email :",e),this.authService.login(e,t).then(r=>{this.router.navigate(["mes-commandes"]),localStorage.setItem("accessToken",r.user.multiFactor.user.accessToken),localStorage.setItem("auth","true"),this.authService.isAuthBehav.next(!0),console.log(`userid : ${r.user.uid}`),localStorage.setItem("userid",r.user.uid),this.authService.UserId=r.user.uid},r=>{console.log("Erreur d\xE9tect\xE9e :",r.message),localStorage.setItem("auth","false"),this.authService.isAuthBehav.next(!1)})}get formControls(){return this.loginForm.controls}static \u0275fac=function(t){return new(t||n)(O(gh),O(dt),O(We))};static \u0275cmp=$e({type:n,selectors:[["app-auth"]],standalone:!0,features:[He],decls:22,vars:4,consts:[[1,"form-container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"p-4","shadow-sm","rounded-3","bg-light",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","exampleInputEmail1",1,"form-label","fw-bold"],["type","email","id","exampleInputEmail1","formControlName","email","placeholder","Enter your email",1,"form-control"],["class","text-danger",4,"ngIf"],["for","exampleInputPassword1",1,"form-label","fw-bold"],["type","password","id","exampleInputPassword1","formControlName","password","placeholder","Enter your password",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","exampleCheck1",1,"form-check-input"],["for","exampleCheck1",1,"form-check-label"],["type","submit",1,"btn","btn-primary","btn-block","w-100",3,"disabled"],[1,"form-text","text-muted","mt-3","text-center"],["routerLink","/register"],[1,"text-danger"],[4,"ngIf"]],template:function(t,r){t&1&&(T(0,"div",0)(1,"form",1),_e("ngSubmit",function(){return r.onLogin()}),T(2,"div",2)(3,"label",3),R(4,"Email address"),A(),Y(5,"input",4),ve(6,DV,3,2,"div",5),A(),T(7,"div",2)(8,"label",6),R(9,"Password"),A(),Y(10,"input",7),ve(11,TV,3,0,"div",5),A(),T(12,"div",8),Y(13,"input",9),T(14,"label",10),R(15,"Remember me"),A()(),T(16,"button",11),R(17,"LogIn"),A(),T(18,"div",12),R(19," Don't have an account? "),T(20,"a",13),R(21,"Register"),A()()()()),t&2&&(q(),Z("formGroup",r.loginForm),q(5),Z("ngIf",r.formControls.email.invalid&&(r.formControls.email.dirty||r.formControls.email.touched)),q(5),Z("ngIf",r.formControls.password.invalid&&(r.formControls.password.dirty||r.formControls.password.touched)),q(5),Z("disabled",r.loginForm.invalid))},dependencies:[ho,Je,Ct,Is,_s,Zn,mo,xs,Sl,Al,On],styles:[".form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#00ff96cc}form[_ngcontent-%COMP%]{max-width:500px;padding:30px;border-radius:10px;background-color:linear-gradient(45deg,rgba(0,123,255,.8),rgba(0,255,150,.8));box-shadow:0 4px 8px #0000001a}.form-control[_ngcontent-%COMP%]{border:2px solid rgba(0,255,150,.8);border-radius:6px;padding:12px}.form-label[_ngcontent-%COMP%]{font-weight:700;color:#343a40}.btn[_ngcontent-%COMP%]{background-color:#00ff96cc;border-color:#00ff96cc;font-size:1.1rem}.btn[_ngcontent-%COMP%]:hover{background-color:#00ff96cc}.form-text[_ngcontent-%COMP%]{font-size:.85rem;color:#000}"]})};var Dh=class{produit;qte;constructor(){}};var Ts=class n{constructor(e){this.http=e;this.loadPanier(),this.productCartSubject.next(this.detailProduit)}productCartSubject=new Ge([]);detailProduit=[];getAllCartProducts(){return this.productCartSubject.asObservable()}getPanier(){return this.detailProduit}onProductAdded(e){let t=this.detailProduit.find(r=>r.produit.id===e.id);if(t)t.qte++;else{let r=new Dh;r.produit=e,r.qte=1,this.detailProduit.push(r)}this.productCartSubject.next(this.detailProduit),this.enregistrerPanier()}loadPanier(){let e=localStorage.getItem("cart");e&&(this.detailProduit=JSON.parse(e),this.productCartSubject.next(this.detailProduit))}enregistrerPanier(){localStorage.setItem("cart",JSON.stringify(this.detailProduit))}incrementQuantity(e){let t=this.detailProduit.find(r=>r.produit.id===e.id);t&&(t.qte++,this.productCartSubject.next(this.detailProduit),this.enregistrerPanier())}decrementQuantity(e){let t=this.detailProduit.find(r=>r.produit.id===e.id);t&&t.qte>0&&(t.qte--,t.qte===0&&this.removeItem(e),this.productCartSubject.next(this.detailProduit),this.enregistrerPanier())}removeItem(e){this.detailProduit=this.detailProduit.filter(t=>t.produit.id!==e.id),this.productCartSubject.next(this.detailProduit),this.enregistrerPanier()}clearCart(){this.detailProduit=[],this.productCartSubject.next(this.detailProduit),localStorage.removeItem("cart")}static \u0275fac=function(t){return new(t||n)(B(Ka))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var SL="auth";var Th=class{constructor(){return kl(SL)}};var o1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},i1={};var vo,rv;(function(){var n;function e(x,b){function w(){}w.prototype=b.prototype,x.D=b.prototype,x.prototype=new w,x.prototype.constructor=x,x.C=function(_,I,C){for(var y=Array(arguments.length-2),lr=2;lr<arguments.length;lr++)y[lr-2]=arguments[lr];return b.prototype[I].apply(_,y)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,b,w){w||(w=0);var _=Array(16);if(typeof b=="string")for(var I=0;16>I;++I)_[I]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(I=0;16>I;++I)_[I]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=x.g[0],w=x.g[1],I=x.g[2];var C=x.g[3],y=b+(C^w&(I^C))+_[0]+3614090360&4294967295;b=w+(y<<7&4294967295|y>>>25),y=C+(I^b&(w^I))+_[1]+3905402710&4294967295,C=b+(y<<12&4294967295|y>>>20),y=I+(w^C&(b^w))+_[2]+606105819&4294967295,I=C+(y<<17&4294967295|y>>>15),y=w+(b^I&(C^b))+_[3]+3250441966&4294967295,w=I+(y<<22&4294967295|y>>>10),y=b+(C^w&(I^C))+_[4]+4118548399&4294967295,b=w+(y<<7&4294967295|y>>>25),y=C+(I^b&(w^I))+_[5]+1200080426&4294967295,C=b+(y<<12&4294967295|y>>>20),y=I+(w^C&(b^w))+_[6]+2821735955&4294967295,I=C+(y<<17&4294967295|y>>>15),y=w+(b^I&(C^b))+_[7]+4249261313&4294967295,w=I+(y<<22&4294967295|y>>>10),y=b+(C^w&(I^C))+_[8]+1770035416&4294967295,b=w+(y<<7&4294967295|y>>>25),y=C+(I^b&(w^I))+_[9]+2336552879&4294967295,C=b+(y<<12&4294967295|y>>>20),y=I+(w^C&(b^w))+_[10]+4294925233&4294967295,I=C+(y<<17&4294967295|y>>>15),y=w+(b^I&(C^b))+_[11]+2304563134&4294967295,w=I+(y<<22&4294967295|y>>>10),y=b+(C^w&(I^C))+_[12]+1804603682&4294967295,b=w+(y<<7&4294967295|y>>>25),y=C+(I^b&(w^I))+_[13]+4254626195&4294967295,C=b+(y<<12&4294967295|y>>>20),y=I+(w^C&(b^w))+_[14]+2792965006&4294967295,I=C+(y<<17&4294967295|y>>>15),y=w+(b^I&(C^b))+_[15]+1236535329&4294967295,w=I+(y<<22&4294967295|y>>>10),y=b+(I^C&(w^I))+_[1]+4129170786&4294967295,b=w+(y<<5&4294967295|y>>>27),y=C+(w^I&(b^w))+_[6]+3225465664&4294967295,C=b+(y<<9&4294967295|y>>>23),y=I+(b^w&(C^b))+_[11]+643717713&4294967295,I=C+(y<<14&4294967295|y>>>18),y=w+(C^b&(I^C))+_[0]+3921069994&4294967295,w=I+(y<<20&4294967295|y>>>12),y=b+(I^C&(w^I))+_[5]+3593408605&4294967295,b=w+(y<<5&4294967295|y>>>27),y=C+(w^I&(b^w))+_[10]+38016083&4294967295,C=b+(y<<9&4294967295|y>>>23),y=I+(b^w&(C^b))+_[15]+3634488961&4294967295,I=C+(y<<14&4294967295|y>>>18),y=w+(C^b&(I^C))+_[4]+3889429448&4294967295,w=I+(y<<20&4294967295|y>>>12),y=b+(I^C&(w^I))+_[9]+568446438&4294967295,b=w+(y<<5&4294967295|y>>>27),y=C+(w^I&(b^w))+_[14]+3275163606&4294967295,C=b+(y<<9&4294967295|y>>>23),y=I+(b^w&(C^b))+_[3]+4107603335&4294967295,I=C+(y<<14&4294967295|y>>>18),y=w+(C^b&(I^C))+_[8]+1163531501&4294967295,w=I+(y<<20&4294967295|y>>>12),y=b+(I^C&(w^I))+_[13]+2850285829&4294967295,b=w+(y<<5&4294967295|y>>>27),y=C+(w^I&(b^w))+_[2]+4243563512&4294967295,C=b+(y<<9&4294967295|y>>>23),y=I+(b^w&(C^b))+_[7]+1735328473&4294967295,I=C+(y<<14&4294967295|y>>>18),y=w+(C^b&(I^C))+_[12]+2368359562&4294967295,w=I+(y<<20&4294967295|y>>>12),y=b+(w^I^C)+_[5]+4294588738&4294967295,b=w+(y<<4&4294967295|y>>>28),y=C+(b^w^I)+_[8]+2272392833&4294967295,C=b+(y<<11&4294967295|y>>>21),y=I+(C^b^w)+_[11]+1839030562&4294967295,I=C+(y<<16&4294967295|y>>>16),y=w+(I^C^b)+_[14]+4259657740&4294967295,w=I+(y<<23&4294967295|y>>>9),y=b+(w^I^C)+_[1]+2763975236&4294967295,b=w+(y<<4&4294967295|y>>>28),y=C+(b^w^I)+_[4]+1272893353&4294967295,C=b+(y<<11&4294967295|y>>>21),y=I+(C^b^w)+_[7]+4139469664&4294967295,I=C+(y<<16&4294967295|y>>>16),y=w+(I^C^b)+_[10]+3200236656&4294967295,w=I+(y<<23&4294967295|y>>>9),y=b+(w^I^C)+_[13]+681279174&4294967295,b=w+(y<<4&4294967295|y>>>28),y=C+(b^w^I)+_[0]+3936430074&4294967295,C=b+(y<<11&4294967295|y>>>21),y=I+(C^b^w)+_[3]+3572445317&4294967295,I=C+(y<<16&4294967295|y>>>16),y=w+(I^C^b)+_[6]+76029189&4294967295,w=I+(y<<23&4294967295|y>>>9),y=b+(w^I^C)+_[9]+3654602809&4294967295,b=w+(y<<4&4294967295|y>>>28),y=C+(b^w^I)+_[12]+3873151461&4294967295,C=b+(y<<11&4294967295|y>>>21),y=I+(C^b^w)+_[15]+530742520&4294967295,I=C+(y<<16&4294967295|y>>>16),y=w+(I^C^b)+_[2]+3299628645&4294967295,w=I+(y<<23&4294967295|y>>>9),y=b+(I^(w|~C))+_[0]+4096336452&4294967295,b=w+(y<<6&4294967295|y>>>26),y=C+(w^(b|~I))+_[7]+1126891415&4294967295,C=b+(y<<10&4294967295|y>>>22),y=I+(b^(C|~w))+_[14]+2878612391&4294967295,I=C+(y<<15&4294967295|y>>>17),y=w+(C^(I|~b))+_[5]+4237533241&4294967295,w=I+(y<<21&4294967295|y>>>11),y=b+(I^(w|~C))+_[12]+1700485571&4294967295,b=w+(y<<6&4294967295|y>>>26),y=C+(w^(b|~I))+_[3]+2399980690&4294967295,C=b+(y<<10&4294967295|y>>>22),y=I+(b^(C|~w))+_[10]+4293915773&4294967295,I=C+(y<<15&4294967295|y>>>17),y=w+(C^(I|~b))+_[1]+2240044497&4294967295,w=I+(y<<21&4294967295|y>>>11),y=b+(I^(w|~C))+_[8]+1873313359&4294967295,b=w+(y<<6&4294967295|y>>>26),y=C+(w^(b|~I))+_[15]+4264355552&4294967295,C=b+(y<<10&4294967295|y>>>22),y=I+(b^(C|~w))+_[6]+2734768916&4294967295,I=C+(y<<15&4294967295|y>>>17),y=w+(C^(I|~b))+_[13]+1309151649&4294967295,w=I+(y<<21&4294967295|y>>>11),y=b+(I^(w|~C))+_[4]+4149444226&4294967295,b=w+(y<<6&4294967295|y>>>26),y=C+(w^(b|~I))+_[11]+3174756917&4294967295,C=b+(y<<10&4294967295|y>>>22),y=I+(b^(C|~w))+_[2]+718787259&4294967295,I=C+(y<<15&4294967295|y>>>17),y=w+(C^(I|~b))+_[9]+3951481745&4294967295,x.g[0]=x.g[0]+b&4294967295,x.g[1]=x.g[1]+(I+(y<<21&4294967295|y>>>11))&4294967295,x.g[2]=x.g[2]+I&4294967295,x.g[3]=x.g[3]+C&4294967295}r.prototype.u=function(x,b){b===void 0&&(b=x.length);for(var w=b-this.blockSize,_=this.B,I=this.h,C=0;C<b;){if(I==0)for(;C<=w;)o(this,x,C),C+=this.blockSize;if(typeof x=="string"){for(;C<b;)if(_[I++]=x.charCodeAt(C++),I==this.blockSize){o(this,_),I=0;break}}else for(;C<b;)if(_[I++]=x[C++],I==this.blockSize){o(this,_),I=0;break}}this.h=I,this.o+=b},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var b=1;b<x.length-8;++b)x[b]=0;var w=8*this.o;for(b=x.length-8;b<x.length;++b)x[b]=w&255,w/=256;for(this.u(x),x=Array(16),b=w=0;4>b;++b)for(var _=0;32>_;_+=8)x[w++]=this.g[b]>>>_&255;return x};function i(x,b){var w=a;return Object.prototype.hasOwnProperty.call(w,x)?w[x]:w[x]=b(x)}function s(x,b){this.h=b;for(var w=[],_=!0,I=x.length-1;0<=I;I--){var C=x[I]|0;_&&C==b||(w[I]=C,_=!1)}this.g=w}var a={};function c(x){return-128<=x&&128>x?i(x,function(b){return new s([b|0],0>b?-1:0)}):new s([x|0],0>x?-1:0)}function u(x){if(isNaN(x)||!isFinite(x))return p;if(0>x)return S(u(-x));for(var b=[],w=1,_=0;x>=w;_++)b[_]=x/w|0,w*=4294967296;return new s(b,0)}function h(x,b){if(x.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(x.charAt(0)=="-")return S(h(x.substring(1),b));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(b,8)),_=p,I=0;I<x.length;I+=8){var C=Math.min(8,x.length-I),y=parseInt(x.substring(I,I+C),b);8>C?(C=u(Math.pow(b,C)),_=_.j(C).add(u(y))):(_=_.j(w),_=_.add(u(y)))}return _}var p=c(0),g=c(1),v=c(16777216);n=s.prototype,n.m=function(){if(M(this))return-S(this).m();for(var x=0,b=1,w=0;w<this.g.length;w++){var _=this.i(w);x+=(0<=_?_:4294967296+_)*b,b*=4294967296}return x},n.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(D(this))return"0";if(M(this))return"-"+S(this).toString(x);for(var b=u(Math.pow(x,6)),w=this,_="";;){var I=te(w,b).g;w=V(w,I.j(b));var C=((0<w.g.length?w.g[0]:w.h)>>>0).toString(x);if(w=I,D(w))return C+_;for(;6>C.length;)C="0"+C;_=C+_}},n.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function D(x){if(x.h!=0)return!1;for(var b=0;b<x.g.length;b++)if(x.g[b]!=0)return!1;return!0}function M(x){return x.h==-1}n.l=function(x){return x=V(this,x),M(x)?-1:D(x)?0:1};function S(x){for(var b=x.g.length,w=[],_=0;_<b;_++)w[_]=~x.g[_];return new s(w,~x.h).add(g)}n.abs=function(){return M(this)?S(this):this},n.add=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],_=0,I=0;I<=b;I++){var C=_+(this.i(I)&65535)+(x.i(I)&65535),y=(C>>>16)+(this.i(I)>>>16)+(x.i(I)>>>16);_=y>>>16,C&=65535,y&=65535,w[I]=y<<16|C}return new s(w,w[w.length-1]&-2147483648?-1:0)};function V(x,b){return x.add(S(b))}n.j=function(x){if(D(this)||D(x))return p;if(M(this))return M(x)?S(this).j(S(x)):S(S(this).j(x));if(M(x))return S(this.j(S(x)));if(0>this.l(v)&&0>x.l(v))return u(this.m()*x.m());for(var b=this.g.length+x.g.length,w=[],_=0;_<2*b;_++)w[_]=0;for(_=0;_<this.g.length;_++)for(var I=0;I<x.g.length;I++){var C=this.i(_)>>>16,y=this.i(_)&65535,lr=x.i(I)>>>16,ea=x.i(I)&65535;w[2*_+2*I]+=y*ea,W(w,2*_+2*I),w[2*_+2*I+1]+=C*ea,W(w,2*_+2*I+1),w[2*_+2*I+1]+=y*lr,W(w,2*_+2*I+1),w[2*_+2*I+2]+=C*lr,W(w,2*_+2*I+2)}for(_=0;_<b;_++)w[_]=w[2*_+1]<<16|w[2*_];for(_=b;_<2*b;_++)w[_]=0;return new s(w,0)};function W(x,b){for(;(x[b]&65535)!=x[b];)x[b+1]+=x[b]>>>16,x[b]&=65535,b++}function L(x,b){this.g=x,this.h=b}function te(x,b){if(D(b))throw Error("division by zero");if(D(x))return new L(p,p);if(M(x))return b=te(S(x),b),new L(S(b.g),S(b.h));if(M(b))return b=te(x,S(b)),new L(S(b.g),b.h);if(30<x.g.length){if(M(x)||M(b))throw Error("slowDivide_ only works with positive integers.");for(var w=g,_=b;0>=_.l(x);)w=ge(w),_=ge(_);var I=re(w,1),C=re(_,1);for(_=re(_,2),w=re(w,2);!D(_);){var y=C.add(_);0>=y.l(x)&&(I=I.add(w),C=y),_=re(_,1),w=re(w,1)}return b=V(x,I.j(b)),new L(I,b)}for(I=p;0<=x.l(b);){for(w=Math.max(1,Math.floor(x.m()/b.m())),_=Math.ceil(Math.log(w)/Math.LN2),_=48>=_?1:Math.pow(2,_-48),C=u(w),y=C.j(b);M(y)||0<y.l(x);)w-=_,C=u(w),y=C.j(b);D(C)&&(C=g),I=I.add(C),x=V(x,y)}return new L(I,x)}n.A=function(x){return te(this,x).h},n.and=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],_=0;_<b;_++)w[_]=this.i(_)&x.i(_);return new s(w,this.h&x.h)},n.or=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],_=0;_<b;_++)w[_]=this.i(_)|x.i(_);return new s(w,this.h|x.h)},n.xor=function(x){for(var b=Math.max(this.g.length,x.g.length),w=[],_=0;_<b;_++)w[_]=this.i(_)^x.i(_);return new s(w,this.h^x.h)};function ge(x){for(var b=x.g.length+1,w=[],_=0;_<b;_++)w[_]=x.i(_)<<1|x.i(_-1)>>>31;return new s(w,x.h)}function re(x,b){var w=b>>5;b%=32;for(var _=x.g.length-w,I=[],C=0;C<_;C++)I[C]=0<b?x.i(C+w)>>>b|x.i(C+w+1)<<32-b:x.i(C+w);return new s(I,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,rv=i1.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=h,vo=i1.Integer=s}).apply(typeof o1<"u"?o1:typeof self<"u"?self:typeof window<"u"?window:{});var Sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Pr={};var ov,AL,Ss,iv,Nl,Ah,sv,av,lv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,d,f){return l==Array.prototype||l==Object.prototype||(l[d]=f.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof Sh=="object"&&Sh];for(var d=0;d<l.length;++d){var f=l[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function o(l,d){if(d)e:{var f=r;l=l.split(".");for(var m=0;m<l.length-1;m++){var E=l[m];if(!(E in f))break e;f=f[E]}l=l[l.length-1],m=f[l],d=d(m),d!=m&&d!=null&&e(f,l,{configurable:!0,writable:!0,value:d})}}function i(l,d){l instanceof String&&(l+="");var f=0,m=!1,E={next:function(){if(!m&&f<l.length){var k=f++;return{value:d(k,l[k]),done:!1}}return m=!0,{done:!0,value:void 0}}};return E[Symbol.iterator]=function(){return E},E}o("Array.prototype.values",function(l){return l||function(){return i(this,function(d,f){return f})}});var s=s||{},a=this||self;function c(l){var d=typeof l;return d=d!="object"?d:l?Array.isArray(l)?"array":d:"null",d=="array"||d=="object"&&typeof l.length=="number"}function u(l){var d=typeof l;return d=="object"&&l!=null||d=="function"}function h(l,d,f){return l.call.apply(l.bind,arguments)}function p(l,d,f){if(!l)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var E=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(E,m),l.apply(d,E)}}return function(){return l.apply(d,arguments)}}function g(l,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function v(l,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),l.apply(this,m)}}function D(l,d){function f(){}f.prototype=d.prototype,l.aa=d.prototype,l.prototype=new f,l.prototype.constructor=l,l.Qb=function(m,E,k){for(var j=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)j[Re-2]=arguments[Re];return d.prototype[E].apply(m,j)}}function M(l){let d=l.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=l[m];return f}return[]}function S(l,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(c(m)){let E=l.length||0,k=m.length||0;l.length=E+k;for(let j=0;j<k;j++)l[E+j]=m[j]}else l.push(m)}}class V{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(l){return/^[\s\xa0]*$/.test(l)}function L(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function te(l){return te[" "](l),l}te[" "]=function(){};var ge=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function re(l,d,f){for(let m in l)d.call(f,l[m],m,l)}function x(l,d){for(let f in l)d.call(void 0,l[f],f,l)}function b(l){let d={};for(let f in l)d[f]=l[f];return d}let w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(l,d){let f,m;for(let E=1;E<arguments.length;E++){m=arguments[E];for(f in m)l[f]=m[f];for(let k=0;k<w.length;k++)f=w[k],Object.prototype.hasOwnProperty.call(m,f)&&(l[f]=m[f])}}function I(l){var d=1;l=l.split(":");let f=[];for(;0<d&&l.length;)f.push(l.shift()),d--;return l.length&&f.push(l.join(":")),f}function C(l){a.setTimeout(()=>{throw l},0)}function y(){var l=Of;let d=null;return l.g&&(d=l.g,l.g=l.g.next,l.g||(l.h=null),d.next=null),d}class lr{constructor(){this.h=this.g=null}add(d,f){let m=ea.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ea=new V(()=>new mS,l=>l.reset());class mS{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let ta,na=!1,Of=new lr,x0=()=>{let l=a.Promise.resolve(void 0);ta=()=>{l.then(gS)}};var gS=()=>{for(var l;l=y();){try{l.h.call(l.g)}catch(f){C(f)}var d=ea;d.j(l),100>d.h&&(d.h++,l.next=d.g,d.g=l)}na=!1};function Br(){this.s=this.s,this.C=this.C}Br.prototype.s=!1,Br.prototype.ma=function(){this.s||(this.s=!0,this.N())},Br.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function bt(l,d){this.type=l,this.g=this.target=d,this.defaultPrevented=!1}bt.prototype.h=function(){this.defaultPrevented=!0};var bS=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,d=Object.defineProperty({},"passive",{get:function(){l=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return l}();function ra(l,d){if(bt.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var f=this.type=l.type,m=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=d,d=l.relatedTarget){if(ge){e:{try{te(d.nodeName);var E=!0;break e}catch{}E=!1}E||(d=null)}}else f=="mouseover"?d=l.fromElement:f=="mouseout"&&(d=l.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:vS[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ra.aa.h.call(this)}}D(ra,bt);var vS={2:"touch",3:"pen",4:"mouse"};ra.prototype.h=function(){ra.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var oa="closure_listenable_"+(1e6*Math.random()|0),yS=0;function wS(l,d,f,m,E){this.listener=l,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=E,this.key=++yS,this.da=this.fa=!1}function sc(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function ac(l){this.src=l,this.g={},this.h=0}ac.prototype.add=function(l,d,f,m,E){var k=l.toString();l=this.g[k],l||(l=this.g[k]=[],this.h++);var j=Vf(l,d,m,E);return-1<j?(d=l[j],f||(d.fa=!1)):(d=new wS(d,this.src,k,!!m,E),d.fa=f,l.push(d)),d};function Ff(l,d){var f=d.type;if(f in l.g){var m=l.g[f],E=Array.prototype.indexOf.call(m,d,void 0),k;(k=0<=E)&&Array.prototype.splice.call(m,E,1),k&&(sc(d),l.g[f].length==0&&(delete l.g[f],l.h--))}}function Vf(l,d,f,m){for(var E=0;E<l.length;++E){var k=l[E];if(!k.da&&k.listener==d&&k.capture==!!f&&k.ha==m)return E}return-1}var Lf="closure_lm_"+(1e6*Math.random()|0),jf={};function _0(l,d,f,m,E){if(m&&m.once)return E0(l,d,f,m,E);if(Array.isArray(d)){for(var k=0;k<d.length;k++)_0(l,d[k],f,m,E);return null}return f=zf(f),l&&l[oa]?l.K(d,f,u(m)?!!m.capture:!!m,E):I0(l,d,f,!1,m,E)}function I0(l,d,f,m,E,k){if(!d)throw Error("Invalid event type");var j=u(E)?!!E.capture:!!E,Re=Uf(l);if(Re||(l[Lf]=Re=new ac(l)),f=Re.add(d,f,m,j,k),f.proxy)return f;if(m=xS(),f.proxy=m,m.src=l,m.listener=f,l.addEventListener)bS||(E=j),E===void 0&&(E=!1),l.addEventListener(d.toString(),m,E);else if(l.attachEvent)l.attachEvent(D0(d.toString()),m);else if(l.addListener&&l.removeListener)l.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function xS(){function l(f){return d.call(l.src,l.listener,f)}let d=_S;return l}function E0(l,d,f,m,E){if(Array.isArray(d)){for(var k=0;k<d.length;k++)E0(l,d[k],f,m,E);return null}return f=zf(f),l&&l[oa]?l.L(d,f,u(m)?!!m.capture:!!m,E):I0(l,d,f,!0,m,E)}function C0(l,d,f,m,E){if(Array.isArray(d))for(var k=0;k<d.length;k++)C0(l,d[k],f,m,E);else m=u(m)?!!m.capture:!!m,f=zf(f),l&&l[oa]?(l=l.i,d=String(d).toString(),d in l.g&&(k=l.g[d],f=Vf(k,f,m,E),-1<f&&(sc(k[f]),Array.prototype.splice.call(k,f,1),k.length==0&&(delete l.g[d],l.h--)))):l&&(l=Uf(l))&&(d=l.g[d.toString()],l=-1,d&&(l=Vf(d,f,m,E)),(f=-1<l?d[l]:null)&&Bf(f))}function Bf(l){if(typeof l!="number"&&l&&!l.da){var d=l.src;if(d&&d[oa])Ff(d.i,l);else{var f=l.type,m=l.proxy;d.removeEventListener?d.removeEventListener(f,m,l.capture):d.detachEvent?d.detachEvent(D0(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=Uf(d))?(Ff(f,l),f.h==0&&(f.src=null,d[Lf]=null)):sc(l)}}}function D0(l){return l in jf?jf[l]:jf[l]="on"+l}function _S(l,d){if(l.da)l=!0;else{d=new ra(d,this);var f=l.listener,m=l.ha||l.src;l.fa&&Bf(l),l=f.call(m,d)}return l}function Uf(l){return l=l[Lf],l instanceof ac?l:null}var $f="__closure_events_fn_"+(1e9*Math.random()>>>0);function zf(l){return typeof l=="function"?l:(l[$f]||(l[$f]=function(d){return l.handleEvent(d)}),l[$f])}function vt(){Br.call(this),this.i=new ac(this),this.M=this,this.F=null}D(vt,Br),vt.prototype[oa]=!0,vt.prototype.removeEventListener=function(l,d,f,m){C0(this,l,d,f,m)};function At(l,d){var f,m=l.F;if(m)for(f=[];m;m=m.F)f.push(m);if(l=l.M,m=d.type||d,typeof d=="string")d=new bt(d,l);else if(d instanceof bt)d.target=d.target||l;else{var E=d;d=new bt(m,l),_(d,E)}if(E=!0,f)for(var k=f.length-1;0<=k;k--){var j=d.g=f[k];E=lc(j,m,!0,d)&&E}if(j=d.g=l,E=lc(j,m,!0,d)&&E,E=lc(j,m,!1,d)&&E,f)for(k=0;k<f.length;k++)j=d.g=f[k],E=lc(j,m,!1,d)&&E}vt.prototype.N=function(){if(vt.aa.N.call(this),this.i){var l=this.i,d;for(d in l.g){for(var f=l.g[d],m=0;m<f.length;m++)sc(f[m]);delete l.g[d],l.h--}}this.F=null},vt.prototype.K=function(l,d,f,m){return this.i.add(String(l),d,!1,f,m)},vt.prototype.L=function(l,d,f,m){return this.i.add(String(l),d,!0,f,m)};function lc(l,d,f,m){if(d=l.i.g[String(d)],!d)return!0;d=d.concat();for(var E=!0,k=0;k<d.length;++k){var j=d[k];if(j&&!j.da&&j.capture==f){var Re=j.listener,ft=j.ha||j.src;j.fa&&Ff(l.i,j),E=Re.call(ft,m)!==!1&&E}}return E&&!m.defaultPrevented}function T0(l,d,f){if(typeof l=="function")f&&(l=g(l,f));else if(l&&typeof l.handleEvent=="function")l=g(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(l,d||0)}function S0(l){l.g=T0(()=>{l.g=null,l.i&&(l.i=!1,S0(l))},l.l);let d=l.h;l.h=null,l.m.apply(null,d)}class IS extends Br{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:S0(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ia(l){Br.call(this),this.h=l,this.g={}}D(ia,Br);var A0=[];function k0(l){re(l.g,function(d,f){this.g.hasOwnProperty(f)&&Bf(d)},l),l.g={}}ia.prototype.N=function(){ia.aa.N.call(this),k0(this)},ia.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Hf=a.JSON.stringify,ES=a.JSON.parse,CS=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function qf(){}qf.prototype.h=null;function M0(l){return l.h||(l.h=l.i())}function R0(){}var sa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Gf(){bt.call(this,"d")}D(Gf,bt);function Wf(){bt.call(this,"c")}D(Wf,bt);var Io={},P0=null;function cc(){return P0=P0||new vt}Io.La="serverreachability";function N0(l){bt.call(this,Io.La,l)}D(N0,bt);function aa(l){let d=cc();At(d,new N0(d))}Io.STAT_EVENT="statevent";function O0(l,d){bt.call(this,Io.STAT_EVENT,l),this.stat=d}D(O0,bt);function kt(l){let d=cc();At(d,new O0(d,l))}Io.Ma="timingevent";function F0(l,d){bt.call(this,Io.Ma,l),this.size=d}D(F0,bt);function la(l,d){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},d)}function ca(){this.g=!0}ca.prototype.xa=function(){this.g=!1};function DS(l,d,f,m,E,k){l.info(function(){if(l.g)if(k)for(var j="",Re=k.split("&"),ft=0;ft<Re.length;ft++){var Ie=Re[ft].split("=");if(1<Ie.length){var yt=Ie[0];Ie=Ie[1];var wt=yt.split("_");j=2<=wt.length&&wt[1]=="type"?j+(yt+"="+Ie+"&"):j+(yt+"=redacted&")}}else j=null;else j=k;return"XMLHTTP REQ ("+m+") [attempt "+E+"]: "+d+`
`+f+`
`+j})}function TS(l,d,f,m,E,k,j){l.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+E+"]: "+d+`
`+f+`
`+k+" "+j})}function mi(l,d,f,m){l.info(function(){return"XMLHTTP TEXT ("+d+"): "+AS(l,f)+(m?" "+m:"")})}function SS(l,d){l.info(function(){return"TIMEOUT: "+d})}ca.prototype.info=function(){};function AS(l,d){if(!l.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(l=0;l<f.length;l++)if(Array.isArray(f[l])){var m=f[l];if(!(2>m.length)){var E=m[1];if(Array.isArray(E)&&!(1>E.length)){var k=E[0];if(k!="noop"&&k!="stop"&&k!="close")for(var j=1;j<E.length;j++)E[j]=""}}}}return Hf(f)}catch{return d}}var uc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},V0={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kf;function dc(){}D(dc,qf),dc.prototype.g=function(){return new XMLHttpRequest},dc.prototype.i=function(){return{}},Kf=new dc;function Ur(l,d,f,m){this.j=l,this.i=d,this.l=f,this.R=m||1,this.U=new ia(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new L0}function L0(){this.i=null,this.g="",this.h=!1}var j0={},Qf={};function Yf(l,d,f){l.L=1,l.v=mc(cr(d)),l.m=f,l.P=!0,B0(l,null)}function B0(l,d){l.F=Date.now(),hc(l),l.A=cr(l.v);var f=l.A,m=l.R;Array.isArray(m)||(m=[String(m)]),ew(f.i,"t",m),l.C=0,f=l.j.J,l.h=new L0,l.g=vw(l.j,f?d:null,!l.m),0<l.O&&(l.M=new IS(g(l.Y,l,l.g),l.O)),d=l.U,f=l.g,m=l.ca;var E="readystatechange";Array.isArray(E)||(E&&(A0[0]=E.toString()),E=A0);for(var k=0;k<E.length;k++){var j=_0(f,E[k],m||d.handleEvent,!1,d.h||d);if(!j)break;d.g[j.key]=j}d=l.H?b(l.H):{},l.m?(l.u||(l.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,d)):(l.u="GET",l.g.ea(l.A,l.u,null,d)),aa(),DS(l.i,l.u,l.A,l.l,l.R,l.m)}Ur.prototype.ca=function(l){l=l.target;let d=this.M;d&&ur(l)==3?d.j():this.Y(l)},Ur.prototype.Y=function(l){try{if(l==this.g)e:{let wt=ur(this.g);var d=this.g.Ba();let vi=this.g.Z();if(!(3>wt)&&(wt!=3||this.g&&(this.h.h||this.g.oa()||aw(this.g)))){this.J||wt!=4||d==7||(d==8||0>=vi?aa(3):aa(2)),Zf(this);var f=this.g.Z();this.X=f;t:if(U0(this)){var m=aw(this.g);l="";var E=m.length,k=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Eo(this),ua(this);var j="";break t}this.h.i=new a.TextDecoder}for(d=0;d<E;d++)this.h.h=!0,l+=this.h.i.decode(m[d],{stream:!(k&&d==E-1)});m.length=0,this.h.g+=l,this.C=0,j=this.h.g}else j=this.g.oa();if(this.o=f==200,TS(this.i,this.u,this.A,this.l,this.R,wt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,ft=this.g;if((Re=ft.g?ft.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Re)){var Ie=Re;break t}}Ie=null}if(f=Ie)mi(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xf(this,f);else{this.o=!1,this.s=3,kt(12),Eo(this),ua(this);break e}}if(this.P){f=!0;let xn;for(;!this.J&&this.C<j.length;)if(xn=kS(this,j),xn==Qf){wt==4&&(this.s=4,kt(14),f=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(xn==j0){this.s=4,kt(15),mi(this.i,this.l,j,"[Invalid Chunk]"),f=!1;break}else mi(this.i,this.l,xn,null),Xf(this,xn);if(U0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||j.length!=0||this.h.h||(this.s=1,kt(16),f=!1),this.o=this.o&&f,!f)mi(this.i,this.l,j,"[Invalid Chunked Response]"),Eo(this),ua(this);else if(0<j.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+j.length),op(yt),yt.M=!0,kt(11))}}else mi(this.i,this.l,j,null),Xf(this,j);wt==4&&Eo(this),this.o&&!this.J&&(wt==4?pw(this.j,this):(this.o=!1,hc(this)))}else WS(this.g),f==400&&0<j.indexOf("Unknown SID")?(this.s=3,kt(12)):(this.s=0,kt(13)),Eo(this),ua(this)}}}catch{}finally{}};function U0(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function kS(l,d){var f=l.C,m=d.indexOf(`
`,f);return m==-1?Qf:(f=Number(d.substring(f,m)),isNaN(f)?j0:(m+=1,m+f>d.length?Qf:(d=d.slice(m,m+f),l.C=m+f,d)))}Ur.prototype.cancel=function(){this.J=!0,Eo(this)};function hc(l){l.S=Date.now()+l.I,$0(l,l.I)}function $0(l,d){if(l.B!=null)throw Error("WatchDog timer not null");l.B=la(g(l.ba,l),d)}function Zf(l){l.B&&(a.clearTimeout(l.B),l.B=null)}Ur.prototype.ba=function(){this.B=null;let l=Date.now();0<=l-this.S?(SS(this.i,this.A),this.L!=2&&(aa(),kt(17)),Eo(this),this.s=2,ua(this)):$0(this,this.S-l)};function ua(l){l.j.G==0||l.J||pw(l.j,l)}function Eo(l){Zf(l);var d=l.M;d&&typeof d.ma=="function"&&d.ma(),l.M=null,k0(l.U),l.g&&(d=l.g,l.g=null,d.abort(),d.ma())}function Xf(l,d){try{var f=l.j;if(f.G!=0&&(f.g==l||Jf(f.h,l))){if(!l.K&&Jf(f.h,l)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var E=m;if(E[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<l.F)wc(f),vc(f);else break e;rp(f),kt(18)}}else f.za=E[1],0<f.za-f.T&&37500>E[2]&&f.F&&f.v==0&&!f.C&&(f.C=la(g(f.Za,f),6e3));if(1>=q0(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Do(f,11)}else if((l.K||f.g==l)&&wc(f),!W(d))for(E=f.Da.g.parse(d),d=0;d<E.length;d++){let Ie=E[d];if(f.T=Ie[0],Ie=Ie[1],f.G==2)if(Ie[0]=="c"){f.K=Ie[1],f.ia=Ie[2];let yt=Ie[3];yt!=null&&(f.la=yt,f.j.info("VER="+f.la));let wt=Ie[4];wt!=null&&(f.Aa=wt,f.j.info("SVER="+f.Aa));let vi=Ie[5];vi!=null&&typeof vi=="number"&&0<vi&&(m=1.5*vi,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let xn=l.g;if(xn){let _c=xn.g?xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_c){var k=m.h;k.g||_c.indexOf("spdy")==-1&&_c.indexOf("quic")==-1&&_c.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(ep(k,k.h),k.h=null))}if(m.D){let ip=xn.g?xn.g.getResponseHeader("X-HTTP-Session-Id"):null;ip&&(m.ya=ip,Le(m.I,m.D,ip))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-l.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var j=l;if(m.qa=bw(m,m.J?m.ia:null,m.W),j.K){G0(m.h,j);var Re=j,ft=m.L;ft&&(Re.I=ft),Re.B&&(Zf(Re),hc(Re)),m.g=j}else hw(m);0<f.i.length&&yc(f)}else Ie[0]!="stop"&&Ie[0]!="close"||Do(f,7);else f.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?Do(f,7):np(f):Ie[0]!="noop"&&f.l&&f.l.ta(Ie),f.v=0)}}aa(4)}catch{}}var MS=class{constructor(l,d){this.g=l,this.map=d}};function z0(l){this.l=l||10,a.PerformanceNavigationTiming?(l=a.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function H0(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function q0(l){return l.h?1:l.g?l.g.size:0}function Jf(l,d){return l.h?l.h==d:l.g?l.g.has(d):!1}function ep(l,d){l.g?l.g.add(d):l.h=d}function G0(l,d){l.h&&l.h==d?l.h=null:l.g&&l.g.has(d)&&l.g.delete(d)}z0.prototype.cancel=function(){if(this.i=W0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let l of this.g.values())l.cancel();this.g.clear()}};function W0(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let d=l.i;for(let f of l.g.values())d=d.concat(f.D);return d}return M(l.i)}function RS(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(c(l)){for(var d=[],f=l.length,m=0;m<f;m++)d.push(l[m]);return d}d=[],f=0;for(m in l)d[f++]=l[m];return d}function PS(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||typeof l=="string"){var d=[];l=l.length;for(var f=0;f<l;f++)d.push(f);return d}d=[],f=0;for(let m in l)d[f++]=m;return d}}}function K0(l,d){if(l.forEach&&typeof l.forEach=="function")l.forEach(d,void 0);else if(c(l)||typeof l=="string")Array.prototype.forEach.call(l,d,void 0);else for(var f=PS(l),m=RS(l),E=m.length,k=0;k<E;k++)d.call(void 0,m[k],f&&f[k],l)}var Q0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function NS(l,d){if(l){l=l.split("&");for(var f=0;f<l.length;f++){var m=l[f].indexOf("="),E=null;if(0<=m){var k=l[f].substring(0,m);E=l[f].substring(m+1)}else k=l[f];d(k,E?decodeURIComponent(E.replace(/\+/g," ")):"")}}}function Co(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Co){this.h=l.h,fc(this,l.j),this.o=l.o,this.g=l.g,pc(this,l.s),this.l=l.l;var d=l.i,f=new fa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Y0(this,f),this.m=l.m}else l&&(d=String(l).match(Q0))?(this.h=!1,fc(this,d[1]||"",!0),this.o=da(d[2]||""),this.g=da(d[3]||"",!0),pc(this,d[4]),this.l=da(d[5]||"",!0),Y0(this,d[6]||"",!0),this.m=da(d[7]||"")):(this.h=!1,this.i=new fa(null,this.h))}Co.prototype.toString=function(){var l=[],d=this.j;d&&l.push(ha(d,Z0,!0),":");var f=this.g;return(f||d=="file")&&(l.push("//"),(d=this.o)&&l.push(ha(d,Z0,!0),"@"),l.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&l.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&l.push("/"),l.push(ha(f,f.charAt(0)=="/"?VS:FS,!0))),(f=this.i.toString())&&l.push("?",f),(f=this.m)&&l.push("#",ha(f,jS)),l.join("")};function cr(l){return new Co(l)}function fc(l,d,f){l.j=f?da(d,!0):d,l.j&&(l.j=l.j.replace(/:$/,""))}function pc(l,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);l.s=d}else l.s=null}function Y0(l,d,f){d instanceof fa?(l.i=d,BS(l.i,l.h)):(f||(d=ha(d,LS)),l.i=new fa(d,l.h))}function Le(l,d,f){l.i.set(d,f)}function mc(l){return Le(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function da(l,d){return l?d?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ha(l,d,f){return typeof l=="string"?(l=encodeURI(l).replace(d,OS),f&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function OS(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var Z0=/[#\/\?@]/g,FS=/[#\?:]/g,VS=/[#\?]/g,LS=/[#\?@]/g,jS=/#/g;function fa(l,d){this.h=this.g=null,this.i=l||null,this.j=!!d}function $r(l){l.g||(l.g=new Map,l.h=0,l.i&&NS(l.i,function(d,f){l.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=fa.prototype,n.add=function(l,d){$r(this),this.i=null,l=gi(this,l);var f=this.g.get(l);return f||this.g.set(l,f=[]),f.push(d),this.h+=1,this};function X0(l,d){$r(l),d=gi(l,d),l.g.has(d)&&(l.i=null,l.h-=l.g.get(d).length,l.g.delete(d))}function J0(l,d){return $r(l),d=gi(l,d),l.g.has(d)}n.forEach=function(l,d){$r(this),this.g.forEach(function(f,m){f.forEach(function(E){l.call(d,E,m,this)},this)},this)},n.na=function(){$r(this);let l=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let E=l[m];for(let k=0;k<E.length;k++)f.push(d[m])}return f},n.V=function(l){$r(this);let d=[];if(typeof l=="string")J0(this,l)&&(d=d.concat(this.g.get(gi(this,l))));else{l=Array.from(this.g.values());for(let f=0;f<l.length;f++)d=d.concat(l[f])}return d},n.set=function(l,d){return $r(this),this.i=null,l=gi(this,l),J0(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[d]),this.h+=1,this},n.get=function(l,d){return l?(l=this.V(l),0<l.length?String(l[0]):d):d};function ew(l,d,f){X0(l,d),0<f.length&&(l.i=null,l.g.set(gi(l,d),M(f)),l.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let l=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let k=encodeURIComponent(String(m)),j=this.V(m);for(m=0;m<j.length;m++){var E=k;j[m]!==""&&(E+="="+encodeURIComponent(String(j[m]))),l.push(E)}}return this.i=l.join("&")};function gi(l,d){return d=String(d),l.j&&(d=d.toLowerCase()),d}function BS(l,d){d&&!l.j&&($r(l),l.i=null,l.g.forEach(function(f,m){var E=m.toLowerCase();m!=E&&(X0(this,m),ew(this,E,f))},l)),l.j=d}function US(l,d){let f=new ca;if(a.Image){let m=new Image;m.onload=v(zr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=v(zr,f,"TestLoadImage: error",!1,d,m),m.onabort=v(zr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=v(zr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=l}else d(!1)}function $S(l,d){let f=new ca,m=new AbortController,E=setTimeout(()=>{m.abort(),zr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(l,{signal:m.signal}).then(k=>{clearTimeout(E),k.ok?zr(f,"TestPingServer: ok",!0,d):zr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(E),zr(f,"TestPingServer: error",!1,d)})}function zr(l,d,f,m,E){try{E&&(E.onload=null,E.onerror=null,E.onabort=null,E.ontimeout=null),m(f)}catch{}}function zS(){this.g=new CS}function HS(l,d,f){let m=f||"";try{K0(l,function(E,k){let j=E;u(E)&&(j=Hf(E)),d.push(m+k+"="+encodeURIComponent(j))})}catch(E){throw d.push(m+"type="+encodeURIComponent("_badmap")),E}}function pa(l){this.l=l.Ub||null,this.j=l.eb||!1}D(pa,qf),pa.prototype.g=function(){return new gc(this.l,this.j)},pa.prototype.i=function(l){return function(){return l}}({});function gc(l,d){vt.call(this),this.D=l,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(gc,vt),n=gc.prototype,n.open=function(l,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=d,this.readyState=1,ga(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(d.body=l),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,ga(this)),this.g&&(this.readyState=3,ga(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;tw(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function tw(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var d=l.value?l.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!l.done}))&&(this.response=this.responseText+=d)}l.done?ma(this):ga(this),this.readyState==3&&tw(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,ma(this))},n.Qa=function(l){this.g&&(this.response=l,ma(this))},n.ga=function(){this.g&&ma(this)};function ma(l){l.readyState=4,l.l=null,l.j=null,l.v=null,ga(l)}n.setRequestHeader=function(l,d){this.u.append(l,d)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let l=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,l.push(f[0]+": "+f[1]),f=d.next();return l.join(`\r
`)};function ga(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(gc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function nw(l){let d="";return re(l,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function tp(l,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=nw(f),typeof l=="string"?f!=null&&encodeURIComponent(String(f)):Le(l,d,f))}function Qe(l){vt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(Qe,vt);var qS=/^https?$/i,GS=["POST","PUT"];n=Qe.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);d=d?d.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kf.g(),this.v=this.o?M0(this.o):M0(Kf),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(l),!0),this.B=!1}catch(k){rw(this,k);return}if(l=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var E in m)f.set(E,m[E]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let k of m.keys())f.set(k,m.get(k));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(k=>k.toLowerCase()=="content-type"),E=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(GS,d,void 0))||m||E||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,j]of f)this.g.setRequestHeader(k,j);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sw(this),this.u=!0,this.g.send(l),this.u=!1}catch(k){rw(this,k)}};function rw(l,d){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=d,l.m=5,ow(l),bc(l)}function ow(l){l.A||(l.A=!0,At(l,"complete"),At(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,At(this,"complete"),At(this,"abort"),bc(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bc(this,!0)),Qe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?iw(this):this.bb())},n.bb=function(){iw(this)};function iw(l){if(l.h&&typeof s<"u"&&(!l.v[1]||ur(l)!=4||l.Z()!=2)){if(l.u&&ur(l)==4)T0(l.Ea,0,l);else if(At(l,"readystatechange"),ur(l)==4){l.h=!1;try{let j=l.Z();e:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=j===0){var E=String(l.D).match(Q0)[1]||null;!E&&a.self&&a.self.location&&(E=a.self.location.protocol.slice(0,-1)),m=!qS.test(E?E.toLowerCase():"")}f=m}if(f)At(l,"complete"),At(l,"success");else{l.m=6;try{var k=2<ur(l)?l.g.statusText:""}catch{k=""}l.l=k+" ["+l.Z()+"]",ow(l)}}finally{bc(l)}}}}function bc(l,d){if(l.g){sw(l);let f=l.g,m=l.v[0]?()=>{}:null;l.g=null,l.v=null,d||At(l,"ready");try{f.onreadystatechange=m}catch{}}}function sw(l){l.I&&(a.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function ur(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var d=this.g.responseText;return l&&d.indexOf(l)==0&&(d=d.substring(l.length)),ES(d)}};function aw(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function WS(l){let d={};l=(l.g&&2<=ur(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<l.length;m++){if(W(l[m]))continue;var f=I(l[m]);let E=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let k=d[E]||[];d[E]=k,k.push(f)}x(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ba(l,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[l]||d}function lw(l){this.Aa=0,this.i=[],this.j=new ca,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ba("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ba("baseRetryDelayMs",5e3,l),this.cb=ba("retryDelaySeedMs",1e4,l),this.Wa=ba("forwardChannelMaxRetries",2,l),this.wa=ba("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new z0(l&&l.concurrentRequestLimit),this.Da=new zS,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=lw.prototype,n.la=8,n.G=1,n.connect=function(l,d,f,m){kt(0),this.W=l,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=bw(this,null,this.W),yc(this)};function np(l){if(cw(l),l.G==3){var d=l.U++,f=cr(l.I);if(Le(f,"SID",l.K),Le(f,"RID",d),Le(f,"TYPE","terminate"),va(l,f),d=new Ur(l,l.j,d),d.L=2,d.v=mc(cr(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=vw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),hc(d)}gw(l)}function vc(l){l.g&&(op(l),l.g.cancel(),l.g=null)}function cw(l){vc(l),l.u&&(a.clearTimeout(l.u),l.u=null),wc(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&a.clearTimeout(l.s),l.s=null)}function yc(l){if(!H0(l.h)&&!l.s){l.s=!0;var d=l.Ga;ta||x0(),na||(ta(),na=!0),Of.add(d,l),l.B=0}}function KS(l,d){return q0(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=d.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=la(g(l.Ga,l,d),mw(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;let E=new Ur(this,this.j,l),k=this.o;if(this.S&&(k?(k=b(k),_(k,this.S)):k=this.S),this.m!==null||this.O||(E.H=k,k=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=dw(this,E,d),f=cr(this.I),Le(f,"RID",l),Le(f,"CVER",22),this.D&&Le(f,"X-HTTP-Session-Id",this.D),va(this,f),k&&(this.O?d="headers="+encodeURIComponent(String(nw(k)))+"&"+d:this.m&&tp(f,this.m,k)),ep(this.h,E),this.Ua&&Le(f,"TYPE","init"),this.P?(Le(f,"$req",d),Le(f,"SID","null"),E.T=!0,Yf(E,f,null)):Yf(E,f,d),this.G=2}}else this.G==3&&(l?uw(this,l):this.i.length==0||H0(this.h)||uw(this))};function uw(l,d){var f;d?f=d.l:f=l.U++;let m=cr(l.I);Le(m,"SID",l.K),Le(m,"RID",f),Le(m,"AID",l.T),va(l,m),l.m&&l.o&&tp(m,l.m,l.o),f=new Ur(l,l.j,f,l.B+1),l.m===null&&(f.H=l.o),d&&(l.i=d.D.concat(l.i)),d=dw(l,f,1e3),f.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),ep(l.h,f),Yf(f,m,d)}function va(l,d){l.H&&re(l.H,function(f,m){Le(d,m,f)}),l.l&&K0({},function(f,m){Le(d,m,f)})}function dw(l,d,f){f=Math.min(l.i.length,f);var m=l.l?g(l.l.Na,l.l,l):null;e:{var E=l.i;let k=-1;for(;;){let j=["count="+f];k==-1?0<f?(k=E[0].g,j.push("ofs="+k)):k=0:j.push("ofs="+k);let Re=!0;for(let ft=0;ft<f;ft++){let Ie=E[ft].g,yt=E[ft].map;if(Ie-=k,0>Ie)k=Math.max(0,E[ft].g-100),Re=!1;else try{HS(yt,j,"req"+Ie+"_")}catch{m&&m(yt)}}if(Re){m=j.join("&");break e}}}return l=l.i.splice(0,f),d.D=l,m}function hw(l){if(!l.g&&!l.u){l.Y=1;var d=l.Fa;ta||x0(),na||(ta(),na=!0),Of.add(d,l),l.v=0}}function rp(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=la(g(l.Fa,l),mw(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,fw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=la(g(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,kt(10),vc(this),fw(this))};function op(l){l.A!=null&&(a.clearTimeout(l.A),l.A=null)}function fw(l){l.g=new Ur(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var d=cr(l.qa);Le(d,"RID","rpc"),Le(d,"SID",l.K),Le(d,"AID",l.T),Le(d,"CI",l.F?"0":"1"),!l.F&&l.ja&&Le(d,"TO",l.ja),Le(d,"TYPE","xmlhttp"),va(l,d),l.m&&l.o&&tp(d,l.m,l.o),l.L&&(l.g.I=l.L);var f=l.g;l=l.ia,f.L=1,f.v=mc(cr(d)),f.m=null,f.P=!0,B0(f,l)}n.Za=function(){this.C!=null&&(this.C=null,vc(this),rp(this),kt(19))};function wc(l){l.C!=null&&(a.clearTimeout(l.C),l.C=null)}function pw(l,d){var f=null;if(l.g==d){wc(l),op(l),l.g=null;var m=2}else if(Jf(l.h,d))f=d.D,G0(l.h,d),m=1;else return;if(l.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var E=l.B;m=cc(),At(m,new F0(m,f)),yc(l)}else hw(l);else if(E=d.s,E==3||E==0&&0<d.X||!(m==1&&KS(l,d)||m==2&&rp(l)))switch(f&&0<f.length&&(d=l.h,d.i=d.i.concat(f)),E){case 1:Do(l,5);break;case 4:Do(l,10);break;case 3:Do(l,6);break;default:Do(l,2)}}}function mw(l,d){let f=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(f*=2),f*d}function Do(l,d){if(l.j.info("Error code "+d),d==2){var f=g(l.fb,l),m=l.Xa;let E=!m;m=new Co(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||fc(m,"https"),mc(m),E?US(m.toString(),f):$S(m.toString(),f)}else kt(2);l.G=0,l.l&&l.l.sa(d),gw(l),cw(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),kt(2)):(this.j.info("Failed to ping google.com"),kt(1))};function gw(l){if(l.G=0,l.ka=[],l.l){let d=W0(l.h);(d.length!=0||l.i.length!=0)&&(S(l.ka,d),S(l.ka,l.i),l.h.i.length=0,M(l.i),l.i.length=0),l.l.ra()}}function bw(l,d,f){var m=f instanceof Co?cr(f):new Co(f);if(m.g!="")d&&(m.g=d+"."+m.g),pc(m,m.s);else{var E=a.location;m=E.protocol,d=d?d+"."+E.hostname:E.hostname,E=+E.port;var k=new Co(null);m&&fc(k,m),d&&(k.g=d),E&&pc(k,E),f&&(k.l=f),m=k}return f=l.D,d=l.ya,f&&d&&Le(m,f,d),Le(m,"VER",l.la),va(l,m),m}function vw(l,d,f){if(d&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=l.Ca&&!l.pa?new Qe(new pa({eb:f})):new Qe(l.pa),d.Ha(l.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function yw(){}n=yw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xc(){}xc.prototype.g=function(l,d){return new Wt(l,d)};function Wt(l,d){vt.call(this),this.g=new lw(d),this.l=l,this.h=d&&d.messageUrlParams||null,l=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(l?l["X-WebChannel-Content-Type"]=d.messageContentType:l={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(l?l["X-WebChannel-Client-Profile"]=d.va:l={"X-WebChannel-Client-Profile":d.va}),this.g.S=l,(l=d&&d.Sb)&&!W(l)&&(this.g.m=l),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,l=this.h,l!==null&&d in l&&(l=this.h,d in l&&delete l[d])),this.j=new bi(this)}D(Wt,vt),Wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Wt.prototype.close=function(){np(this.g)},Wt.prototype.o=function(l){var d=this.g;if(typeof l=="string"){var f={};f.__data__=l,l=f}else this.u&&(f={},f.__data__=Hf(l),l=f);d.i.push(new MS(d.Ya++,l)),d.G==3&&yc(d)},Wt.prototype.N=function(){this.g.l=null,delete this.j,np(this.g),delete this.g,Wt.aa.N.call(this)};function ww(l){Gf.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var d=l.__sm__;if(d){e:{for(let f in d){l=f;break e}l=void 0}(this.i=l)&&(l=this.i,d=d!==null&&l in d?d[l]:void 0),this.data=d}else this.data=l}D(ww,Gf);function xw(){Wf.call(this),this.status=1}D(xw,Wf);function bi(l){this.g=l}D(bi,yw),bi.prototype.ua=function(){At(this.g,"a")},bi.prototype.ta=function(l){At(this.g,new ww(l))},bi.prototype.sa=function(l){At(this.g,new xw)},bi.prototype.ra=function(){At(this.g,"b")},xc.prototype.createWebChannel=xc.prototype.g,Wt.prototype.send=Wt.prototype.o,Wt.prototype.open=Wt.prototype.m,Wt.prototype.close=Wt.prototype.close,lv=Pr.createWebChannelTransport=function(){return new xc},av=Pr.getStatEventTarget=function(){return cc()},sv=Pr.Event=Io,Ah=Pr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uc.NO_ERROR=0,uc.TIMEOUT=8,uc.HTTP_ERROR=6,Nl=Pr.ErrorCode=uc,V0.COMPLETE="complete",iv=Pr.EventType=V0,R0.EventType=sa,sa.OPEN="a",sa.CLOSE="b",sa.ERROR="c",sa.MESSAGE="d",vt.prototype.listen=vt.prototype.K,Ss=Pr.WebChannel=R0,AL=Pr.FetchXmlHttpFactory=pa,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,ov=Pr.XhrIo=Qe}).apply(typeof Sh<"u"?Sh:typeof self<"u"?self:typeof window<"u"?window:{});var s1="@firebase/firestore";var ht=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ht.UNAUTHENTICATED=new ht(null),ht.GOOGLE_CREDENTIALS=new ht("google-credentials-uid"),ht.FIRST_PARTY=new ht("first-party-uid"),ht.MOCK_USER=new ht("mock-user");var Qs="10.14.0";var ii=new Ec("@firebase/firestore");function Ol(){return ii.logLevel}function K(n,...e){if(ii.logLevel<=dr.DEBUG){let t=e.map(Gy);ii.debug(`Firestore (${Qs}): ${n}`,...t)}}function Or(n,...e){if(ii.logLevel<=dr.ERROR){let t=e.map(Gy);ii.error(`Firestore (${Qs}): ${n}`,...t)}}function Os(n,...e){if(ii.logLevel<=dr.WARN){let t=e.map(Gy);ii.warn(`Firestore (${Qs}): ${n}`,...t)}}function Gy(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ne(n="Unexpected state"){let e=`FIRESTORE (${Qs}) INTERNAL ASSERTION FAILED: `+n;throw Or(e),new Error(e)}function Me(n,e){n||ne()}function se(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},G=class extends kw{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var er=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var Nh=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},fv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ht.UNAUTHENTICATED))}shutdown(){}},pv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},mv=class{constructor(e){this.t=e,this.currentUser=ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Me(this.o===void 0);let r=this.i,o=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),i=new er;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new er,e.enqueueRetryable(()=>o(this.currentUser))};let s=()=>{let c=i;e.enqueueRetryable(()=>U(this,null,function*(){yield c.promise,yield o(this.currentUser)}))},a=c=>{K("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(K("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new er)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(K("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new Nh(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new ht(e)}},gv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=ht.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},bv=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new gv(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}},vv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},yv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Me(this.o===void 0);let r=i=>{i.error!=null&&K("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);let s=i.token!==this.R;return this.R=i.token,K("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};let o=i=>{K("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>o(i)),setTimeout(()=>{if(!this.appCheck){let i=this.A.getImmediate({optional:!0});i?o(i):K("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me(typeof t.token=="string"),this.R=t.token,new vv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function kL(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Oh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let o=kL(40);for(let i=0;i<o.length;++i)r.length<20&&o[i]<t&&(r+=e.charAt(o[i]%e.length))}return r}};function Ee(n,e){return n<e?-1:n>e?1:0}function Fs(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}var gt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new G(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new G(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new G(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var le=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new gt(0,0))}static max(){return new n(new gt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Fh=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ne(),r===void 0?r=e.length-t:r>e.length-t&&ne(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let o=0;o<r;o++){let i=e.get(o),s=t.get(o);if(i<s)return-1;if(i>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Ke=class n extends Fh{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new G(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new n(t)}static emptyPath(){return new n([])}},ML=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rn=class n extends Fh{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return ML.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",o=0,i=()=>{if(r.length===0)throw new G(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;o<e.length;){let a=e[o];if(a==="\\"){if(o+1===e.length)throw new G(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[o+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new G(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,o+=2}else a==="`"?(s=!s,o++):a!=="."||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new G(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var ee=class n{constructor(e){this.path=e}static fromPath(e){return new n(Ke.fromString(e))}static fromName(e){return new n(Ke.fromString(e).popFirst(5))}static empty(){return new n(Ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Ke(e.slice()))}};var wv=class{constructor(e,t,r,o){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=o}};wv.UNKNOWN_ID=-1;function RL(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,o=le.fromTimestamp(r===1e9?new gt(t+1,0):new gt(t,r));return new si(o,ee.empty(),e)}function PL(n){return new si(n.readTime,n.key,-1)}var si=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(le.min(),ee.empty(),-1)}static max(){return new n(le.max(),ee.empty(),-1)}};function NL(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ee(n.largestBatchId,e.largestBatchId))}var OL="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",xv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function ec(n){return U(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==OL)throw n;K("LocalStore","Unexpectedly lost primary lease")})}var F=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,o)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,o)},this.catchCallback=i=>{this.wrapFailure(t,i).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let o=0,i=0,s=!1;e.forEach(a=>{++o,a.next(()=>{++i,s&&i===o&&t()},c=>r(c))}),s=!0,i===o&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(o=>o?n.resolve(o):r());return t}static forEach(e,t){let r=[];return e.forEach((o,i)=>{r.push(t.call(this,o,i))}),this.waitFor(r)}static mapArray(e,t){return new n((r,o)=>{let i=e.length,s=new Array(i),a=0;for(let c=0;c<i;c++){let u=c;t(e[u]).next(h=>{s[u]=h,++a,a===i&&r(s)},h=>o(h))}})}static doWhile(e,t){return new n((r,o)=>{let i=()=>{e()===!0?t().next(()=>{i()},o):r()};i()})}};function FL(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function tc(n){return n.name==="IndexedDbTransactionError"}var U1=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=o=>this.ie(o),this.se=o=>r.writeSequenceNumber(o))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function pf(n){return n==null}function Ul(n){return n===0&&1/n==-1/0}function VL(n){return typeof n=="number"&&Number.isInteger(n)&&!Ul(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var LL=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],uG=[...LL,"documentOverlays"],jL=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],BL=jL,UL=[...BL,"indexConfiguration","indexState","indexEntries"];var dG=[...UL,"globals"];function a1(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function hi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function $1(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ze=class n{constructor(e,t){this.comparator=e,this.root=t||tr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,tr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,tr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let o=this.comparator(e,r.key);if(o===0)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rs(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rs(this.root,e,this.comparator,!0)}},Rs=class{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?r(e.key,t):1,t&&o&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},tr=class n{constructor(e,t,r,o,i){this.key=e,this.value=t,this.color=r??n.RED,this.left=o??n.EMPTY,this.right=i??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,i){return new n(e??this.key,t??this.value,r??this.color,o??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this,i=r(e,o.key);return o=i<0?o.copy(null,null,null,o.left.insert(e,t,r),null):i===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return n.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ne();let e=this.left.check();if(e!==this.right.check())throw ne();return e+(this.isRed()?0:1)}};tr.EMPTY=null,tr.RED=!0,tr.BLACK=!1;tr.EMPTY=new class{constructor(){this.size=0}get key(){throw ne()}get value(){throw ne()}get color(){throw ne()}get left(){throw ne()}get right(){throw ne()}copy(e,t,r,o,i){return this}insert(e,t,r){return new tr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Tt=class n{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vh(this.data.getIterator())}getIteratorFrom(e){return new Vh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let o=t.getNext().key,i=r.getNext().key;if(this.comparator(o,i)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Vh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var wn=class n{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Tt(rn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Lh=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var St=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(o){try{return atob(o)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Lh("Invalid base64 string: "+i):i}}(e);return new n(t)}static fromUint8Array(e){let t=function(o){let i="";for(let s=0;s<o.length;++s)i+=String.fromCharCode(o[s]);return i}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let o=0;o<t.length;o++)r[o]=t.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};St.EMPTY_BYTE_STRING=new St("");var $L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fr(n){if(Me(!!n),typeof n=="string"){let e=0,t=$L.exec(n);if(Me(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(n.seconds),nanos:qe(n.nanos)}}function qe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function wo(n){return typeof n=="string"?St.fromBase64String(n):St.fromUint8Array(n)}function Wy(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Ky(n){let e=n.mapValue.fields.__previous_value__;return Wy(e)?Ky(e):e}function $l(n){let e=Fr(n.mapValue.fields.__local_write_time__.timestampValue);return new gt(e.seconds,e.nanos)}var _v=class{constructor(e,t,r,o,i,s,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}},jh=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var kh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ai(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wy(n)?4:H1(n)?9007199254740991:z1(n)?10:11:ne()}function ir(n,e){if(n===e)return!0;let t=ai(n);if(t!==ai(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $l(n).isEqual($l(e));case 3:return function(o,i){if(typeof o.timestampValue=="string"&&typeof i.timestampValue=="string"&&o.timestampValue.length===i.timestampValue.length)return o.timestampValue===i.timestampValue;let s=Fr(o.timestampValue),a=Fr(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,i){return wo(o.bytesValue).isEqual(wo(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,i){return qe(o.geoPointValue.latitude)===qe(i.geoPointValue.latitude)&&qe(o.geoPointValue.longitude)===qe(i.geoPointValue.longitude)}(n,e);case 2:return function(o,i){if("integerValue"in o&&"integerValue"in i)return qe(o.integerValue)===qe(i.integerValue);if("doubleValue"in o&&"doubleValue"in i){let s=qe(o.doubleValue),a=qe(i.doubleValue);return s===a?Ul(s)===Ul(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Fs(n.arrayValue.values||[],e.arrayValue.values||[],ir);case 10:case 11:return function(o,i){let s=o.mapValue.fields||{},a=i.mapValue.fields||{};if(a1(s)!==a1(a))return!1;for(let c in s)if(s.hasOwnProperty(c)&&(a[c]===void 0||!ir(s[c],a[c])))return!1;return!0}(n,e);default:return ne()}}function zl(n,e){return(n.values||[]).find(t=>ir(t,e))!==void 0}function Vs(n,e){if(n===e)return 0;let t=ai(n),r=ai(e);if(t!==r)return Ee(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ee(n.booleanValue,e.booleanValue);case 2:return function(i,s){let a=qe(i.integerValue||i.doubleValue),c=qe(s.integerValue||s.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return l1(n.timestampValue,e.timestampValue);case 4:return l1($l(n),$l(e));case 5:return Ee(n.stringValue,e.stringValue);case 6:return function(i,s){let a=wo(i),c=wo(s);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){let a=i.split("/"),c=s.split("/");for(let u=0;u<a.length&&u<c.length;u++){let h=Ee(a[u],c[u]);if(h!==0)return h}return Ee(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){let a=Ee(qe(i.latitude),qe(s.latitude));return a!==0?a:Ee(qe(i.longitude),qe(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return c1(n.arrayValue,e.arrayValue);case 10:return function(i,s){var a,c,u,h;let p=i.fields||{},g=s.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,D=(c=g.value)===null||c===void 0?void 0:c.arrayValue,M=Ee(((u=v?.values)===null||u===void 0?void 0:u.length)||0,((h=D?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:c1(v,D)}(n.mapValue,e.mapValue);case 11:return function(i,s){if(i===kh.mapValue&&s===kh.mapValue)return 0;if(i===kh.mapValue)return 1;if(s===kh.mapValue)return-1;let a=i.fields||{},c=Object.keys(a),u=s.fields||{},h=Object.keys(u);c.sort(),h.sort();for(let p=0;p<c.length&&p<h.length;++p){let g=Ee(c[p],h[p]);if(g!==0)return g;let v=Vs(a[c[p]],u[h[p]]);if(v!==0)return v}return Ee(c.length,h.length)}(n.mapValue,e.mapValue);default:throw ne()}}function l1(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ee(n,e);let t=Fr(n),r=Fr(e),o=Ee(t.seconds,r.seconds);return o!==0?o:Ee(t.nanos,r.nanos)}function c1(n,e){let t=n.values||[],r=e.values||[];for(let o=0;o<t.length&&o<r.length;++o){let i=Vs(t[o],r[o]);if(i)return i}return Ee(t.length,r.length)}function Ls(n){return Iv(n)}function Iv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Fr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return wo(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ee.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",o=!0;for(let i of t.values||[])o?o=!1:r+=",",r+=Iv(i);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),o="{",i=!0;for(let s of r)i?i=!1:o+=",",o+=`${s}:${Iv(t.fields[s])}`;return o+"}"}(n.mapValue):ne()}function u1(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Ev(n){return!!n&&"integerValue"in n}function Qy(n){return!!n&&"arrayValue"in n}function d1(n){return!!n&&"nullValue"in n}function h1(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Rh(n){return!!n&&"mapValue"in n}function z1(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Vl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return hi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Vl(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Vl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function H1(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var nn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Rh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vl(t)}setAll(e){let t=rn.emptyPath(),r={},o=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,o),r={},o=[],t=a.popLast()}s?r[a.lastSegment()]=Vl(s):o.push(a.lastSegment())});let i=this.getFieldsMap(t);this.applyChanges(i,r,o)}delete(e){let t=this.field(e.popLast());Rh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ir(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];Rh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){hi(t,(o,i)=>e[o]=i);for(let o of r)delete e[o]}clone(){return new n(Vl(this.value))}};function q1(n){let e=[];return hi(n.fields,(t,r)=>{let o=new rn([t]);if(Rh(r)){let i=q1(r.mapValue).fields;if(i.length===0)e.push(o);else for(let s of i)e.push(o.child(s))}else e.push(o)}),new wn(e)}var Ln=class n{constructor(e,t,r,o,i,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,le.min(),le.min(),le.min(),nn.empty(),0)}static newFoundDocument(e,t,r,o){return new n(e,1,t,le.min(),r,o,0)}static newNoDocument(e,t){return new n(e,2,t,le.min(),le.min(),nn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,le.min(),le.min(),nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var js=class{constructor(e,t){this.position=e,this.inclusive=t}};function f1(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){let i=e[o],s=n.position[o];if(i.field.isKeyField()?r=ee.comparator(ee.fromName(s.referenceValue),t.key):r=Vs(s,t.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function p1(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ir(n.position[t],e.position[t]))return!1;return!0}var Bs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function zL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Bh=class{},st=class n extends Bh{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new Dv(e,t,r):t==="array-contains"?new Av(e,r):t==="in"?new kv(e,r):t==="not-in"?new Mv(e,r):t==="array-contains-any"?new Rv(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new Tv(e,r):new Sv(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Vs(t,this.value)):t!==null&&ai(this.value)===ai(t)&&this.matchesComparison(Vs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},jn=class n extends Bh{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return G1(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function G1(n){return n.op==="and"}function W1(n){return HL(n)&&G1(n)}function HL(n){for(let e of n.filters)if(e instanceof jn)return!1;return!0}function Cv(n){if(n instanceof st)return n.field.canonicalString()+n.op.toString()+Ls(n.value);if(W1(n))return n.filters.map(e=>Cv(e)).join(",");{let e=n.filters.map(t=>Cv(t)).join(",");return`${n.op}(${e})`}}function K1(n,e){return n instanceof st?function(r,o){return o instanceof st&&r.op===o.op&&r.field.isEqual(o.field)&&ir(r.value,o.value)}(n,e):n instanceof jn?function(r,o){return o instanceof jn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((i,s,a)=>i&&K1(s,o.filters[a]),!0):!1}(n,e):void ne()}function Q1(n){return n instanceof st?function(t){return`${t.field.canonicalString()} ${t.op} ${Ls(t.value)}`}(n):n instanceof jn?function(t){return t.op.toString()+" {"+t.getFilters().map(Q1).join(" ,")+"}"}(n):"Filter"}var Dv=class extends st{constructor(e,t,r){super(e,t,r),this.key=ee.fromName(r.referenceValue)}matches(e){let t=ee.comparator(e.key,this.key);return this.matchesComparison(t)}},Tv=class extends st{constructor(e,t){super(e,"in",t),this.keys=Y1("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},Sv=class extends st{constructor(e,t){super(e,"not-in",t),this.keys=Y1("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function Y1(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ee.fromName(r.referenceValue))}var Av=class extends st{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Qy(t)&&zl(t.arrayValue,this.value)}},kv=class extends st{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&zl(this.value.arrayValue,t)}},Mv=class extends st{constructor(e,t){super(e,"not-in",t)}matches(e){if(zl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!zl(this.value.arrayValue,t)}},Rv=class extends st{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Qy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>zl(this.value.arrayValue,r))}};var Pv=class{constructor(e,t=null,r=[],o=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}};function m1(n,e=null,t=[],r=[],o=null,i=null,s=null){return new Pv(n,e,t,r,o,i,s)}function Yy(n){let e=se(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Cv(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),pf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ls(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ls(r)).join(",")),e.ue=t}return e.ue}function Zy(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!zL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!K1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!p1(n.startAt,e.startAt)&&p1(n.endAt,e.endAt)}function Nv(n){return ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var li=class{constructor(e,t=null,r=[],o=[],i=null,s="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function qL(n,e,t,r,o,i,s,a){return new li(n,e,t,r,o,i,s,a)}function mf(n){return new li(n)}function g1(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Z1(n){return n.collectionGroup!==null}function Ll(n){let e=se(n);if(e.ce===null){e.ce=[];let t=new Set;for(let i of e.explicitOrderBy)e.ce.push(i),t.add(i.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Tt(rn.comparator);return s.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{t.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Bs(i,r))}),t.has(rn.keyField().canonicalString())||e.ce.push(new Bs(rn.keyField(),r))}return e.ce}function nr(n){let e=se(n);return e.le||(e.le=GL(e,Ll(n))),e.le}function GL(n,e){if(n.limitType==="F")return m1(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{let i=o.dir==="desc"?"asc":"desc";return new Bs(o.field,i)});let t=n.endAt?new js(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new js(n.startAt.position,n.startAt.inclusive):null;return m1(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Ov(n,e){let t=n.filters.concat([e]);return new li(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Fv(n,e,t){return new li(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function gf(n,e){return Zy(nr(n),nr(e))&&n.limitType===e.limitType}function X1(n){return`${Yy(nr(n))}|lt:${n.limitType}`}function As(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(o=>Q1(o)).join(", ")}]`),pf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(o=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(o)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(o=>Ls(o)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(o=>Ls(o)).join(",")),`Target(${r})`}(nr(n))}; limitType=${n.limitType})`}function bf(n,e){return e.isFoundDocument()&&function(r,o){let i=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(n,e)&&function(r,o){for(let i of Ll(r))if(!i.field.isKeyField()&&o.data.field(i.field)===null)return!1;return!0}(n,e)&&function(r,o){for(let i of r.filters)if(!i.matches(o))return!1;return!0}(n,e)&&function(r,o){return!(r.startAt&&!function(s,a,c){let u=f1(s,a,c);return s.inclusive?u<=0:u<0}(r.startAt,Ll(r),o)||r.endAt&&!function(s,a,c){let u=f1(s,a,c);return s.inclusive?u>=0:u>0}(r.endAt,Ll(r),o))}(n,e)}function WL(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function J1(n){return(e,t)=>{let r=!1;for(let o of Ll(n)){let i=KL(o,e,t);if(i!==0)return i;r=r||o.field.isKeyField()}return 0}}function KL(n,e,t){let r=n.field.isKeyField()?ee.comparator(e.key,t.key):function(i,s,a){let c=s.data.field(i),u=a.data.field(i);return c!==null&&u!==null?Vs(c,u):ne()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ne()}}var xo=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[o,i]of r)if(this.equalsFn(o,e))return i}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],e))return void(o[i]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){hi(this.inner,(t,r)=>{for(let[o,i]of r)e(o,i)})}isEmpty(){return $1(this.inner)}size(){return this.innerSize}};var QL=new Ze(ee.comparator);function Vr(){return QL}var eT=new Ze(ee.comparator);function Fl(...n){let e=eT;for(let t of n)e=e.insert(t.key,t);return e}function tT(n){let e=eT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ni(){return jl()}function nT(){return jl()}function jl(){return new xo(n=>n.toString(),(n,e)=>n.isEqual(e))}var YL=new Ze(ee.comparator),ZL=new Tt(ee.comparator);function me(...n){let e=ZL;for(let t of n)e=e.add(t);return e}var XL=new Tt(Ee);function JL(){return XL}function Xy(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ul(e)?"-0":e}}function rT(n){return{integerValue:""+n}}function e3(n,e){return VL(e)?rT(e):Xy(n,e)}var Us=class{constructor(){this._=void 0}};function t3(n,e,t){return n instanceof $s?function(o,i){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return i&&Wy(i)&&(i=Ky(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof ci?iT(n,e):n instanceof ui?sT(n,e):function(o,i){let s=oT(o,i),a=b1(s)+b1(o.Pe);return Ev(s)&&Ev(o.Pe)?rT(a):Xy(o.serializer,a)}(n,e)}function n3(n,e,t){return n instanceof ci?iT(n,e):n instanceof ui?sT(n,e):t}function oT(n,e){return n instanceof zs?function(r){return Ev(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}var $s=class extends Us{},ci=class extends Us{constructor(e){super(),this.elements=e}};function iT(n,e){let t=aT(e);for(let r of n.elements)t.some(o=>ir(o,r))||t.push(r);return{arrayValue:{values:t}}}var ui=class extends Us{constructor(e){super(),this.elements=e}};function sT(n,e){let t=aT(e);for(let r of n.elements)t=t.filter(o=>!ir(o,r));return{arrayValue:{values:t}}}var zs=class extends Us{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function b1(n){return qe(n.integerValue||n.doubleValue)}function aT(n){return Qy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function r3(n,e){return n.field.isEqual(e.field)&&function(r,o){return r instanceof ci&&o instanceof ci||r instanceof ui&&o instanceof ui?Fs(r.elements,o.elements,ir):r instanceof zs&&o instanceof zs?ir(r.Pe,o.Pe):r instanceof $s&&o instanceof $s}(n.transform,e.transform)}var Vv=class{constructor(e,t){this.version=e,this.transformResults=t}},Nr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Ph(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Hs=class{};function lT(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hl(n.key,Nr.none()):new di(n.key,n.data,Nr.none());{let t=n.data,r=nn.empty(),o=new Tt(rn.comparator);for(let i of e.fields)if(!o.has(i)){let s=t.field(i);s===null&&i.length>1&&(i=i.popLast(),s=t.field(i)),s===null?r.delete(i):r.set(i,s),o=o.add(i)}return new sr(n.key,r,new wn(o.toArray()),Nr.none())}}function o3(n,e,t){n instanceof di?function(o,i,s){let a=o.value.clone(),c=y1(o.fieldTransforms,i,s.transformResults);a.setAll(c),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof sr?function(o,i,s){if(!Ph(o.precondition,i))return void i.convertToUnknownDocument(s.version);let a=y1(o.fieldTransforms,i,s.transformResults),c=i.data;c.setAll(cT(o)),c.setAll(a),i.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(n,e,t):function(o,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function Bl(n,e,t,r){return n instanceof di?function(i,s,a,c){if(!Ph(i.precondition,s))return a;let u=i.value.clone(),h=w1(i.fieldTransforms,c,s);return u.setAll(h),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof sr?function(i,s,a,c){if(!Ph(i.precondition,s))return a;let u=w1(i.fieldTransforms,c,s),h=s.data;return h.setAll(cT(i)),h.setAll(u),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(i,s,a){return Ph(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function i3(n,e){let t=null;for(let r of n.fieldTransforms){let o=e.data.field(r.field),i=oT(r.transform,o||null);i!=null&&(t===null&&(t=nn.empty()),t.set(r.field,i))}return t||null}function v1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&Fs(r,o,(i,s)=>r3(i,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var di=class extends Hs{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}},sr=class extends Hs{constructor(e,t,r,o,i=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function cT(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function y1(n,e,t){let r=new Map;Me(n.length===t.length);for(let o=0;o<t.length;o++){let i=n[o],s=i.transform,a=e.data.field(i.field);r.set(i.field,n3(s,a,t[o]))}return r}function w1(n,e,t){let r=new Map;for(let o of n){let i=o.transform,s=t.data.field(o.field);r.set(o.field,t3(i,s,e))}return r}var Hl=class extends Hs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Lv=class extends Hs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var jv=class{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){let i=this.mutations[o];i.key.isEqual(e.key)&&o3(i,e,r[o])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bl(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=Bl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=nT();return this.mutations.forEach(o=>{let i=e.get(o.key),s=i.overlayedDocument,a=this.applyToLocalView(s,i.mutatedFields);a=t.has(o.key)?null:a;let c=lT(s,a);c!==null&&r.set(o.key,c),s.isValidDocument()||s.convertToNoDocument(le.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),me())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,(t,r)=>v1(t,r))&&Fs(this.baseMutations,e.baseMutations,(t,r)=>v1(t,r))}},Bv=class n{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){Me(e.mutations.length===r.length);let o=function(){return YL}(),i=e.mutations;for(let s=0;s<i.length;s++)o=o.insert(i[s].key,r[s].version);return new n(e,t,r,o)}};var Uv=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var $v=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var ot,we;function s3(n){switch(n){default:return ne();case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0}}function uT(n){if(n===void 0)return Or("GRPC error has no .code"),P.UNKNOWN;switch(n){case ot.OK:return P.OK;case ot.CANCELLED:return P.CANCELLED;case ot.UNKNOWN:return P.UNKNOWN;case ot.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case ot.INTERNAL:return P.INTERNAL;case ot.UNAVAILABLE:return P.UNAVAILABLE;case ot.UNAUTHENTICATED:return P.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case ot.NOT_FOUND:return P.NOT_FOUND;case ot.ALREADY_EXISTS:return P.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return P.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case ot.ABORTED:return P.ABORTED;case ot.OUT_OF_RANGE:return P.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return P.UNIMPLEMENTED;case ot.DATA_LOSS:return P.DATA_LOSS;default:return ne()}}(we=ot||(ot={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";var x1=null;function a3(){return new TextEncoder}var l3=new vo([4294967295,4294967295],0);function _1(n){let e=a3().encode(n),t=new rv;return t.update(e),new Uint8Array(t.digest())}function I1(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new vo([t,r],0),new vo([o,i],0)]}var zv=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new ri(`Invalid padding: ${t}`);if(r<0)throw new ri(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ri(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new ri(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=vo.fromNumber(this.Ie)}Ee(e,t,r){let o=e.add(t.multiply(vo.fromNumber(r)));return o.compare(l3)===1&&(o=new vo([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=_1(e),[r,o]=I1(t);for(let i=0;i<this.hashCount;i++){let s=this.Ee(r,o,i);if(!this.de(s))return!1}return!0}static create(e,t,r){let o=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new n(i,o,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=_1(e),[r,o]=I1(t);for(let i=0;i<this.hashCount;i++){let s=this.Ee(r,o,i);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},ri=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Uh=class n{constructor(e,t,r,o,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let o=new Map;return o.set(e,ql.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(le.min(),o,new Ze(Ee),Vr(),me())}},ql=class n{constructor(e,t,r,o,i){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,me(),me(),me())}};var Ps=class{constructor(e,t,r,o){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=o}},$h=class{constructor(e,t){this.targetId=e,this.me=t}},zh=class{constructor(e,t,r=St.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}},Hh=class{constructor(){this.fe=0,this.ge=C1(),this.pe=St.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),t=me(),r=me();return this.ge.forEach((o,i)=>{switch(i){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:ne()}}),new ql(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=C1()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},Hv=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Vr(),this.qe=E1(),this.Qe=new Ze(Ee)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,o)=>{this.ze(o)&&t(o)})}He(e){let t=e.targetId,r=e.me.count,o=this.Je(t);if(o){let i=o.target;if(Nv(i))if(r===0){let s=new ee(i.path);this.Ue(t,s,Ln.newNoDocument(s,le.min()))}else Me(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),c=a?this.Xe(a,e,s):1;if(c!==0){this.je(t);let u=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,u)}x1?.et(function(h,p,g,v,D){var M,S,V,W,L,te;let ge={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},re=p.unchangedNames;return re&&(ge.bloomFilter={applied:D===0,hashCount:(M=re?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(W=(V=(S=re?.bits)===null||S===void 0?void 0:S.bitmap)===null||V===void 0?void 0:V.length)!==null&&W!==void 0?W:0,padding:(te=(L=re?.bits)===null||L===void 0?void 0:L.padding)!==null&&te!==void 0?te:0,mightContain:x=>{var b;return(b=v?.mightContain(x))!==null&&b!==void 0&&b}}),ge}(s,e.me,this.Le.tt(),a,c))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:o=0},hashCount:i=0}=t,s,a;try{s=wo(r).toUint8Array()}catch(c){if(c instanceof Lh)return Os("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new zv(s,o,i)}catch(c){return Os(c instanceof ri?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),o=0;return r.forEach(i=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,i,null),o++)}),o}rt(e){let t=new Map;this.Be.forEach((i,s)=>{let a=this.Je(s);if(a){if(i.current&&Nv(a.target)){let c=new ee(a.target.path);this.ke.get(c)!==null||this.it(s,c)||this.Ue(s,c,Ln.newNoDocument(c,e))}i.be&&(t.set(s,i.ve()),i.Ce())}});let r=me();this.qe.forEach((i,s)=>{let a=!0;s.forEachWhile(c=>{let u=this.Je(c);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.ke.forEach((i,s)=>s.setReadTime(e));let o=new Uh(e,t,this.Qe,this.ke,r);return this.ke=Vr(),this.qe=E1(),this.Qe=new Ze(Ee),o}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Hh,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Tt(Ee),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||K("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Hh),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function E1(){return new Ze(ee.comparator)}function C1(){return new Ze(ee.comparator)}var c3={asc:"ASCENDING",desc:"DESCENDING"},u3={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},d3={and:"AND",or:"OR"},qv=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Gv(n,e){return n.useProto3Json||pf(e)?e:{value:e}}function qh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dT(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function h3(n,e){return qh(n,e.toTimestamp())}function rr(n){return Me(!!n),le.fromTimestamp(function(t){let r=Fr(t);return new gt(r.seconds,r.nanos)}(n))}function Jy(n,e){return Wv(n,e).canonicalString()}function Wv(n,e){let t=function(o){return new Ke(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function hT(n){let e=Ke.fromString(n);return Me(bT(e)),e}function Kv(n,e){return Jy(n.databaseId,e.path)}function cv(n,e){let t=hT(e);if(t.get(1)!==n.databaseId.projectId)throw new G(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new G(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ee(pT(t))}function fT(n,e){return Jy(n.databaseId,e)}function f3(n){let e=hT(n);return e.length===4?Ke.emptyPath():pT(e)}function Qv(n){return new Ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function pT(n){return Me(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function D1(n,e,t){return{name:Kv(n,e),fields:t.value.mapValue.fields}}function p3(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],i=function(u,h){return u.useProto3Json?(Me(h===void 0||typeof h=="string"),St.fromBase64String(h||"")):(Me(h===void 0||h instanceof Buffer||h instanceof Uint8Array),St.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){let h=u.code===void 0?P.UNKNOWN:uT(u.code);return new G(h,u.message||"")}(s);t=new zh(r,o,i,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let o=cv(n,r.document.name),i=rr(r.document.updateTime),s=r.document.createTime?rr(r.document.createTime):le.min(),a=new nn({mapValue:{fields:r.document.fields}}),c=Ln.newFoundDocument(o,i,s,a),u=r.targetIds||[],h=r.removedTargetIds||[];t=new Ps(u,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let o=cv(n,r.document),i=r.readTime?rr(r.readTime):le.min(),s=Ln.newNoDocument(o,i),a=r.removedTargetIds||[];t=new Ps([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let o=cv(n,r.document),i=r.removedTargetIds||[];t=new Ps([],i,o,null)}else{if(!("filter"in e))return ne();{e.filter;let r=e.filter;r.targetId;let{count:o=0,unchangedNames:i}=r,s=new $v(o,i),a=r.targetId;t=new $h(a,s)}}return t}function m3(n,e){let t;if(e instanceof di)t={update:D1(n,e.key,e.value)};else if(e instanceof Hl)t={delete:Kv(n,e.key)};else if(e instanceof sr)t={update:D1(n,e.key,e.data),updateMask:E3(e.fieldMask)};else{if(!(e instanceof Lv))return ne();t={verify:Kv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){let a=s.transform;if(a instanceof $s)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ci)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ui)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof zs)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ne()}(0,r))),e.precondition.isNone||(t.currentDocument=function(o,i){return i.updateTime!==void 0?{updateTime:h3(o,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ne()}(n,e.precondition)),t}function g3(n,e){return n&&n.length>0?(Me(e!==void 0),n.map(t=>function(o,i){let s=o.updateTime?rr(o.updateTime):rr(i);return s.isEqual(le.min())&&(s=rr(i)),new Vv(s,o.transformResults||[])}(t,e))):[]}function b3(n,e){return{documents:[fT(n,e.path)]}}function v3(n,e){let t={structuredQuery:{}},r=e.path,o;e.collectionGroup!==null?(o=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=fT(n,o);let i=function(u){if(u.length!==0)return gT(jn.create(u,"and"))}(e.filters);i&&(t.structuredQuery.where=i);let s=function(u){if(u.length!==0)return u.map(h=>function(g){return{field:ks(g.field),direction:x3(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=Gv(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:o}}function y3(n){let e=f3(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,o=null;if(r>0){Me(r===1);let h=t.from[0];h.allDescendants?o=h.collectionId:e=e.child(h.collectionId)}let i=[];t.where&&(i=function(p){let g=mT(p);return g instanceof jn&&W1(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(D){return new Bs(Ms(D.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,pf(g)?null:g}(t.limit));let c=null;t.startAt&&(c=function(p){let g=!!p.before,v=p.values||[];return new js(v,g)}(t.startAt));let u=null;return t.endAt&&(u=function(p){let g=!p.before,v=p.values||[];return new js(v,g)}(t.endAt)),qL(e,o,s,i,a,"F",c,u)}function w3(n,e){let t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function mT(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ms(t.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":let o=Ms(t.unaryFilter.field);return st.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let i=Ms(t.unaryFilter.field);return st.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ms(t.unaryFilter.field);return st.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ne()}}(n):n.fieldFilter!==void 0?function(t){return st.create(Ms(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return jn.create(t.compositeFilter.filters.map(r=>mT(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return ne()}}(t.compositeFilter.op))}(n):ne()}function x3(n){return c3[n]}function _3(n){return u3[n]}function I3(n){return d3[n]}function ks(n){return{fieldPath:n.canonicalString()}}function Ms(n){return rn.fromServerFormat(n.fieldPath)}function gT(n){return n instanceof st?function(t){if(t.op==="=="){if(h1(t.value))return{unaryFilter:{field:ks(t.field),op:"IS_NAN"}};if(d1(t.value))return{unaryFilter:{field:ks(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(h1(t.value))return{unaryFilter:{field:ks(t.field),op:"IS_NOT_NAN"}};if(d1(t.value))return{unaryFilter:{field:ks(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ks(t.field),op:_3(t.op),value:t.value}}}(n):n instanceof jn?function(t){let r=t.getFilters().map(o=>gT(o));return r.length===1?r[0]:{compositeFilter:{op:I3(t.op),filters:r}}}(n):ne()}function E3(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function bT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var Gl=class n{constructor(e,t,r,o,i=le.min(),s=le.min(),a=St.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var Yv=class{constructor(e){this.ct=e}};function C3(n){let e=y3({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Fv(e,e.limit,"L"):e}var Gh=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(qe(e.integerValue));else if("doubleValue"in e){let r=qe(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Ul(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Fr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(wo(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?H1(e)?this.dt(t,Number.MAX_SAFE_INTEGER):z1(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ne()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let o of Object.keys(r))this.Vt(o,t),this.Tt(r[o],t)}wt(e,t){var r,o;let i=e.fields||{};this.dt(t,53);let s="value",a=((o=(r=i[s].arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.length)||0;this.dt(t,15),t.At(qe(a)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let o of r)this.Tt(o,t)}yt(e,t){this.dt(t,37),ee.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};Gh.vt=new Gh;var Zv=class{constructor(){this.un=new Xv}addToCollectionParentIndex(e,t){return this.un.add(t),F.resolve()}getCollectionParents(e,t){return F.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return F.resolve()}deleteFieldIndex(e,t){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,t){return F.resolve()}getDocumentsMatchingTarget(e,t){return F.resolve(null)}getIndexType(e,t){return F.resolve(0)}getFieldIndexes(e,t){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,t){return F.resolve(si.min())}getMinOffsetFromCollectionGroup(e,t){return F.resolve(si.min())}updateCollectionGroup(e,t,r){return F.resolve()}updateIndexEntries(e,t){return F.resolve()}},Xv=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Tt(Ke.comparator),i=!o.has(r);return this.index[t]=o.add(r),i}has(e){let t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Tt(Ke.comparator)).toArray()}};var fG=new Uint8Array(0);var Jn=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Jn.DEFAULT_COLLECTION_PERCENTILE=10,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Jn.DEFAULT=new Jn(41943040,Jn.DEFAULT_COLLECTION_PERCENTILE,Jn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Jn.DISABLED=new Jn(-1,0,0);var Wl=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var Jv=class{constructor(){this.changes=new xo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?F.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ey=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var ty=class{constructor(e,t,r,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(r!==null&&Bl(r.mutation,o,wn.empty(),gt.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,t,r=me()){let o=ni();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,r).next(i=>{let s=Fl();return i.forEach((a,c)=>{s=s.insert(a,c.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ni();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,me()))}populateOverlays(e,t,r){let o=[];return r.forEach(i=>{t.has(i)||o.push(i)}),this.documentOverlayCache.getOverlays(e,o).next(i=>{i.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,o){let i=Vr(),s=jl(),a=function(){return jl()}();return t.forEach((c,u)=>{let h=r.get(u.key);o.has(u.key)&&(h===void 0||h.mutation instanceof sr)?i=i.insert(u.key,u):h!==void 0?(s.set(u.key,h.mutation.getFieldMask()),Bl(h.mutation,u,h.mutation.getFieldMask(),gt.now())):s.set(u.key,wn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((u,h)=>s.set(u,h)),t.forEach((u,h)=>{var p;return a.set(u,new ey(h,(p=s.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=jl(),o=new Ze((s,a)=>s-a),i=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let h=r.get(c)||wn.empty();h=a.applyToLocalView(u,h),r.set(c,h);let p=(o.get(a.batchId)||me()).add(c);o=o.insert(a.batchId,p)})}).next(()=>{let s=[],a=o.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,h=c.value,p=nT();h.forEach(g=>{if(!i.has(g)){let v=lT(t.get(g),r.get(g));v!==null&&p.set(g,v),i=i.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,p))}return F.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,o){return function(s){return ee.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Z1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,o):this.getDocumentsMatchingCollectionQuery(e,t,r,o)}getNextDocuments(e,t,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,o).next(i=>{let s=o-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,o-i.size):F.resolve(ni()),a=-1,c=i;return s.next(u=>F.forEach(u,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{c=c.insert(h,g)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,c,u,me())).next(h=>({batchId:a,changes:tT(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ee(t)).next(r=>{let o=Fl();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,r,o){let i=t.collectionGroup,s=Fl();return this.indexManager.getCollectionParents(e,i).next(a=>F.forEach(a,c=>{let u=function(p,g){return new li(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,o).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,o){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i,o))).next(s=>{i.forEach((c,u)=>{let h=u.getKey();s.get(h)===null&&(s=s.insert(h,Ln.newInvalidDocument(h)))});let a=Fl();return s.forEach((c,u)=>{let h=i.get(c);h!==void 0&&Bl(h.mutation,u,wn.empty(),gt.now()),bf(t,u)&&(a=a.insert(c,u))}),a})}};var ny=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return F.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:rr(o.createTime)}}(t)),F.resolve()}getNamedQuery(e,t){return F.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(o){return{name:o.name,query:C3(o.bundledQuery),readTime:rr(o.readTime)}}(t)),F.resolve()}};var ry=class{constructor(){this.overlays=new Ze(ee.comparator),this.Ir=new Map}getOverlay(e,t){return F.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ni();return F.forEach(t,o=>this.getOverlay(e,o).next(i=>{i!==null&&r.set(o,i)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((o,i)=>{this.ht(e,t,i)}),F.resolve()}removeOverlaysForBatchId(e,t,r){let o=this.Ir.get(r);return o!==void 0&&(o.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(r)),F.resolve()}getOverlaysForCollection(e,t,r){let o=ni(),i=t.length+1,s=new ee(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&c.largestBatchId>r&&o.set(c.getKey(),c)}return F.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let i=new Ze((u,h)=>u-h),s=this.overlays.getIterator();for(;s.hasNext();){let u=s.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let h=i.get(u.largestBatchId);h===null&&(h=ni(),i=i.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}let a=ni(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=o)););return F.resolve(a)}ht(e,t,r){let o=this.overlays.get(r.key);if(o!==null){let s=this.Ir.get(o.largestBatchId).delete(r.key);this.Ir.set(o.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Uv(t,r));let i=this.Ir.get(t);i===void 0&&(i=me(),this.Ir.set(t,i)),this.Ir.set(t,i.add(r.key))}};var oy=class{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,F.resolve()}};var Kl=class{constructor(){this.Tr=new Tt(it.Er),this.dr=new Tt(it.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new it(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new it(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new ee(new Ke([])),r=new it(t,e),o=new it(t,e+1),i=[];return this.dr.forEachInRange([r,o],s=>{this.Vr(s),i.push(s.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new ee(new Ke([])),r=new it(t,e),o=new it(t,e+1),i=me();return this.dr.forEachInRange([r,o],s=>{i=i.add(s.key)}),i}containsKey(e){let t=new it(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},it=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return ee.comparator(e.key,t.key)||Ee(e.wr,t.wr)}static Ar(e,t){return Ee(e.wr,t.wr)||ee.comparator(e.key,t.key)}};var iy=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Tt(it.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,o){let i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new jv(i,t,r,o);this.mutationQueue.push(s);for(let a of o)this.br=this.br.add(new it(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(s)}lookupMutationBatch(e,t){return F.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,o=this.vr(r),i=o<0?0:o;return F.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new it(t,0),o=new it(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([r,o],s=>{let a=this.Dr(s.wr);i.push(a)}),F.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Tt(Ee);return t.forEach(o=>{let i=new it(o,0),s=new it(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,s],a=>{r=r.add(a.wr)})}),F.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,o=r.length+1,i=r;ee.isDocumentKey(i)||(i=i.child(""));let s=new it(new ee(i),0),a=new Tt(Ee);return this.br.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===o&&(a=a.add(c.wr)),!0)},s),F.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let o=this.Dr(r);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Me(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return F.forEach(t.mutations,o=>{let i=new it(o.key,t.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new it(t,0),o=this.br.firstAfterOrEqual(r);return F.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var sy=class{constructor(e){this.Mr=e,this.docs=function(){return new Ze(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,o=this.docs.get(r),i=o?o.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return F.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(t))}getEntries(e,t){let r=Vr();return t.forEach(o=>{let i=this.docs.get(o);r=r.insert(o,i?i.document.mutableCopy():Ln.newInvalidDocument(o))}),F.resolve(r)}getDocumentsMatchingQuery(e,t,r,o){let i=Vr(),s=t.path,a=new ee(s.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:h}}=c.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||NL(PL(h),r)<=0||(o.has(h.key)||bf(t,h))&&(i=i.insert(h.key,h.mutableCopy()))}return F.resolve(i)}getAllFromCollectionGroup(e,t,r,o){ne()}Or(e,t){return F.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ay(this)}getSize(e){return F.resolve(this.size)}},ay=class extends Jv{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(r)}),F.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var ly=class{constructor(e){this.persistence=e,this.Nr=new xo(t=>Yy(t),Zy),this.lastRemoteSnapshotVersion=le.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Kl,this.targetCount=0,this.kr=Wl.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,o)=>t(o)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),F.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new Wl(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,F.resolve()}updateTargetData(e,t){return this.Kn(t),F.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,t,r){let o=0,i=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),o++)}),F.waitFor(i).next(()=>o)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return F.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),F.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let o=this.persistence.referenceDelegate,i=[];return o&&t.forEach(s=>{i.push(o.markPotentiallyOrphaned(e,s))}),F.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),F.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return F.resolve(r)}containsKey(e,t){return F.resolve(this.Br.containsKey(t))}};var cy=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new U1(0),this.Kr=!1,this.Kr=!0,this.$r=new oy,this.referenceDelegate=e(this),this.Ur=new ly(this),this.indexManager=new Zv,this.remoteDocumentCache=function(o){return new sy(o)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Yv(t),this.Gr=new ny(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ry,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new iy(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){K("MemoryPersistence","Starting transaction:",e);let o=new uy(this.Qr.next());return this.referenceDelegate.zr(),r(o).next(i=>this.referenceDelegate.jr(o).next(()=>i)).toPromise().then(i=>(o.raiseOnCommittedEvent(),i))}Hr(e,t){return F.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},uy=class extends xv{constructor(e){super(),this.currentSequenceNumber=e}},dy=class n{constructor(e){this.persistence=e,this.Jr=new Kl,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ne()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),F.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),F.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(o=>this.Xr.add(o.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(i=>this.Xr.add(i.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,r=>{let o=ee.fromPath(r);return this.ei(e,o).next(i=>{i||t.removeEntry(o,le.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return F.or([()=>F.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var hy=class n{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=o}static Wi(e,t){let r=me(),o=me();for(let i of t.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:o=o.add(i.doc.key)}return new n(e,t.fromCache,r,o)}};var fy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var py=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Aw()?8:FL(Sw())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,o){let i={result:null};return this.Yi(e,t).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Zi(e,t,o,r).next(s=>{i.result=s})}).next(()=>{if(i.result)return;let s=new fy;return this.Xi(e,t,s).next(a=>{if(i.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>i.result)}es(e,t,r,o){return r.documentReadCount<this.ji?(Ol()<=dr.DEBUG&&K("QueryEngine","SDK will not create cache indexes for query:",As(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(Ol()<=dr.DEBUG&&K("QueryEngine","Query:",As(t),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Hi*o?(Ol()<=dr.DEBUG&&K("QueryEngine","The SDK decides to create cache indexes for query:",As(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nr(t))):F.resolve())}Yi(e,t){if(g1(t))return F.resolve(null);let r=nr(t);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Fv(t,null,"F"),r=nr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{let s=me(...i);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.ts(t,a);return this.ns(t,u,s,c.readTime)?this.Yi(e,Fv(t,null,"F")):this.rs(e,u,t,c)}))})))}Zi(e,t,r,o){return g1(t)||o.isEqual(le.min())?F.resolve(null):this.Ji.getDocuments(e,r).next(i=>{let s=this.ts(t,i);return this.ns(t,s,r,o)?F.resolve(null):(Ol()<=dr.DEBUG&&K("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),As(t)),this.rs(e,s,t,RL(o,-1)).next(a=>a))})}ts(e,t){let r=new Tt(J1(e));return t.forEach((o,i)=>{bf(e,i)&&(r=r.add(i))}),r}ns(e,t,r,o){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let i=e.limitType==="F"?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(o)>0)}Xi(e,t,r){return Ol()<=dr.DEBUG&&K("QueryEngine","Using full collection scan to execute query:",As(t)),this.Ji.getDocumentsMatchingQuery(e,t,si.min(),r)}rs(e,t,r,o){return this.Ji.getDocumentsMatchingQuery(e,r,o).next(i=>(t.forEach(s=>{i=i.insert(s.key,s)}),i))}};var my=class{constructor(e,t,r,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new Ze(Ee),this._s=new xo(i=>Yy(i),Zy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ty(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function D3(n,e,t,r){return new my(n,e,t,r)}function vT(n,e){return U(this,null,function*(){let t=se(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.mutationQueue.getAllMutationBatches(r).next(i=>(o=i,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(i=>{let s=[],a=[],c=me();for(let u of o){s.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}for(let u of i){a.push(u.batchId);for(let h of u.mutations)c=c.add(h.key)}return t.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})})}function T3(n,e){let t=se(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let o=e.batch.keys(),i=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,h){let p=u.batch,g=p.keys(),v=F.resolve();return g.forEach(D=>{v=v.next(()=>h.getEntry(c,D)).next(M=>{let S=u.docVersions.get(D);Me(S!==null),M.version.compareTo(S)<0&&(p.applyToRemoteDocument(M,u),M.isValidDocument()&&(M.setReadTime(u.commitVersion),h.addEntry(M)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(c,p))}(t,r,e,i).next(()=>i.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=me();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,o))})}function yT(n){let e=se(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function S3(n,e){let t=se(n),r=e.snapshotVersion,o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;let a=[];e.targetChanges.forEach((h,p)=>{let g=o.get(p);if(!g)return;a.push(t.Ur.removeMatchingKeys(i,h.removedDocuments,p).next(()=>t.Ur.addMatchingKeys(i,h.addedDocuments,p)));let v=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(St.EMPTY_BYTE_STRING,le.min()).withLastLimboFreeSnapshotVersion(le.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),o=o.insert(p,v),function(M,S,V){return M.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(g,v,h)&&a.push(t.Ur.updateTargetData(i,v))});let c=Vr(),u=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(A3(i,s,e.documentUpdates).next(h=>{c=h.Ps,u=h.Is})),!r.isEqual(le.min())){let h=t.Ur.getLastRemoteSnapshotVersion(i).next(p=>t.Ur.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return F.waitFor(a).next(()=>s.apply(i)).next(()=>t.localDocuments.getLocalViewOfDocuments(i,c,u)).next(()=>c)}).then(i=>(t.os=o,i))}function A3(n,e,t){let r=me(),o=me();return t.forEach(i=>r=r.add(i)),e.getEntries(n,r).next(i=>{let s=Vr();return t.forEach((a,c)=>{let u=i.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(o=o.add(a)),c.isNoDocument()&&c.version.isEqual(le.min())?(e.removeEntry(a,c.readTime),s=s.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),s=s.insert(a,c)):K("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:s,Is:o}})}function k3(n,e){let t=se(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function M3(n,e){let t=se(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.Ur.getTargetData(r,e).next(i=>i?(o=i,F.resolve(o)):t.Ur.allocateTargetId(r).next(s=>(o=new Gl(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,o).next(()=>o))))}).then(r=>{let o=t.os.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function gy(n,e,t){return U(this,null,function*(){let r=se(n),o=r.os.get(e),i=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,o)))}catch(s){if(!tc(s))throw s;K("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(o.target)})}function T1(n,e,t){let r=se(n),o=le.min(),i=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(c,u,h){let p=se(c),g=p._s.get(h);return g!==void 0?F.resolve(p.os.get(g)):p.Ur.getTargetData(u,h)}(r,s,nr(e)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(c=>{i=c})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?o:le.min(),t?i:me())).next(a=>(R3(r,WL(e),a),{documents:a,Ts:i})))}function R3(n,e,t){let r=n.us.get(e)||le.min();t.forEach((o,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),n.us.set(e,r)}var Wh=class{constructor(){this.activeTargetIds=JL()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var by=class{constructor(){this.so=new Wh,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Wh,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var vy=class{_o(e){}shutdown(){}};var Kh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){K("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){K("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Mh=null;function uv(){return Mh===null?Mh=function(){return 268435456+Math.round(2147483648*Math.random())}():Mh++,"0x"+Mh.toString(16)}var P3={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var yy=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Dt="WebChannelConnection",wy=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${o}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${i}`}get Fo(){return!1}Mo(t,r,o,i,s){let a=uv(),c=this.xo(t,r.toUriEncodedString());K("RestConnection",`Sending RPC '${t}' ${a}:`,c,o);let u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,i,s),this.No(t,c,u,o).then(h=>(K("RestConnection",`Received RPC '${t}' ${a}: `,h),h),h=>{throw Os("RestConnection",`RPC '${t}' ${a} failed with error: `,h,"url: ",c,"request:",o),h})}Lo(t,r,o,i,s,a){return this.Mo(t,r,o,i,s)}Oo(t,r,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>t[s]=i),o&&o.headers.forEach((i,s)=>t[s]=i)}xo(t,r){let o=P3[t];return`${this.Do}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,o){let i=uv();return new Promise((s,a)=>{let c=new ov;c.setWithCredentials(!0),c.listenOnce(iv.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Nl.NO_ERROR:let h=c.getResponseJson();K(Dt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),s(h);break;case Nl.TIMEOUT:K(Dt,`RPC '${e}' ${i} timed out`),a(new G(P.DEADLINE_EXCEEDED,"Request time out"));break;case Nl.HTTP_ERROR:let p=c.getStatus();if(K(Dt,`RPC '${e}' ${i} failed with status:`,p,"response text:",c.getResponseText()),p>0){let g=c.getResponseJson();Array.isArray(g)&&(g=g[0]);let v=g?.error;if(v&&v.status&&v.message){let D=function(S){let V=S.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(V)>=0?V:P.UNKNOWN}(v.status);a(new G(D,v.message))}else a(new G(P.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new G(P.UNAVAILABLE,"Connection failed."));break;default:ne()}}finally{K(Dt,`RPC '${e}' ${i} completed.`)}});let u=JSON.stringify(o);K(Dt,`RPC '${e}' ${i} sending request:`,o),c.send(t,"POST",u,r,15)})}Bo(e,t,r){let o=uv(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=lv(),a=av(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let h=i.join("");K(Dt,`Creating RPC '${e}' stream ${o}: ${h}`,c);let p=s.createWebChannel(h,c),g=!1,v=!1,D=new yy({Io:S=>{v?K(Dt,`Not sending because RPC '${e}' stream ${o} is closed:`,S):(g||(K(Dt,`Opening RPC '${e}' stream ${o} transport.`),p.open(),g=!0),K(Dt,`RPC '${e}' stream ${o} sending:`,S),p.send(S))},To:()=>p.close()}),M=(S,V,W)=>{S.listen(V,L=>{try{W(L)}catch(te){setTimeout(()=>{throw te},0)}})};return M(p,Ss.EventType.OPEN,()=>{v||(K(Dt,`RPC '${e}' stream ${o} transport opened.`),D.yo())}),M(p,Ss.EventType.CLOSE,()=>{v||(v=!0,K(Dt,`RPC '${e}' stream ${o} transport closed`),D.So())}),M(p,Ss.EventType.ERROR,S=>{v||(v=!0,Os(Dt,`RPC '${e}' stream ${o} transport errored:`,S),D.So(new G(P.UNAVAILABLE,"The operation could not be completed")))}),M(p,Ss.EventType.MESSAGE,S=>{var V;if(!v){let W=S.data[0];Me(!!W);let L=W,te=L.error||((V=L[0])===null||V===void 0?void 0:V.error);if(te){K(Dt,`RPC '${e}' stream ${o} received error:`,te);let ge=te.status,re=function(w){let _=ot[w];if(_!==void 0)return uT(_)}(ge),x=te.message;re===void 0&&(re=P.INTERNAL,x="Unknown error status: "+ge+" with message "+te.message),v=!0,D.So(new G(re,x)),p.close()}else K(Dt,`RPC '${e}' stream ${o} received:`,W),D.bo(W)}}),M(a,sv.STAT_EVENT,S=>{S.stat===Ah.PROXY?K(Dt,`RPC '${e}' stream ${o} detected buffering proxy`):S.stat===Ah.NOPROXY&&K(Dt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{D.wo()},0),D}};function dv(){return typeof document<"u"?document:null}function vf(n){return new qv(n,!0)}var Qh=class{constructor(e,t,r=1e3,o=1.5,i=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=o,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-r);o>0&&K("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Yh=class{constructor(e,t,r,o,i,s,a,c){this.ui=e,this.Ho=r,this.Jo=o,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Qh(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return U(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return U(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return U(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(Or(t.toString()),Or("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Yo===t&&this.P_(r,o)},r=>{e(()=>{let o=new G(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(o)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{r(()=>this.I_(o))}),this.stream.onMessage(o=>{r(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(()=>U(this,null,function*(){this.state=0,this.start()}))}I_(e){return K("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(K("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},xy=class extends Yh{constructor(e,t,r,o,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=p3(this.serializer,e),r=function(i){if(!("targetChange"in i))return le.min();let s=i.targetChange;return s.targetIds&&s.targetIds.length?le.min():s.readTime?rr(s.readTime):le.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=Qv(this.serializer),t.addTarget=function(i,s){let a,c=s.target;if(a=Nv(c)?{documents:b3(i,c)}:{query:v3(i,c)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=dT(i,s.resumeToken);let u=Gv(i,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(le.min())>0){a.readTime=qh(i,s.snapshotVersion.toTimestamp());let u=Gv(i,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=w3(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=Qv(this.serializer),t.removeTarget=e,this.a_(t)}},_y=class extends Yh{constructor(e,t,r,o,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=g3(e.writeResults,e.commitTime),r=rr(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=Qv(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>m3(this.serializer,r))};this.a_(t)}};var Iy=class extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new G(P.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Mo(e,Wv(t,r),o,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(P.UNKNOWN,i.toString())})}Lo(e,t,r,o,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Wv(t,r),o,s,a,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new G(P.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Ey=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Or(t),this.D_=!1):K("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var Cy=class{constructor(e,t,r,o,i){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(s=>{r.enqueueAndForget(()=>U(this,null,function*(){fi(this)&&(K("RemoteStore","Restarting streams for network reachability change."),yield function(c){return U(this,null,function*(){let u=se(c);u.L_.add(4),yield nc(u),u.q_.set("Unknown"),u.L_.delete(4),yield yf(u)})}(this))}))}),this.q_=new Ey(r,o)}};function yf(n){return U(this,null,function*(){if(fi(n))for(let e of n.B_)yield e(!0)})}function nc(n){return U(this,null,function*(){for(let e of n.B_)yield e(!1)})}function wT(n,e){let t=se(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),r0(t)?n0(t):Ys(t).r_()&&t0(t,e))}function e0(n,e){let t=se(n),r=Ys(t);t.N_.delete(e),r.r_()&&xT(t,e),t.N_.size===0&&(r.r_()?r.o_():fi(t)&&t.q_.set("Unknown"))}function t0(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(le.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ys(n).A_(e)}function xT(n,e){n.Q_.xe(e),Ys(n).R_(e)}function n0(n){n.Q_=new Hv({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ys(n).start(),n.q_.v_()}function r0(n){return fi(n)&&!Ys(n).n_()&&n.N_.size>0}function fi(n){return se(n).L_.size===0}function _T(n){n.Q_=void 0}function N3(n){return U(this,null,function*(){n.q_.set("Online")})}function O3(n){return U(this,null,function*(){n.N_.forEach((e,t)=>{t0(n,e)})})}function F3(n,e){return U(this,null,function*(){_T(n),r0(n)?(n.q_.M_(e),n0(n)):n.q_.set("Unknown")})}function V3(n,e,t){return U(this,null,function*(){if(n.q_.set("Online"),e instanceof zh&&e.state===2&&e.cause)try{yield function(o,i){return U(this,null,function*(){let s=i.cause;for(let a of i.targetIds)o.N_.has(a)&&(yield o.remoteSyncer.rejectListen(a,s),o.N_.delete(a),o.Q_.removeTarget(a))})}(n,e)}catch(r){K("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Zh(n,r)}else if(e instanceof Ps?n.Q_.Ke(e):e instanceof $h?n.Q_.He(e):n.Q_.We(e),!t.isEqual(le.min()))try{let r=yield yT(n.localStore);t.compareTo(r)>=0&&(yield function(i,s){let a=i.Q_.rt(s);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){let h=i.N_.get(u);h&&i.N_.set(u,h.withResumeToken(c.resumeToken,s))}}),a.targetMismatches.forEach((c,u)=>{let h=i.N_.get(c);if(!h)return;i.N_.set(c,h.withResumeToken(St.EMPTY_BYTE_STRING,h.snapshotVersion)),xT(i,c);let p=new Gl(h.target,c,u,h.sequenceNumber);t0(i,p)}),i.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){K("RemoteStore","Failed to raise snapshot:",r),yield Zh(n,r)}})}function Zh(n,e,t){return U(this,null,function*(){if(!tc(e))throw e;n.L_.add(1),yield nc(n),n.q_.set("Offline"),t||(t=()=>yT(n.localStore)),n.asyncQueue.enqueueRetryable(()=>U(this,null,function*(){K("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield yf(n)}))})}function IT(n,e){return e().catch(t=>Zh(n,t,e))}function wf(n){return U(this,null,function*(){let e=se(n),t=_o(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;L3(e);)try{let o=yield k3(e.localStore,r);if(o===null){e.O_.length===0&&t.o_();break}r=o.batchId,j3(e,o)}catch(o){yield Zh(e,o)}ET(e)&&CT(e)})}function L3(n){return fi(n)&&n.O_.length<10}function j3(n,e){n.O_.push(e);let t=_o(n);t.r_()&&t.V_&&t.m_(e.mutations)}function ET(n){return fi(n)&&!_o(n).n_()&&n.O_.length>0}function CT(n){_o(n).start()}function B3(n){return U(this,null,function*(){_o(n).p_()})}function U3(n){return U(this,null,function*(){let e=_o(n);for(let t of n.O_)e.m_(t.mutations)})}function $3(n,e,t){return U(this,null,function*(){let r=n.O_.shift(),o=Bv.from(r,e,t);yield IT(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield wf(n)})}function z3(n,e){return U(this,null,function*(){e&&_o(n).V_&&(yield function(r,o){return U(this,null,function*(){if(function(s){return s3(s)&&s!==P.ABORTED}(o.code)){let i=r.O_.shift();_o(r).s_(),yield IT(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,o)),yield wf(r)}})}(n,e)),ET(n)&&CT(n)})}function S1(n,e){return U(this,null,function*(){let t=se(n);t.asyncQueue.verifyOperationInProgress(),K("RemoteStore","RemoteStore received new credentials");let r=fi(t);t.L_.add(3),yield nc(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield yf(t)})}function H3(n,e){return U(this,null,function*(){let t=se(n);e?(t.L_.delete(2),yield yf(t)):e||(t.L_.add(2),yield nc(t),t.q_.set("Unknown"))})}function Ys(n){return n.K_||(n.K_=function(t,r,o){let i=se(t);return i.w_(),new xy(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(n.datastore,n.asyncQueue,{Eo:N3.bind(null,n),Ro:O3.bind(null,n),mo:F3.bind(null,n),d_:V3.bind(null,n)}),n.B_.push(e=>U(this,null,function*(){e?(n.K_.s_(),r0(n)?n0(n):n.q_.set("Unknown")):(yield n.K_.stop(),_T(n))}))),n.K_}function _o(n){return n.U_||(n.U_=function(t,r,o){let i=se(t);return i.w_(),new _y(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:B3.bind(null,n),mo:z3.bind(null,n),f_:U3.bind(null,n),g_:$3.bind(null,n)}),n.B_.push(e=>U(this,null,function*(){e?(n.U_.s_(),yield wf(n)):(yield n.U_.stop(),n.O_.length>0&&(K("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var Dy=class n{constructor(e,t,r,o,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=i,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,o,i){let s=Date.now()+r,a=new n(e,t,s,o,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function o0(n,e){if(Or("AsyncQueue",`${e}: ${n}`),tc(n))return new G(P.UNAVAILABLE,`${e}: ${n}`);throw n}var Xh=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||ee.comparator(t.key,r.key):(t,r)=>ee.comparator(t.key,r.key),this.keyedMap=Fl(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let o=t.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Jh=class{constructor(){this.W_=new Ze(ee.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ne():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},qs=class n{constructor(e,t,r,o,i,s,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,o,i){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Xh.emptySet(t),s,r,o,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}};var Ty=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Sy=class{constructor(){this.queries=A1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let o=se(t),i=o.queries;o.queries=A1(),i.forEach((s,a)=>{for(let c of a.j_)c.onError(r)})})(this,new G(P.ABORTED,"Firestore shutting down"))}};function A1(){return new xo(n=>X1(n),gf)}function DT(n,e){return U(this,null,function*(){let t=se(n),r=3,o=e.query,i=t.queries.get(o);i?!i.H_()&&e.J_()&&(r=2):(i=new Ty,r=e.J_()?0:1);try{switch(r){case 0:i.z_=yield t.onListen(o,!0);break;case 1:i.z_=yield t.onListen(o,!1);break;case 2:yield t.onFirstRemoteStoreListen(o)}}catch(s){let a=o0(s,`Initialization of query '${As(e.query)}' failed`);return void e.onError(a)}t.queries.set(o,i),i.j_.push(e),e.Z_(t.onlineState),i.z_&&e.X_(i.z_)&&i0(t)})}function TT(n,e){return U(this,null,function*(){let t=se(n),r=e.query,o=3,i=t.queries.get(r);if(i){let s=i.j_.indexOf(e);s>=0&&(i.j_.splice(s,1),i.j_.length===0?o=e.J_()?0:1:!i.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function q3(n,e){let t=se(n),r=!1;for(let o of e){let i=o.query,s=t.queries.get(i);if(s){for(let a of s.j_)a.X_(o)&&(r=!0);s.z_=o}}r&&i0(t)}function G3(n,e,t){let r=se(n),o=r.queries.get(e);if(o)for(let i of o.j_)i.onError(t);r.queries.delete(e)}function i0(n){n.Y_.forEach(e=>{e.next()})}var Ay,k1;(k1=Ay||(Ay={})).ea="default",k1.Cache="cache";var ef=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let o of e.docChanges)o.type!==3&&r.push(o);e=new qs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=qs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ay.Cache}};var tf=class{constructor(e){this.key=e}},nf=class{constructor(e){this.key=e}},ky=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=J1(e),this.Ra=new Xh(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Jh,o=t?t.Ra:this.Ra,i=t?t.mutatedKeys:this.mutatedKeys,s=o,a=!1,c=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,u=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((h,p)=>{let g=o.get(h),v=bf(this.query,p)?p:null,D=!!g&&this.mutatedKeys.has(g.key),M=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),S=!1;g&&v?g.data.isEqual(v.data)?D!==M&&(r.track({type:3,doc:v}),S=!0):this.ga(g,v)||(r.track({type:2,doc:v}),S=!0,(c&&this.Aa(v,c)>0||u&&this.Aa(v,u)<0)&&(a=!0)):!g&&v?(r.track({type:0,doc:v}),S=!0):g&&!v&&(r.track({type:1,doc:g}),S=!0,(c||u)&&(a=!0)),S&&(v?(s=s.add(v),i=M?i.add(h):i.delete(h)):(s=s.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,o){let i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(v,D){let M=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ne()}};return M(v)-M(D)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),o=o!=null&&o;let a=t&&!o?this.ya():[],c=this.da.size===0&&this.current&&!o?1:0,u=c!==this.Ea;return this.Ea=c,s.length!==0||u?{snapshot:new qs(this.query,e.Ra,i,s,e.mutatedKeys,c===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new nf(r))}),this.da.forEach(r=>{e.has(r)||t.push(new tf(r))}),t}ba(e){this.Ta=e.Ts,this.da=me();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return qs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},My=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},Ry=class{constructor(e){this.key=e,this.va=!1}},Py=class{constructor(e,t,r,o,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new xo(a=>X1(a),gf),this.Ma=new Map,this.xa=new Set,this.Oa=new Ze(ee.comparator),this.Na=new Map,this.La=new Kl,this.Ba={},this.ka=new Map,this.qa=Wl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function W3(n,e,t=!0){return U(this,null,function*(){let r=PT(n),o,i=r.Fa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.Da()):o=yield ST(r,e,t,!0),o})}function K3(n,e){return U(this,null,function*(){let t=PT(n);yield ST(t,e,!0,!1)})}function ST(n,e,t,r){return U(this,null,function*(){let o=yield M3(n.localStore,nr(e)),i=o.targetId,s=n.sharedClientState.addLocalQueryTarget(i,t),a;return r&&(a=yield Q3(n,e,i,s==="current",o.resumeToken)),n.isPrimaryClient&&t&&wT(n.remoteStore,o),a})}function Q3(n,e,t,r,o){return U(this,null,function*(){n.Ka=(p,g,v)=>function(M,S,V,W){return U(this,null,function*(){let L=S.view.ma(V);L.ns&&(L=yield T1(M.localStore,S.query,!1).then(({documents:x})=>S.view.ma(x,L)));let te=W&&W.targetChanges.get(S.targetId),ge=W&&W.targetMismatches.get(S.targetId)!=null,re=S.view.applyChanges(L,M.isPrimaryClient,te,ge);return R1(M,S.targetId,re.wa),re.snapshot})}(n,p,g,v);let i=yield T1(n.localStore,e,!0),s=new ky(e,i.Ts),a=s.ma(i.documents),c=ql.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",o),u=s.applyChanges(a,n.isPrimaryClient,c);R1(n,t,u.wa);let h=new My(e,t,s);return n.Fa.set(e,h),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot})}function Y3(n,e,t){return U(this,null,function*(){let r=se(n),o=r.Fa.get(e),i=r.Ma.get(o.targetId);if(i.length>1)return r.Ma.set(o.targetId,i.filter(s=>!gf(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||(yield gy(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),t&&e0(r.remoteStore,o.targetId),Ny(r,o.targetId)}).catch(ec))):(Ny(r,o.targetId),yield gy(r.localStore,o.targetId,!0))})}function Z3(n,e){return U(this,null,function*(){let t=se(n),r=t.Fa.get(e),o=t.Ma.get(r.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),e0(t.remoteStore,r.targetId))})}function X3(n,e,t){return U(this,null,function*(){let r=ij(n);try{let o=yield function(s,a){let c=se(s),u=gt.now(),h=a.reduce((v,D)=>v.add(D.key),me()),p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",v=>{let D=Vr(),M=me();return c.cs.getEntries(v,h).next(S=>{D=S,D.forEach((V,W)=>{W.isValidDocument()||(M=M.add(V))})}).next(()=>c.localDocuments.getOverlayedDocuments(v,D)).next(S=>{p=S;let V=[];for(let W of a){let L=i3(W,p.get(W.key).overlayedDocument);L!=null&&V.push(new sr(W.key,L,q1(L.value.mapValue),Nr.exists(!0)))}return c.mutationQueue.addMutationBatch(v,u,V,a)}).next(S=>{g=S;let V=S.applyToLocalDocumentSet(p,M);return c.documentOverlayCache.saveOverlays(v,S.batchId,V)})}).then(()=>({batchId:g.batchId,changes:tT(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(s,a,c){let u=s.Ba[s.currentUser.toKey()];u||(u=new Ze(Ee)),u=u.insert(a,c),s.Ba[s.currentUser.toKey()]=u}(r,o.batchId,t),yield rc(r,o.changes),yield wf(r.remoteStore)}catch(o){let i=o0(o,"Failed to persist write");t.reject(i)}})}function AT(n,e){return U(this,null,function*(){let t=se(n);try{let r=yield S3(t.localStore,e);e.targetChanges.forEach((o,i)=>{let s=t.Na.get(i);s&&(Me(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?s.va=!0:o.modifiedDocuments.size>0?Me(s.va):o.removedDocuments.size>0&&(Me(s.va),s.va=!1))}),yield rc(t,r,e)}catch(r){yield ec(r)}})}function M1(n,e,t){let r=se(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let o=[];r.Fa.forEach((i,s)=>{let a=s.view.Z_(e);a.snapshot&&o.push(a.snapshot)}),function(s,a){let c=se(s);c.onlineState=a;let u=!1;c.queries.forEach((h,p)=>{for(let g of p.j_)g.Z_(a)&&(u=!0)}),u&&i0(c)}(r.eventManager,e),o.length&&r.Ca.d_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function J3(n,e,t){return U(this,null,function*(){let r=se(n);r.sharedClientState.updateQueryState(e,"rejected",t);let o=r.Na.get(e),i=o&&o.key;if(i){let s=new Ze(ee.comparator);s=s.insert(i,Ln.newNoDocument(i,le.min()));let a=me().add(i),c=new Uh(le.min(),new Map,new Ze(Ee),s,a);yield AT(r,c),r.Oa=r.Oa.remove(i),r.Na.delete(e),s0(r)}else yield gy(r.localStore,e,!1).then(()=>Ny(r,e,t)).catch(ec)})}function ej(n,e){return U(this,null,function*(){let t=se(n),r=e.batch.batchId;try{let o=yield T3(t.localStore,e);MT(t,r,null),kT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield rc(t,o)}catch(o){yield ec(o)}})}function tj(n,e,t){return U(this,null,function*(){let r=se(n);try{let o=yield function(s,a){let c=se(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return c.mutationQueue.lookupMutationBatch(u,a).next(p=>(Me(p!==null),h=p.keys(),c.mutationQueue.removeMutationBatch(u,p))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>c.localDocuments.getDocuments(u,h))})}(r.localStore,e);MT(r,e,t),kT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield rc(r,o)}catch(o){yield ec(o)}})}function kT(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function MT(n,e,t){let r=se(n),o=r.Ba[r.currentUser.toKey()];if(o){let i=o.get(e);i&&(t?i.reject(t):i.resolve(),o=o.remove(e)),r.Ba[r.currentUser.toKey()]=o}}function Ny(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||RT(n,r)})}function RT(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(e0(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),s0(n))}function R1(n,e,t){for(let r of t)r instanceof tf?(n.La.addReference(r.key,e),nj(n,r)):r instanceof nf?(K("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||RT(n,r.key)):ne()}function nj(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(K("SyncEngine","New document in limbo: "+t),n.xa.add(r),s0(n))}function s0(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new ee(Ke.fromString(e)),r=n.qa.next();n.Na.set(r,new Ry(t)),n.Oa=n.Oa.insert(t,r),wT(n.remoteStore,new Gl(nr(mf(t.path)),r,"TargetPurposeLimboResolution",U1.oe))}}function rc(n,e,t){return U(this,null,function*(){let r=se(n),o=[],i=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{s.push(r.Ka(c,e,t).then(u=>{var h;if((u||t)&&r.isPrimaryClient){let p=u?!u.fromCache:(h=t?.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,p?"current":"not-current")}if(u){o.push(u);let p=hy.Wi(c.targetId,u);i.push(p)}}))}),yield Promise.all(s),r.Ca.d_(o),yield function(c,u){return U(this,null,function*(){let h=se(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>F.forEach(u,g=>F.forEach(g.$i,v=>h.persistence.referenceDelegate.addReference(p,g.targetId,v)).next(()=>F.forEach(g.Ui,v=>h.persistence.referenceDelegate.removeReference(p,g.targetId,v)))))}catch(p){if(!tc(p))throw p;K("LocalStore","Failed to update sequence numbers: "+p)}for(let p of u){let g=p.targetId;if(!p.fromCache){let v=h.os.get(g),D=v.snapshotVersion,M=v.withLastLimboFreeSnapshotVersion(D);h.os=h.os.insert(g,M)}}})}(r.localStore,i))})}function rj(n,e){return U(this,null,function*(){let t=se(n);if(!t.currentUser.isEqual(e)){K("SyncEngine","User change. New user:",e.toKey());let r=yield vT(t.localStore,e);t.currentUser=e,function(i,s){i.ka.forEach(a=>{a.forEach(c=>{c.reject(new G(P.CANCELLED,s))})}),i.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield rc(t,r.hs)}})}function oj(n,e){let t=se(n),r=t.Na.get(e);if(r&&r.va)return me().add(r.key);{let o=me(),i=t.Ma.get(e);if(!i)return o;for(let s of i){let a=t.Fa.get(s);o=o.unionWith(a.view.Va)}return o}}function PT(n){let e=se(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=AT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oj.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=J3.bind(null,e),e.Ca.d_=q3.bind(null,e.eventManager),e.Ca.$a=G3.bind(null,e.eventManager),e}function ij(n){let e=se(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ej.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tj.bind(null,e),e}var P1=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return U(this,null,function*(){this.serializer=vf(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return D3(this.persistence,new py,t.initialUser,this.serializer)}Ga(t){return new cy(dy.Zr,this.serializer)}Wa(t){return new by}terminate(){return U(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var sj=(()=>{class n{initialize(t,r){return U(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>M1(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=rj.bind(null,this.syncEngine),yield H3(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new Sy}()}createDatastore(t){let r=vf(t.databaseInfo.databaseId),o=function(s){return new wy(s)}(t.databaseInfo);return function(s,a,c,u){return new Iy(s,a,c,u)}(t.authCredentials,t.appCheckCredentials,o,r)}createRemoteStore(t){return function(o,i,s,a,c){return new Cy(o,i,s,a,c)}(this.localStore,this.datastore,t.asyncQueue,r=>M1(this.syncEngine,r,0),function(){return Kh.D()?new Kh:new vy}())}createSyncEngine(t,r){return function(i,s,a,c,u,h,p){let g=new Py(i,s,a,c,u,h);return p&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return U(this,null,function*(){var t,r;yield function(i){return U(this,null,function*(){let s=se(i);K("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield nc(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var rf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Or("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var Oy=class{constructor(e,t,r,o,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=ht.UNAUTHENTICATED,this.clientId=Oh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,s=>U(this,null,function*(){K("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(K("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>U(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=o0(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function hv(n,e){return U(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),K("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(o=>U(this,null,function*(){r.isEqual(o)||(yield vT(e.localStore,o),r=o)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function N1(n,e){return U(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield aj(n);K("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>S1(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>S1(e.remoteStore,o)),n._onlineComponents=e})}function aj(n){return U(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){K("FirestoreClient","Using user provided OfflineComponentProvider");try{yield hv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(o){return o.name==="FirebaseError"?o.code===P.FAILED_PRECONDITION||o.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Os("Error using user provided cache. Falling back to memory cache: "+t),yield hv(n,new P1)}}else K("FirestoreClient","Using default OfflineComponentProvider"),yield hv(n,new P1);return n._offlineComponents})}function NT(n){return U(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(K("FirestoreClient","Using user provided OnlineComponentProvider"),yield N1(n,n._uninitializedComponentsProvider._online)):(K("FirestoreClient","Using default OnlineComponentProvider"),yield N1(n,new sj))),n._onlineComponents})}function lj(n){return NT(n).then(e=>e.syncEngine)}function Fy(n){return U(this,null,function*(){let e=yield NT(n),t=e.eventManager;return t.onListen=W3.bind(null,e.syncEngine),t.onUnlisten=Y3.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=K3.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Z3.bind(null,e.syncEngine),t})}function cj(n,e,t={}){let r=new er;return n.asyncQueue.enqueueAndForget(()=>U(this,null,function*(){return function(i,s,a,c,u){let h=new rf({next:g=>{h.Za(),s.enqueueAndForget(()=>TT(i,p));let v=g.docs.has(a);!v&&g.fromCache?u.reject(new G(P.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&c&&c.source==="server"?u.reject(new G(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),p=new ef(mf(a.path),h,{includeMetadataChanges:!0,_a:!0});return DT(i,p)}(yield Fy(n),n.asyncQueue,e,t,r)})),r.promise}function OT(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var O1=new Map;function FT(n,e,t){if(!t)throw new G(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function uj(n,e,t,r){if(e===!0&&r===!0)throw new G(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function F1(n){if(!ee.isDocumentKey(n))throw new G(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function V1(n){if(ee.isDocumentKey(n))throw new G(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function xf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ne()}function or(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new G(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=xf(n);throw new G(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var of=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new G(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new G(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new G(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new G(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new G(P.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Gs=class{constructor(e,t,r,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new of({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new of(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fv;switch(r.type){case"firstParty":return new bv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return U(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=O1.get(t);r&&(K("ComponentProvider","Removing Datastore"),O1.delete(t),r.terminate())}(this),Promise.resolve()}};function VT(n,e,t,r={}){var o;let i=(n=or(n,Gs))._getSettings(),s=`${e}:${t}`;if(i.host!=="firestore.googleapis.com"&&i.host!==s&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),r.mockUserToken){let a,c;if(typeof r.mockUserToken=="string")a=r.mockUserToken,c=ht.MOCK_USER;else{a=Tw(r.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new G(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new ht(u)}n._authCredentials=new pv(new Nh(a,c))}}var Ws=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},zt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},yo=class n extends Ws{constructor(e,t,r){super(e,t,mf(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new zt(this.firestore,null,new ee(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function LT(n,e,...t){if(n=on(n),FT("collection","path",e),n instanceof Gs){let r=Ke.fromString(e,...t);return V1(r),new yo(n,null,r)}{if(!(n instanceof zt||n instanceof yo))throw new G(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ke.fromString(e,...t));return V1(r),new yo(n.firestore,null,r)}}function a0(n,e,...t){if(n=on(n),arguments.length===1&&(e=Oh.newId()),FT("doc","path",e),n instanceof Gs){let r=Ke.fromString(e,...t);return F1(r),new zt(n,null,new ee(r))}{if(!(n instanceof zt||n instanceof yo))throw new G(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Ke.fromString(e,...t));return F1(r),new zt(n.firestore,n instanceof yo?n.converter:null,new ee(r))}}var sf=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Qh(this,"async_queue_retry"),this.Vu=()=>{let r=dv();r&&K("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=dv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=dv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new er;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return U(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!tc(e))throw e;K("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let o=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Or("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let o=Dy.createAndSchedule(this,e,t,r,i=>this.yu(i));return this.Tu.push(o),o}fu(){this.Eu&&ne()}verifyOperationInProgress(){}wu(){return U(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function L1(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let o=t;for(let i of r)if(i in o&&typeof o[i]=="function")return!0;return!1}(n,["next","error","complete"])}var Lr=class extends Gs{constructor(e,t,r,o){super(e,t,r,o),this.type="firestore",this._queue=new sf,this._persistenceKey=o?.name||"[DEFAULT]"}_terminate(){return U(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new sf(e),this._firestoreClient=void 0,yield e}})}};function jT(n,e){let t=typeof n=="object"?n:xa(),r=typeof n=="string"?n:e||"(default)",o=lp(t,"firestore").getImmediate({identifier:r});if(!o._initialized){let i=Dw("firestore");i&&VT(o,...i)}return o}function l0(n){if(n._terminated)throw new G(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||dj(n),n._firestoreClient}function dj(n){var e,t,r;let o=n._freezeSettings(),i=function(a,c,u,h){return new _v(a,c,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,OT(h.experimentalLongPollingOptions),h.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new Oy(n._authCredentials,n._appCheckCredentials,n._queue,i,n._componentsProvider&&function(a){let c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}var Ql=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(St.fromBase64String(e))}catch(t){throw new G(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ks=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new G(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Yl=class{constructor(e){this._methodName=e}};var Zl=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new G(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new G(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var Xl=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,o){if(r.length!==o.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==o[i])return!1;return!0}(this._values,e._values)}};var hj=/^__.*__$/,Vy=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new sr(e,this.data,this.fieldMask,t,this.fieldTransforms):new di(e,this.data,t,this.fieldTransforms)}},af=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new sr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function BT(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ne()}}var Ly=class n{constructor(e,t,r,o,i,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=o,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:r,xu:!1});return o.Ou(e),o}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:r,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return cf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(BT(this.Cu)&&hj.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},jy=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||vf(e)}Qu(e,t,r,o=!1){return new Ly({Cu:e,methodName:t,qu:r,path:rn.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function c0(n){let e=n._freezeSettings(),t=vf(n._databaseId);return new jy(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fj(n,e,t,r,o,i={}){let s=n.Qu(i.merge||i.mergeFields?2:0,e,t,o);u0("Data must be an object, but it was:",s,r);let a=UT(r,s),c,u;if(i.merge)c=new wn(s.fieldMask),u=s.fieldTransforms;else if(i.mergeFields){let h=[];for(let p of i.mergeFields){let g=By(e,p,t);if(!s.contains(g))throw new G(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);zT(h,g)||h.push(g)}c=new wn(h),u=s.fieldTransforms.filter(p=>c.covers(p.field))}else c=null,u=s.fieldTransforms;return new Vy(new nn(a),c,u)}var lf=class n extends Yl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function pj(n,e,t,r){let o=n.Qu(1,e,t);u0("Data must be an object, but it was:",o,r);let i=[],s=nn.empty();hi(r,(c,u)=>{let h=d0(e,c,t);u=on(u);let p=o.Nu(h);if(u instanceof lf)i.push(h);else{let g=oc(u,p);g!=null&&(i.push(h),s.set(h,g))}});let a=new wn(i);return new af(s,a,o.fieldTransforms)}function mj(n,e,t,r,o,i){let s=n.Qu(1,e,t),a=[By(e,r,t)],c=[o];if(i.length%2!=0)throw new G(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<i.length;g+=2)a.push(By(e,i[g])),c.push(i[g+1]);let u=[],h=nn.empty();for(let g=a.length-1;g>=0;--g)if(!zT(u,a[g])){let v=a[g],D=c[g];D=on(D);let M=s.Nu(v);if(D instanceof lf)u.push(v);else{let S=oc(D,M);S!=null&&(u.push(v),h.set(v,S))}}let p=new wn(u);return new af(h,p,s.fieldTransforms)}function gj(n,e,t,r=!1){return oc(t,n.Qu(r?4:3,e))}function oc(n,e){if($T(n=on(n)))return u0("Unsupported field value:",e,n),UT(n,e);if(n instanceof Yl)return function(r,o){if(!BT(o.Cu))throw o.Bu(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${r._methodName}() is not currently supported inside arrays`);let i=r._toFieldTransform(o);i&&o.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,o){let i=[],s=0;for(let a of r){let c=oc(a,o.Lu(s));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),s++}return{arrayValue:{values:i}}}(n,e)}return function(r,o){if((r=on(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return e3(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let i=gt.fromDate(r);return{timestampValue:qh(o.serializer,i)}}if(r instanceof gt){let i=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:qh(o.serializer,i)}}if(r instanceof Zl)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ql)return{bytesValue:dT(o.serializer,r._byteString)};if(r instanceof zt){let i=o.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw o.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Jy(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Xl)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return Xy(a.serializer,c)})}}}}}}(r,o);throw o.Bu(`Unsupported field value: ${xf(r)}`)}(n,e)}function UT(n,e){let t={};return $1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):hi(n,(r,o)=>{let i=oc(o,e.Mu(r));i!=null&&(t[r]=i)}),{mapValue:{fields:t}}}function $T(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof gt||n instanceof Zl||n instanceof Ql||n instanceof zt||n instanceof Yl||n instanceof Xl)}function u0(n,e,t){if(!$T(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){let r=xf(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function By(n,e,t){if((e=on(e))instanceof Ks)return e._internalPath;if(typeof e=="string")return d0(n,e);throw cf("Field path arguments must be of type string or ",n,!1,void 0,t)}var bj=new RegExp("[~\\*/\\[\\]]");function d0(n,e,t){if(e.search(bj)>=0)throw cf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ks(...e.split("."))._internalPath}catch{throw cf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function cf(n,e,t,r,o){let i=r&&!r.isEmpty(),s=o!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||s)&&(c+=" (found",i&&(c+=` in field ${r}`),s&&(c+=` in document ${o}`),c+=")"),new G(P.INVALID_ARGUMENT,a+n+c)}function zT(n,e){return n.some(t=>t.isEqual(e))}var uf=class{constructor(e,t,r,o,i){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Uy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(h0("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Uy=class extends uf{data(){return super.data()}};function h0(n,e){return typeof e=="string"?d0(n,e):e instanceof Ks?e._internalPath:e._delegate._internalPath}function vj(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new G(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Jl=class{},$y=class extends Jl{};function HT(n,e,...t){let r=[];e instanceof Jl&&r.push(e),r=r.concat(t),function(i){let s=i.filter(c=>c instanceof zy).length,a=i.filter(c=>c instanceof df).length;if(s>1||s>0&&a>0)throw new G(P.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let o of r)n=o._apply(n);return n}var df=class n extends $y{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return GT(e._query,t),new Ws(e.firestore,e.converter,Ov(e._query,t))}_parse(e){let t=c0(e.firestore);return function(i,s,a,c,u,h,p){let g;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new G(P.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){B1(p,h);let v=[];for(let D of p)v.push(j1(c,i,D));g={arrayValue:{values:v}}}else g=j1(c,i,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||B1(p,h),g=gj(a,s,p,h==="in"||h==="not-in");return st.create(u,h,g)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function qT(n,e,t){let r=e,o=h0("where",n);return df._create(o,r,t)}var zy=class n extends Jl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:jn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(o,i){let s=o,a=i.getFlattenedFilters();for(let c of a)GT(s,c),s=Ov(s,c)}(e._query,t),new Ws(e.firestore,e.converter,Ov(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};function j1(n,e,t){if(typeof(t=on(t))=="string"){if(t==="")throw new G(P.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Z1(e)&&t.indexOf("/")!==-1)throw new G(P.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Ke.fromString(t));if(!ee.isDocumentKey(r))throw new G(P.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return u1(n,new ee(r))}if(t instanceof zt)return u1(n,t._key);throw new G(P.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xf(t)}.`)}function B1(n,e){if(!Array.isArray(n)||n.length===0)throw new G(P.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function GT(n,e){let t=function(o,i){for(let s of o)for(let a of s.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new G(P.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new G(P.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var Hy=class{convertValue(e,t="none"){switch(ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(wo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return hi(e,(o,i)=>{r[o]=this.convertValue(i,t)}),r}convertVectorValue(e){var t,r,o;let i=(o=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||o===void 0?void 0:o.map(s=>qe(s.doubleValue));return new Xl(i)}convertGeoPoint(e){return new Zl(qe(e.latitude),qe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Ky(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($l(e));default:return null}}convertTimestamp(e){let t=Fr(e);return new gt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Ke.fromString(e);Me(bT(r));let o=new jh(r.get(1),r.get(3)),i=new ee(r.popFirst(5));return o.isEqual(t)||Or(`Document ${i} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}};function yj(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var oi=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},hf=class extends uf{constructor(e,t,r,o,i,s){super(e,t,r,o,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Ns(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(h0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Ns=class extends hf{data(e={}){return super.data(e)}},qy=class{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new oi(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ns(this._firestore,this._userDataWriter,r.key,r,new oi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new G(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,i){if(o._snapshot.oldDocs.isEmpty()){let s=0;return o._snapshot.docChanges.map(a=>{let c=new Ns(o._firestore,o._userDataWriter,a.doc.key,a.doc,new oi(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}})}{let s=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{let c=new Ns(o._firestore,o._userDataWriter,a.doc.key,a.doc,new oi(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter),u=-1,h=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:wj(a.type),doc:c,oldIndex:u,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function wj(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ne()}}function WT(n){n=or(n,zt);let e=or(n.firestore,Lr);return cj(l0(e),n._key).then(t=>ZT(e,n,t))}var ff=class extends Hy{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ql(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new zt(this.firestore,null,t)}};function KT(n,e,t,...r){n=or(n,zt);let o=or(n.firestore,Lr),i=c0(o),s;return s=typeof(e=on(e))=="string"||e instanceof Ks?mj(i,"updateDoc",n._key,e,t,r):pj(i,"updateDoc",n._key,e),p0(o,[s.toMutation(n._key,Nr.exists(!0))])}function QT(n){return p0(or(n.firestore,Lr),[new Hl(n._key,Nr.none())])}function YT(n,e){let t=or(n.firestore,Lr),r=a0(n),o=yj(n.converter,e);return p0(t,[fj(c0(n.firestore),"addDoc",r._key,o,n.converter!==null,{}).toMutation(r._key,Nr.exists(!1))]).then(()=>r)}function f0(n,...e){var t,r,o;n=on(n);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||L1(e[s])||(i=e[s],s++);let a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(L1(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(o=p.complete)===null||o===void 0?void 0:o.bind(p)}let c,u,h;if(n instanceof zt)u=or(n.firestore,Lr),h=mf(n._key.path),c={next:p=>{e[s]&&e[s](ZT(u,n,p))},error:e[s+1],complete:e[s+2]};else{let p=or(n,Ws);u=or(p.firestore,Lr),h=p._query;let g=new ff(u);c={next:v=>{e[s]&&e[s](new qy(u,g,p,v))},error:e[s+1],complete:e[s+2]},vj(n._query)}return function(g,v,D,M){let S=new rf(M),V=new ef(v,S,D);return g.asyncQueue.enqueueAndForget(()=>U(this,null,function*(){return DT(yield Fy(g),V)})),()=>{S.Za(),g.asyncQueue.enqueueAndForget(()=>U(this,null,function*(){return TT(yield Fy(g),V)}))}}(l0(u),h,a,c)}function p0(n,e){return function(r,o){let i=new er;return r.asyncQueue.enqueueAndForget(()=>U(this,null,function*(){return X3(yield lj(r),o,i)})),i.promise}(l0(n),e)}function ZT(n,e,t){let r=t.docs.get(e._key),o=new ff(n);return new hf(n,o,e._key,r,new oi(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Qs=o})(Rw),wa(new ya("firestore",(r,{instanceIdentifier:o,options:i})=>{let s=r.getProvider("app").getImmediate(),a=new Lr(new mv(r.getProvider("auth-internal")),new yv(r.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new G(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jh(u.options.projectId,h)}(s,o),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Mt(s1,"4.7.3",e),Mt(s1,"4.7.3","esm2017")})();var _f=function(){return _f=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},_f.apply(this,arguments)};var Ij={includeMetadataChanges:!1};function XT(n,e){return e===void 0&&(e=Ij),new ae(function(t){var r=f0(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function JT(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:_f(_f({},r),(t={},t[e.idField]=n.id,t))}function eS(n){return XT(n,{includeMetadataChanges:!0}).pipe(J(function(e){return e.docs}))}function tS(n,e){return e===void 0&&(e={}),eS(n).pipe(J(function(t){return t.map(function(r){return JT(r,e)})}))}var jr=class{constructor(e){return e}},nS="firestore",m0=class{constructor(){return kl(nS)}};var g0=new z("angularfire2.firestore-instances");function Ej(n,e){let t=Wb(nS,n,e);return t&&new jr(t)}function Cj(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new jr(r)}}var Dj={provide:m0,deps:[[new Lt,g0]]},Tj={provide:jr,useFactory:Ej,deps:[[new Lt,g0],ei]};function b0(n,...e){return Mt("angularfire",Fn.full,"fst"),Kn([Tj,Dj,{provide:g0,useFactory:Cj(n),multi:!0,deps:[ye,Vt,Jo,Ml,[new Lt,Th],[new Lt,go],...e]}])}var v0=tn(tS,!0);var rS=tn(YT,!0);var ic=tn(LT,!0);var oS=tn(QT,!0);var If=tn(a0,!0);var iS=tn(WT,!0);var y0=tn(jT,!0);var sS=tn(HT,!0);var aS=tn(KT,!0);var lS=tn(qT,!0);var Zs=class n{constructor(e,t){this.fireStore=e;this.authService=t}commandes=[];getCommandes(){return this.commandes}getUserOrders(){let e=this.authService.UserId,t=ic(this.fireStore,"orders"),r=sS(t,lS("userId","==",e));return v0(r,{idField:"id"})}addCommande(e,t,r){let o=t.map(a=>({produitId:a.produit.id,description:a.produit.description,quantite:a.qte})),i={userId:e,montant:r,dateCommande:new Date,details:o},s=ic(this.fireStore,"orders");rS(s,i).then(()=>console.log("Commande cr\xE9\xE9e avec succ\xE8s",i)).catch(a=>console.log("Erreur lors de la cr\xE9ation de la commande",a))}getAllOrders(){let e=ic(this.fireStore,"orders");return v0(e,{idField:"id"})}getOrderId(e){let t=ic(this.fireStore,"orders"),r=If(this.fireStore,"orders",e);return iS(r)}updateOrder(e){let t=If(this.fireStore,"products",e);aS(t,{name:"updated name",montant:1e3}).then(()=>console.log(`Order with ${e} updated successfully ! `)).catch(o=>console.log(o))}deleteOrder(e){let t=If(this.fireStore,"orders",e);oS(t).then(()=>console.log("data deleted !")).catch(r=>console.log(r))}static \u0275fac=function(t){return new(t||n)(B(jr),B(dt))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function Aj(n,e){if(n&1){let t=Zt();T(0,"div",19)(1,"div",20),Y(2,"img",21),T(3,"div",22)(4,"h5",23),R(5),A(),T(6,"p",24)(7,"strong"),R(8,"Price:"),A(),R(9),A(),T(10,"div",25)(11,"button",26),_e("click",function(){let o=lt(t).$implicit,i=Ae(2);return ct(i.decrementQuantity(o.produit))}),R(12,"-"),A(),T(13,"span"),R(14),A(),T(15,"button",26),_e("click",function(){let o=lt(t).$implicit,i=Ae(2);return ct(i.incrementQuantity(o.produit))}),R(16,"+"),A()(),T(17,"p",27)(18,"strong"),R(19,"Total:"),A(),R(20),A(),T(21,"button",28),_e("click",function(){let o=lt(t).$implicit,i=Ae(2);return ct(i.removeItem(o.produit))}),R(22," Remove "),Y(23,"i",29),A()()()()}if(n&2){let t=e.$implicit;q(2),Ba("alt",t.produit.description),Z("src",t.produit.thumbnail,zo),q(3),Ut(t.produit.description),q(4),Et(" ",t.produit.price," USD"),q(5),Ut(t.qte),q(6),Et(" ",t.qte*t.produit.price," USD")}}function kj(n,e){if(n&1&&(T(0,"div",17),ve(1,Aj,24,6,"div",18),A()),n&2){let t=Ae();q(),Z("ngForOf",t.detailsPanier)}}function Mj(n,e){n&1&&(T(0,"div",14)(1,"h5"),R(2,"No products in the cart"),A(),T(3,"p"),R(4,"Please browse our products and add them to your cart."),A()())}var Ef=class n{constructor(e,t,r,o){this.servicePanel=e;this.router=t;this.commandeService=r;this.authService=o}detailsPanier=[];montantTotal=0;ngOnInit(){this.servicePanel.getAllCartProducts().subscribe(e=>{this.detailsPanier=e,this.updatePanierDetails()})}updatePanierDetails(){this.montantTotal=this.totalPrice}validerPanier(){this.detailsPanier.length>0?(console.log("valider comm"+this.authService.UserId),this.commandeService.addCommande(this.authService.UserId,this.detailsPanier,this.montantTotal),console.log("Commande valid\xE9e !"),this.router.navigate(["/mes-commandes"]),this.detailsPanier=[],this.montantTotal=0,this.servicePanel.clearCart()):console.log("Le panier est vide")}get totalPrice(){return this.detailsPanier.reduce((e,t)=>e+t.qte*t.produit.price,0)}incrementQuantity(e){this.servicePanel.incrementQuantity(e)}decrementQuantity(e){this.servicePanel.decrementQuantity(e)}removeItem(e){this.servicePanel.removeItem(e)}continueShopping(){this.router.navigate(["/"])}static \u0275fac=function(t){return new(t||n)(O(Ts),O(We),O(Zs),O(dt))};static \u0275cmp=$e({type:n,selectors:[["app-panier"]],standalone:!0,features:[He],decls:30,vars:4,consts:[["Empty",""],["id","panier-items"],[1,"container","text-center","mt-5","py-5"],["src","https://tse4.mm.bing.net/th?id=OIP.TZB7xx-eSpjQcjX3tfUYSwHaHa&pid=Api&P=0&h=180","alt","Cart Icon",2,"height","140px"],[1,"mx-auto"],["src","https://tse1.mm.bing.net/th?id=OIP.RYwKPeMKqUiHa5B7emHvYQHaHa&pid=Api&P=0&h=180","alt","Favorite Icon",2,"height","30px"],[1,"container","my-5"],[1,"row"],[1,"col-lg-8"],["class","d-flex flex-wrap",4,"ngIf","ngIfElse"],[1,"col-lg-4"],[1,"cart-summary","p-4","bg-light","shadow-sm","rounded"],[1,"text-center"],[1,"btn","btn-primary","w-100","mt-3"],[1,"text-center","my-5"],[1,"btn","btn-primary","me-2",3,"click"],[1,"btn","btn-success",3,"click"],[1,"d-flex","flex-wrap"],["class","d-flex mb-4 p-3",4,"ngFor","ngForOf"],[1,"d-flex","mb-4","p-3"],[1,"card","h-100","shadow","d-flex","flex-row",2,"width","100%"],[1,"card-img-left",2,"width","180px","height","140px","object-fit","cover","border-radius","5px 0 0 5px",3,"src","alt"],[1,"card-body","d-flex","flex-column","justify-content-between",2,"width","calc(100% - 180px)"],[1,"card-title"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center","my-2"],[1,"btn","btn-sm","btn-outline-secondary",3,"click"],[1,"text-right","mb-2"],[1,"btn","btn-sm","btn-danger","w-100",3,"click"],[1,"fas","fa-trash-alt"]],template:function(t,r){if(t&1){let o=Zt();T(0,"section",1)(1,"div",2),Y(2,"img",3)(3,"hr",4),T(4,"p"),Y(5,"img",5),R(6," Your favorite items are waiting. Don\u2019t wait to complete your order. "),A()()(),T(7,"div",6)(8,"div",7)(9,"div",8),ve(10,kj,2,1,"div",9)(11,Mj,5,0,"ng-template",null,0,fd),A(),T(13,"div",10)(14,"div",11)(15,"h5",12),R(16,"Cart Summary"),A(),Y(17,"hr"),T(18,"h4")(19,"strong"),R(20,"Total:"),A(),R(21),A(),T(22,"button",13),R(23),A()()()(),T(24,"div",14),Y(25,"hr"),T(26,"button",15),_e("click",function(){return lt(o),ct(r.continueShopping())}),R(27,"Continue Shopping"),A(),T(28,"button",16),_e("click",function(){return lt(o),ct(r.validerPanier())}),R(29,"Place Order"),A()()()}if(t&2){let o=ud(12);q(10),Z("ngIf",r.detailsPanier.length>0)("ngIfElse",o),q(11),Et(" ",r.totalPrice," USD"),q(2),Et("Checkout (",r.totalPrice," USD)")}},dependencies:[Je,gn,Ct],styles:[".orders-section[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:2rem 1rem;border-radius:8px}.card[_ngcontent-%COMP%]{flex-direction:row;border-radius:5px}.card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.card-img-left[_ngcontent-%COMP%]{border-radius:5px 0 0 5px}.cart-summary[_ngcontent-%COMP%]{max-width:320px;margin-top:20px}.btn-danger[_ngcontent-%COMP%]{background:linear-gradient(45deg,#ff4a4a,#ff9a9a);color:#fff;border:none}.btn-primary[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]{background:linear-gradient(45deg,#007bff,#00ff96);color:#fff}.btn-outline-secondary[_ngcontent-%COMP%]{background-color:transparent;color:#555;border:1px solid #ddd;border-radius:5px}hr[_ngcontent-%COMP%]{border-top:1px solid #eee}"]})};var Cf=class{id=0;thumbnail="";description="";category="";price=0;stock=0;constructor(e,t,r,o,i,s){this.id=e,this.thumbnail=t,this.description=r,this.category=o,this.price=i,this.stock=s}};var ar=class n{constructor(e){this.http=e}baseUrl="https://dummyjson.com/products";getProducts(){return this.http.get("https://dummyjson.com/products")}getAllCategories(){return this.http.get("https://dummyjson.com/products/category-list")}getProductsByCategory(e){return this.http.get(`https://dummyjson.com/products/category/${e}`).pipe(J(t=>t.products.map(r=>new Cf(r.id,r.thumbnail,r.description,r.category,r.price,r.stock))))}getProductById(e){return this.http.get(`${this.baseUrl}/${e}`)}getComments(e){return this.http.get(`https://dummyjson.com/comments/${e}`)}static \u0275fac=function(t){return new(t||n)(B(Ka))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var Rj=()=>[1,2,3,4,5,6,7,8,9,10],Pj=n=>({active:n});function Nj(n,e){n&1&&(T(0,"button",18),R(1,"Out of Stock"),A())}function Oj(n,e){if(n&1){let t=Zt();T(0,"span",19),_e("click",function(){let o=lt(t).$implicit,i=Ae();return ct(i.rateProduct(o))}),R(1," \u2605 "),A()}if(n&2){let t=e.$implicit,r=Ae();Z("ngClass",es(1,Pj,t<=r.selectedRating))}}function Fj(n,e){if(n&1){let t=Zt();T(0,"div",22)(1,"div",23),Y(2,"img",24),A(),T(3,"div",25)(4,"p",26),R(5),A(),T(6,"button",27),_e("click",function(){let o=lt(t).index,i=Ae(2);return ct(i.deleteComment(o))}),R(7,"Delete"),A()()()}if(n&2){let t=e.$implicit;q(5),Ut(t.commentaire)}}function Vj(n,e){if(n&1&&(T(0,"div",20)(1,"h5"),R(2,"Comments:"),A(),ve(3,Fj,8,1,"div",21),A()),n&2){let t=Ae();q(3),Z("ngForOf",t.comments)}}var pi=class n{constructor(e,t,r){this.route=e;this.productService=t;this.authService=r}product;comment;comments=[];newComment="";selectedRating=0;isUserLoggedIn(){return this.authService.isAuthenticated()}rateProduct(e){this.isUserLoggedIn()?this.selectedRating=e:alert("You must be logged in to rate this product.")}ngOnInit(){let e=this.route.snapshot.paramMap.get("id");e&&this.productService.getProductById(+e).subscribe(t=>{this.product=t})}submitComment1(){if(this.isUserLoggedIn())if(this.newComment.trim()){let e={id:this.comments.length+1,commentaire:this.newComment,rating:this.selectedRating};this.comments.push(e),this.newComment=""}else alert("Comment field is empty.");else alert("You must be logged in to submit a comment.")}deleteComment(e){this.comments.splice(e,1)}static \u0275fac=function(t){return new(t||n)(O(yn),O(ar),O(dt))};static \u0275cmp=$e({type:n,selectors:[["app-datail-product"]],inputs:{product:"product",comment:"comment"},standalone:!0,features:[He],decls:39,vars:12,consts:[["id","panier-items",1,"text-center"],[1,"container","mt-5","py-5"],["src","https://tse4.mm.bing.net/th?id=OIP.TZB7xx-eSpjQcjX3tfUYSwHaHa&pid=Api&P=0&h=180",2,"height","80px"],[1,"mx-auto"],["src","https://tse1.mm.bing.net/th?id=OIP.RYwKPeMKqUiHa5B7emHvYQHaHa&pid=Api&P=0&h=180",2,"height","30px"],[1,"product-container","d-flex","justify-content-between","align-items-start",2,"margin-top","10px"],[1,"product-image",2,"margin-left","5%"],[3,"src","alt"],[1,"product-details",2,"margin-left","5%"],[1,"product-actions"],["class","btn-disabled","disabled","",4,"ngIf"],[1,"rating-section","mt-4",2,"margin-left","31%"],[1,"star-rating"],["class","star",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"comment-section","mt-4"],["rows","5","placeholder","Write your comment here...",1,"form-control","comment-input",3,"ngModelChange","ngModel"],[1,"btn","btn-primary","mt-3","submit-button",3,"click"],["class","comment-list mt-4",4,"ngIf"],["disabled","",1,"btn-disabled"],[1,"star",3,"click","ngClass"],[1,"comment-list","mt-4"],["class","comment-item d-flex align-items-start mb-3",4,"ngFor","ngForOf"],[1,"comment-item","d-flex","align-items-start","mb-3"],[1,"comment-avatar"],["src","https://tse2.mm.bing.net/th?id=OIP.dHYGk2RscB7-3tATNN7jVwHaHa&pid=Api&P=0&h=180","alt","User Avatar"],[1,"comment-content"],[1,"comment-text"],[1,"btn","btn-sm","btn-danger","delete-button",3,"click"]],template:function(t,r){t&1&&(T(0,"section",0)(1,"div",1),Y(2,"img",2)(3,"hr",3),T(4,"p"),Y(5,"img",4),R(6," About this Product"),A()()(),T(7,"div",5)(8,"div",6),Y(9,"img",7),A(),T(10,"div",8)(11,"h3"),R(12),A(),T(13,"h4"),R(14),A(),T(15,"p"),R(16),A(),T(17,"p")(18,"strong"),R(19),A()(),T(20,"p")(21,"strong"),R(22,"Stock:"),A(),T(23,"span"),R(24),A()()(),T(25,"div",9),ve(26,Nj,2,0,"button",10),A()(),T(27,"div",11)(28,"h5"),R(29,"Rate this product:"),A(),T(30,"div",12),ve(31,Oj,2,3,"span",13),A()(),T(32,"div",14)(33,"h5"),R(34,"Leave a Comment:"),A(),T(35,"textarea",15),$a("ngModelChange",function(i){return dd(r.newComment,i)||(r.newComment=i),i}),A(),T(36,"button",16),_e("click",function(){return r.submitComment1()}),R(37,"Submit"),A()(),ve(38,Vj,4,1,"div",17)),t&2&&(q(9),Ba("alt",r.product.description),Z("src",r.product.thumbnail,zo),q(3),Ut(r.product.description),q(2),Ut(r.product.category),q(2),Ut(r.product.description),q(3),Et("",r.product.price," USD"),q(5),Ut(r.product.stock>0?"Available":"Out of stock"),q(2),Z("ngIf",r.product.stock===0),q(5),Z("ngForOf",hd(11,Rj)),q(4),Ua("ngModel",r.newComment),q(3),Z("ngIf",r.comments.length>0))},dependencies:[Je,Md,gn,Ct,bh,Zn,mo,Tl],styles:[".product-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:20px;margin-bottom:20px;font-family:Arial,sans-serif}.product-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:300px;height:300px;transition:transform .3s ease}.product-image[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:scale(2)}.product-details[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:3em;font-weight:700;color:#333}.product-details[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:1.5em;color:#666}.product-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:10px 0}.product-details[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#b12704}.product-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-end}.product-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px;padding:10px 20px;background-color:#007bff;border:none;color:#fff;font-size:1em;cursor:pointer;transition:background-color .3s ease}.product-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.btn-clicked[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_clickEffect .2s ease forwards}@keyframes _ngcontent-%COMP%_clickEffect{0%{transform:scale(1)}50%{transform:scale(.95)}to{transform:scale(1)}}.star-rating[_ngcontent-%COMP%]   .star[_ngcontent-%COMP%]{font-size:30px;color:#ddd;cursor:pointer;transition:color .3s}.star-rating[_ngcontent-%COMP%]   .star.active[_ngcontent-%COMP%]{color:#ffc107}.comment-section[_ngcontent-%COMP%]{max-width:600px;margin-left:31%}.comment-input[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:5px;padding:10px;font-size:16px;transition:border-color .3s}.comment-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none;box-shadow:0 0 5px #007bff80}.submit-button[_ngcontent-%COMP%]{background:linear-gradient(45deg,#007bffcc,#00ff96cc);box-shadow:0 4px 6px #0000001a;height:50px;border-radius:5px}.comment-list[_ngcontent-%COMP%]{max-width:600px;margin-left:31%;margin-bottom:10%;padding-top:10px}.comment-item[_ngcontent-%COMP%]{display:flex;align-items:flex-start;padding:10px;border:1px solid #e0e0e0;border-radius:8px;background-color:#f9f9f9;box-shadow:0 2px 5px #0000001a;margin-bottom:15px}.comment-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;margin-right:15px}.comment-content[_ngcontent-%COMP%]{flex:1}.comment-text[_ngcontent-%COMP%]{margin:0 0 10px;font-size:15px;color:#333}.delete-button[_ngcontent-%COMP%]{font-size:12px;padding:5px 10px}"]})};var Lj=n=>({color:n}),jj=n=>["/detail-product",n],Bj=n=>({"btn-clicked":n});function Uj(n,e){if(n&1){let t=Zt();T(0,"button",12),_e("click",function(){lt(t);let o=Ae();return ct(o.addToCart())}),R(1," Buy Now "),A()}if(n&2){let t=Ae();Z("ngClass",es(1,Bj,t.isClicked))}}var Xs=class n{constructor(e){this.servicePanel=e}product;selectedProductDetail=new Oe;isClicked=!1;selectProduct(){this.selectedProductDetail.emit(this.product)}addToCart(){this.isClicked=!0,this.servicePanel.onProductAdded(this.product),setTimeout(()=>{this.isClicked=!1},200)}getState(e){return e>0?"In stock":"Out of stock"}getColor(e){return e>0?"green":"red"}alerter(){console.log("Product added successfully!")}static \u0275fac=function(t){return new(t||n)(O(Ts))};static \u0275cmp=$e({type:n,selectors:[["app-product-item"]],inputs:{product:"product"},outputs:{selectedProductDetail:"selectedProductDetail"},standalone:!0,features:[He],decls:21,vars:12,consts:[[1,"card","mb-4","product-card"],[1,"card-img-top",3,"src"],[1,"rating"],[1,"bi","bi-star-fill",2,"color","gold"],[1,"bi","bi-star-half",2,"color","gold"],[1,"card-body"],[3,"ngStyle"],[1,"card-title"],[1,"card-text"],[1,"card-footer"],["class","btn btn-primary","style","background: linear-gradient(45deg, rgba(0,123,255,0.8), rgba(0,255,150,0.8)); box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); height: 50px;",3,"ngClass","click",4,"ngIf"],[2,"color","blue",3,"click","routerLink"],[1,"btn","btn-primary",2,"background","linear-gradient(45deg, rgba(0,123,255,0.8), rgba(0,255,150,0.8))","box-shadow","0 4px 6px rgba(0, 0, 0, 0.1)","height","50px",3,"click","ngClass"]],template:function(t,r){t&1&&(T(0,"div",0),Y(1,"img",1),T(2,"div",2),Y(3,"i",3)(4,"i",3)(5,"i",3)(6,"i",3)(7,"i",4),A(),T(8,"div",5)(9,"span",6),R(10),A(),T(11,"h5",7),R(12),A(),T(13,"p",8),R(14),A(),T(15,"p",8),R(16),A()(),T(17,"div",9),ve(18,Uj,2,3,"button",10),A(),T(19,"a",11),_e("click",function(){return r.selectProduct()}),R(20," View Details "),A()()),t&2&&(q(),Z("src",r.product.thumbnail,zo),q(8),Z("ngStyle",es(8,Lj,r.getColor(r.product.stock))),q(),Ut(r.getState(r.product.stock)),q(2),Ut(r.product.description),q(2),Et("Price: ",r.product.price,"USD"),q(2),Et("Category: ",r.product.category,""),q(2),Z("ngIf",r.product.stock>0),q(),Z("routerLink",es(10,jj,r.product.id)))},dependencies:[Je,Md,Ct,$E,On,ho],styles:[".container[_ngcontent-%COMP%]{margin-top:20px}.product-card[_ngcontent-%COMP%]{width:220px;height:400px;margin:0 10px;display:flex;flex-direction:column;justify-content:space-between;border-radius:10px;transition:transform .3s ease,box-shadow .3s ease}.product-card[_ngcontent-%COMP%]:hover{box-shadow:0 8px 15px #00000026;transform:translateY(-5px)}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;max-height:150px;object-fit:cover;border-radius:10px 10px 0 0;transition:transform .3s ease}.product-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.card-body[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:15px;max-height:200px;overflow-y:auto;-ms-overflow-style:none;scrollbar-width:none}.card-body[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-weight:700;color:#004085;margin-bottom:10px}.card-body[_ngcontent-%COMP%]   .card-text[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:10px;flex-grow:1}.card-footer[_ngcontent-%COMP%]{background-color:transparent;text-align:center;padding:10px 0}.card-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:#004085;border:none;border-radius:5px;color:#fff;padding:8px 15px;font-size:14px;transition:background-color .3s ease}.card-footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#036}.row[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;padding-left:15px;padding-right:15px;justify-content:center}.rating[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:gold;font-size:1.5em}.btn-clicked[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_clickEffect .2s ease forwards}@keyframes _ngcontent-%COMP%_clickEffect{0%{transform:scale(1)}50%{transform:scale(.95)}to{transform:scale(1)}}"]})};var Tf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$e({type:n,selectors:[["app-footer"]],standalone:!0,features:[He],decls:58,vars:0,consts:[[1,"footer","text-white"],[1,"container"],[1,"row"],[1,"col-lg-4","col-md-6","mb-4"],[1,"fw-bold"],[1,"text-muted"],[1,"col-lg-2","col-md-6","mb-4"],[1,"list-unstyled"],["href","/",1,"text-white","text-decoration-none"],["href","/shop",1,"text-white","text-decoration-none"],["href","/contact",1,"text-white","text-decoration-none"],["href","/about",1,"text-white","text-decoration-none"],["href","/faq",1,"text-white","text-decoration-none"],["href","/shipping",1,"text-white","text-decoration-none"],["href","/privacy",1,"text-white","text-decoration-none"],["href","/terms",1,"text-white","text-decoration-none"],["href","#",1,"text-white","me-3"],[1,"bi","bi-facebook"],[1,"bi","bi-instagram"],[1,"bi","bi-twitter"],[1,"bi","bi-linkedin"],[1,"row","mt-4"],[1,"col-12","text-center"]],template:function(t,r){t&1&&(T(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h5",4),R(5,"About Us"),A(),T(6,"p",5),R(7," We are a leading e-commerce platform offering a wide range of products at the best prices. Our goal is to provide a seamless shopping experience to all our customers. "),A()(),T(8,"div",6)(9,"h5",4),R(10,"Quick Links"),A(),T(11,"ul",7)(12,"li")(13,"a",8),R(14,"Home"),A()(),T(15,"li")(16,"a",9),R(17,"Shop"),A()(),T(18,"li")(19,"a",10),R(20,"Contact"),A()(),T(21,"li")(22,"a",11),R(23,"About Us"),A()()()(),T(24,"div",6)(25,"h5",4),R(26,"Customer Service"),A(),T(27,"ul",7)(28,"li")(29,"a",12),R(30,"FAQ"),A()(),T(31,"li")(32,"a",13),R(33,"Shipping & Returns"),A()(),T(34,"li")(35,"a",14),R(36,"Privacy Policy"),A()(),T(37,"li")(38,"a",15),R(39,"Terms of Service"),A()()()(),T(40,"div",3)(41,"h5",4),R(42,"Stay Connected"),A(),T(43,"p",5),R(44,"Follow us on our social media platforms for the latest updates and offers!"),A(),T(45,"div")(46,"a",16),Y(47,"i",17),A(),T(48,"a",16),Y(49,"i",18),A(),T(50,"a",16),Y(51,"i",19),A(),T(52,"a",16),Y(53,"i",20),A()()()(),T(54,"div",21)(55,"div",22)(56,"p",5),R(57,"\xA9 2024 E-Commerce Inc. All rights reserved."),A()()()()())},styles:[".footer[_ngcontent-%COMP%]{padding:60px 0;background-color:#7ecfcf}.footer[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#fff;margin-bottom:20px}.footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#adb5bd;font-size:14px}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff;text-decoration:none}.footer[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border:none;border-radius:0;box-shadow:none;padding:10px}.footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background-color:linear-gradient(45deg,rgba(0,123,255,.8),rgba(0,255,150,.8));border:none;padding:10px 20px}.footer[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px}.footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.footer[_ngcontent-%COMP%]   .social-icons[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff}"]})};var Js=class n{searchTerm=new Ge("");currentSearchTerm=this.searchTerm.asObservable();constructor(){}updateSearchTerm(e){this.searchTerm.next(e)}static \u0275fac=function(t){return new(t||n)};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};function $j(n,e){if(n&1){let t=Zt();T(0,"div",11)(1,"app-product-item",12),_e("productSelected",function(){let o=lt(t).$implicit,i=Ae(2);return ct(i.selectProduct(o))}),R(2,'" > '),A()()}if(n&2){let t=e.$implicit;q(),Z("product",t)}}function zj(n,e){if(n&1&&(T(0,"div")(1,"div",9),ve(2,$j,3,1,"div",10),A()()),n&2){let t=Ae();q(2),Z("ngForOf",t.filteredProducts)}}function Hj(n,e){if(n&1&&(T(0,"div",13),Y(1,"app-datail-product",14),A()),n&2){let t=Ae();q(),Z("product",t.selectedProduct)}}function qj(n,e){n&1&&(T(0,"div",1)(1,"h4"),Y(2,"img",15),R(3," No product found. "),A()())}var Sf=class n{constructor(e,t){this.productService=e;this.searchService=t}filteredProducts=[];selectedProduct=null;produits=[];ngOnInit(){this.productService.getProducts().subscribe(e=>{this.produits=e.products||[],this.filteredProducts=[...this.produits]}),this.searchService.currentSearchTerm.subscribe(e=>{this.produits.length>0&&(this.filteredProducts=this.produits.filter(t=>t.description.toLowerCase().includes(e.toLowerCase())))})}selectProduct(e){this.selectedProduct=e}static \u0275fac=function(t){return new(t||n)(O(ar),O(Js))};static \u0275cmp=$e({type:n,selectors:[["app-produit-item"]],standalone:!0,features:[He],decls:13,vars:3,consts:[["id","panier-items",1,""],[1,"container","text-center","mt-5","py-5"],["src","https://tse4.mm.bing.net/th?id=OIP.TZB7xx-eSpjQcjX3tfUYSwHaHa&pid=Api&P=0&h=180",2,"height","140px"],[1,"mx-auto"],["src","https://tse1.mm.bing.net/th?id=OIP.RYwKPeMKqUiHa5B7emHvYQHaHa&pid=Api&P=0&h=180",2,"height","30px"],[1,"container"],[4,"ngIf"],["class","container mt-5",4,"ngIf"],["class","container text-center mt-5 py-5",4,"ngIf"],[1,"row","justify-content-center"],["class","col-md-3",4,"ngFor","ngForOf"],[1,"col-md-3"],[3,"productSelected","product"],[1,"container","mt-5"],[3,"product"],["src","https://tse2.mm.bing.net/th?id=OIP.PkfFxW4TbXUp6Abm-lZKOwHaHa&pid=Api&P=0&h=180",2,"height","100px"]],template:function(t,r){t&1&&(T(0,"div")(1,"section",0)(2,"div",1),Y(3,"img",2)(4,"hr",3),T(5,"p"),Y(6,"img",4),R(7,"Browse products loved by our customers."),A()()(),T(8,"div",5),ve(9,zj,3,1,"div",6)(10,Hj,2,1,"div",7)(11,qj,4,0,"div",8),A()(),Y(12,"app-footer")),t&2&&(q(9),Z("ngIf",r.filteredProducts.length>0),q(),Z("ngIf",r.selectedProduct),q(),Z("ngIf",r.filteredProducts.length===0))},dependencies:[Je,gn,Ct,Tf,Xs,pi],styles:[".orders-section[_ngcontent-%COMP%]{background-color:#f9f9f9;border-radius:8px;padding:2rem 1rem}.order-icon[_ngcontent-%COMP%]{height:80px}.order-welcome[_ngcontent-%COMP%]{font-size:1.1rem;color:#555}h2[_ngcontent-%COMP%]{font-weight:700;color:#333}"]})};function Gj(n,e){if(n&1&&(T(0,"li",15),R(1),A()),n&2){let t=e.$implicit;q(),Eg(" - ",t.description," (",t.quantite," pcs) ")}}function Wj(n,e){if(n&1&&(T(0,"li",12)(1,"strong"),R(2,"Order ID:"),A(),R(3),Y(4,"br"),T(5,"strong"),R(6,"Amount:"),A(),R(7),Y(8,"br"),T(9,"strong"),R(10,"Date:"),A(),R(11),gE(12,"date"),Y(13,"br"),T(14,"strong"),R(15,"Details:"),A(),T(16,"ul",13),ve(17,Gj,2,2,"li",14),A()()),n&2){let t=e.$implicit,r=Ae(2);q(3),Et(" ",t.id," "),q(4),Et(" ",t.montant," MAD "),q(4),Et(" ",bE(12,4,r.convertTimestampToDate(t.dateCommande),"short"),""),q(6),Z("ngForOf",t.details)}}function Kj(n,e){if(n&1&&(T(0,"div")(1,"ul",10),ve(2,Wj,18,7,"li",11),A()()),n&2){let t=Ae();q(2),Z("ngForOf",t.commandes)}}function Qj(n,e){n&1&&(T(0,"div",16),Y(1,"img",17),T(2,"p"),R(3,"No orders found."),A()())}var Af=class n{constructor(e,t){this.commandeService=e;this.router=t}commandes=[];ngOnInit(){this.commandeService.getUserOrders().subscribe(e=>{this.commandes=e})}convertTimestampToDate(e){return new Date(e.seconds*1e3)}static \u0275fac=function(t){return new(t||n)(O(Zs),O(We))};static \u0275cmp=$e({type:n,selectors:[["app-mes-commandes"]],standalone:!0,features:[He],decls:13,vars:2,consts:[["noOrders",""],["id","panier-items",1,"orders-section"],[1,"container","text-center","mt-5","py-5"],[1,"cart-header"],["src","https://tse4.mm.bing.net/th?id=OIP.TZB7xx-eSpjQcjX3tfUYSwHaHa&pid=Api&P=0&h=180","alt","Cart Icon",1,"cart-icon"],[1,"divider","mx-auto"],[1,"orders-title"],[1,"order-welcome"],["src","https://tse1.mm.bing.net/th?id=OIP.RYwKPeMKqUiHa5B7emHvYQHaHa&pid=Api&P=0&h=180","alt","Welcome Icon",1,"welcome-icon"],[4,"ngIf","ngIfElse"],[1,"order-list"],["class","order-item",4,"ngFor","ngForOf"],[1,"order-item"],[1,"product-list"],["class","product-item",4,"ngFor","ngForOf"],[1,"product-item"],[1,"no-orders"],["src","https://tse1.mm.bing.net/th?id=OIP.Qz8fnVfb4edWZJ4XXliD_gHaHa&pid=Api&P=0&h=180","alt","No Orders Icon",1,"no-orders-icon"]],template:function(t,r){if(t&1&&(T(0,"section",1)(1,"div",2)(2,"div",3),Y(3,"img",4)(4,"hr",5),T(5,"h2",6),R(6,"My Orders"),A(),T(7,"p",7),Y(8,"img",8),R(9," Welcome to your orders. Here is a summary of all your recent purchases. "),A()(),ve(10,Kj,3,1,"div",9)(11,Qj,4,0,"ng-template",null,0,fd),A()()),t&2){let o=ud(12);q(10),Z("ngIf",r.commandes.length>0)("ngIfElse",o)}},dependencies:[Je,gn,Ct,zE],styles:[".orders-section[_ngcontent-%COMP%]{background-color:#fff;padding:2rem 1rem;border-radius:8px}.order-icon[_ngcontent-%COMP%]{height:80px}.order-welcome[_ngcontent-%COMP%]{font-size:1.1rem;color:#555}h2[_ngcontent-%COMP%]{font-weight:700;color:#333}.order-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;margin-top:2rem}.order-card[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ddd;border-radius:10px;padding:1.5rem;box-shadow:0 4px 8px #0000001a}.order-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #eee;padding-bottom:.5rem;margin-bottom:1rem}.order-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;color:#007bff}.order-date[_ngcontent-%COMP%]{font-size:.9rem;color:#666}.order-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.5rem 0}.order-footer[_ngcontent-%COMP%]{text-align:right}.btn-primary[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:.5rem 1rem;border-radius:4px;cursor:pointer}.orders-section[_ngcontent-%COMP%]{background-color:#f9f9f9;padding:40px 20px;border-radius:8px;box-shadow:0 4px 10px #0000001a}.cart-icon[_ngcontent-%COMP%]{height:140px;margin-bottom:15px}.orders-title[_ngcontent-%COMP%]{font-size:2rem;color:#333;margin-top:10px}.order-welcome[_ngcontent-%COMP%]{color:#666;font-size:1.1rem;margin:20px 0}.welcome-icon[_ngcontent-%COMP%]{height:30px;margin-right:8px;vertical-align:middle}.divider[_ngcontent-%COMP%]{width:60px;border:2px solid #23cec5}.order-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin-top:30px}.order-item[_ngcontent-%COMP%]{background-color:#69dfd9;border:1px solid #ddd;padding:15px 20px;border-radius:6px;margin-bottom:20px;box-shadow:0 2px 5px #0000000d}.product-list[_ngcontent-%COMP%]{list-style:none;padding-left:20px;margin-top:10px}.product-item[_ngcontent-%COMP%]{color:#000;font-size:1rem}.no-orders[_ngcontent-%COMP%]{text-align:center;margin-top:30px;color:#888}.no-orders-icon[_ngcontent-%COMP%]{height:100px;margin-bottom:10px}.no-orders[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.2rem;color:#555}"]})};function Yj(n,e){n&1&&(T(0,"div",19)(1,"small"),R(2,"Full name is required."),A()())}function Zj(n,e){n&1&&(T(0,"small"),R(1,"Email is required."),A())}function Xj(n,e){n&1&&(T(0,"small"),R(1,"Please enter a valid email address."),A())}function Jj(n,e){if(n&1&&(T(0,"div",19),ve(1,Zj,2,0,"small",20)(2,Xj,2,0,"small",20),A()),n&2){let t=Ae();q(),Z("ngIf",t.formControls.email.errors==null?null:t.formControls.email.errors.required),q(),Z("ngIf",t.formControls.email.errors==null?null:t.formControls.email.errors.email)}}function e4(n,e){n&1&&(T(0,"div",19)(1,"small"),R(2,"Password is required."),A()())}function t4(n,e){n&1&&(T(0,"div",19)(1,"small"),R(2,"Confirm password is required."),A()())}function n4(n,e){n&1&&(T(0,"div",19)(1,"small"),R(2,"You must agree to the terms and conditions."),A()())}var kf=class n{constructor(e,t,r){this.fb=e;this.authService=t;this.router=r;this.registerForm=this.fb.group({fullName:["",Gt.required],email:["",[Gt.required,Gt.email]],password:["",[Gt.required,Gt.minLength(6)]],confirmPassword:["",Gt.required],terms:[!1,Gt.requiredTrue]},{validator:this.passwordMatchValidator})}registerForm;email="";password="";token;passwordMatchValidator(e){let t=e.get("password")?.value,r=e.get("confirmPassword")?.value;return t===r?null:{mismatch:!0}}onRegister(){if(this.registerForm.invalid){console.log("Le formulaire est invalide");return}let e=this.registerForm.value.email.trim(),t=this.registerForm.value.password;console.log("Tentative de connexion avec l'email :",e),this.authService.register(e,t).then(r=>{this.router.navigate(["mes-commandes"]),localStorage.setItem("accessToken",r.user.multiFactor.user.accessToken),localStorage.setItem("auth","true"),this.authService.isAuthBehav.next(!0)},r=>{console.log("Erreur d\xE9tect\xE9e :",r.message),localStorage.setItem("auth","false"),this.authService.isAuthBehav.next(!1)})}get formControls(){return this.registerForm.controls}static \u0275fac=function(t){return new(t||n)(O(gh),O(dt),O(We))};static \u0275cmp=$e({type:n,selectors:[["app-register"]],standalone:!0,features:[He],decls:35,vars:7,consts:[[1,"form-container","d-flex","justify-content-center","align-items-center","vh-100"],[1,"p-4","shadow-sm","rounded-3","bg-light",3,"ngSubmit","formGroup"],[1,"text-center","mb-4"],[1,"mb-3"],["for","exampleFullName",1,"form-label","fw-bold"],["type","text","id","exampleFullName","formControlName","fullName","placeholder","Enter your full name",1,"form-control"],["class","text-danger",4,"ngIf"],["for","exampleInputEmail1",1,"form-label","fw-bold"],["type","email","id","exampleInputEmail1","formControlName","email","placeholder","Enter your email",1,"form-control"],["for","exampleInputPassword1",1,"form-label","fw-bold"],["type","password","id","exampleInputPassword1","formControlName","password","placeholder","Enter your password",1,"form-control"],["for","exampleConfirmPassword1",1,"form-label","fw-bold"],["type","password","id","exampleConfirmPassword1","formControlName","confirmPassword","placeholder","Confirm your password",1,"form-control"],[1,"mb-3","form-check"],["type","checkbox","id","termsCheck","formControlName","terms",1,"form-check-input"],["for","termsCheck",1,"form-check-label"],["type","submit",1,"btn","btn-primary","btn-block","w-100",3,"disabled"],[1,"form-text","text-muted","mt-3","text-center"],["routerLink","/auth"],[1,"text-danger"],[4,"ngIf"]],template:function(t,r){t&1&&(T(0,"div",0)(1,"form",1),_e("ngSubmit",function(){return r.onRegister()}),T(2,"h3",2),R(3,"Register"),A(),T(4,"div",3)(5,"label",4),R(6,"Full Name"),A(),Y(7,"input",5),ve(8,Yj,3,0,"div",6),A(),T(9,"div",3)(10,"label",7),R(11,"Email address"),A(),Y(12,"input",8),ve(13,Jj,3,2,"div",6),A(),T(14,"div",3)(15,"label",9),R(16,"Password"),A(),Y(17,"input",10),ve(18,e4,3,0,"div",6),A(),T(19,"div",3)(20,"label",11),R(21,"Confirm Password"),A(),Y(22,"input",12),ve(23,t4,3,0,"div",6),A(),T(24,"div",13),Y(25,"input",14),T(26,"label",15),R(27,"I agree to the terms and conditions"),A(),ve(28,n4,3,0,"div",6),A(),T(29,"button",16),R(30,"Register"),A(),T(31,"div",17),R(32," Already have an account? "),T(33,"a",18),R(34,"Log In"),A()()()()),t&2&&(q(),Z("formGroup",r.registerForm),q(7),Z("ngIf",r.formControls.fullName.invalid&&(r.formControls.fullName.dirty||r.formControls.fullName.touched)),q(5),Z("ngIf",r.formControls.email.invalid&&(r.formControls.email.dirty||r.formControls.email.touched)),q(5),Z("ngIf",r.formControls.password.invalid&&(r.formControls.password.dirty||r.formControls.password.touched)),q(5),Z("ngIf",r.formControls.confirmPassword.invalid&&(r.formControls.confirmPassword.dirty||r.formControls.confirmPassword.touched)),q(5),Z("ngIf",r.formControls.terms.invalid&&(r.formControls.terms.dirty||r.formControls.terms.touched)),q(),Z("disabled",r.registerForm.invalid))},dependencies:[ho,Je,Ct,Is,_s,Zn,jb,mo,xs,Sl,Al,On,Ds,Cs],styles:[".form-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background-color:#00ff96cc}form[_ngcontent-%COMP%]{max-width:500px;padding:30px;border-radius:10px;background-color:linear-gradient(45deg,rgba(0,123,255,.8),rgba(0,255,150,.8));box-shadow:0 4px 8px #0000001a}.form-control[_ngcontent-%COMP%]{border:2px solid rgba(0,255,150,.8);border-radius:6px;padding:12px}.form-label[_ngcontent-%COMP%]{font-weight:700;color:#343a40}.btn[_ngcontent-%COMP%]{background-color:#00ff96cc;border-color:#00ff96cc;font-size:1.1rem}.btn[_ngcontent-%COMP%]:hover{background-color:#00ff96cc}.form-text[_ngcontent-%COMP%]{font-size:.85rem;color:#000}"]})};var dS=(n,e)=>{let t=N(dt),r=N(We);return t.isAuthenticated()?!0:(r.navigate(["/auth"]),!1)};function r4(n,e){if(n&1&&(T(0,"div",9),Y(1,"app-product-item",10),A()),n&2){let t=e.$implicit;q(),Z("product",t)}}var Mf=class n{constructor(e,t){this.route=e;this.productService=t}products=[];category;ngOnInit(){this.route.paramMap.subscribe(e=>{this.category=e.get("category")||"",this.getProductsByCategory(this.category)})}getProductsByCategory(e){this.productService.getProductsByCategory(e).subscribe(t=>{this.products=t}),console.log(this.products)}static \u0275fac=function(t){return new(t||n)(O(yn),O(ar))};static \u0275cmp=$e({type:n,selectors:[["app-search-category"]],standalone:!0,features:[He],decls:11,vars:1,consts:[[2,"margin-top","50px"],["id","panier-items",1,""],[1,"container","text-center","mt-5","py-5"],["src","https://tse4.mm.bing.net/th?id=OIP.TZB7xx-eSpjQcjX3tfUYSwHaHa&pid=Api&P=0&h=180",2,"height","80px"],[1,"mx-auto"],["src","https://tse1.mm.bing.net/th?id=OIP.RYwKPeMKqUiHa5B7emHvYQHaHa&pid=Api&P=0&h=180",2,"height","30px"],[1,"container","py-5"],[1,"row","justify-content-center"],["class","col-md-3 mb-4 border-black shadow-sm",4,"ngFor","ngForOf"],[1,"col-md-3","mb-4","border-black","shadow-sm"],[3,"product"]],template:function(t,r){t&1&&(T(0,"div",0)(1,"section",1)(2,"div",2),Y(3,"img",3)(4,"hr",4),T(5,"p"),Y(6,"img",5),R(7,"Browse products loved by our customers."),A()()(),T(8,"div",6)(9,"div",7),ve(10,r4,2,1,"div",8),A()()()),t&2&&(q(10),Z("ngForOf",r.products))},dependencies:[Je,gn,Xs]})};var w0=[{path:"auth",component:Ch},{path:"category/:category",component:Mf},{path:"register",component:kf},{path:"panier",component:Ef},{path:"detail-product/:id",component:pi},{path:"",component:Sf},{path:"detail-product",component:pi},{path:"mes-commandes",component:Af,canActivate:[dS]}],hS=class n{static \u0275fac=function(t){return new(t||n)};static \u0275mod=_t({type:n});static \u0275inj=xt({imports:[On.forRoot(w0),On]})};var Rf=class n{constructor(e){this.authService=e}intercept(e,t){if(this.authService.isAuthenticated()){let o=e.clone({headers:e.headers.set("Authorization","Bearer"+this.authService.getToken())});return t.handle(o)}return t.handle(e)}static \u0275fac=function(t){return new(t||n)(B(dt))};static \u0275prov=H({token:n,factory:n.\u0275fac,providedIn:"root"})};var fS={apiKey:"AIzaSyCiAjtOD8_CA4yZRvb86oLcEW6VbJDQa40",authDomain:"ecommeceapp-c9634.firebaseapp.com",projectId:"ecommeceapp-c9634",storageBucket:"ecommeceapp-c9634.appspot.com",messagingSenderId:"462170384875",appId:"1:462170384875:web:30da8148a5d87a3e3ad1ae",measurementId:"G-N96JF6GYGH"},pS={providers:[_E({eventCoalescing:!0}),tD(w0),nC(),Yi(Cs.initializeApp(fS)),Yi(Pl),Yi(Ds),Yi(jr),b0(()=>y0()),$D(()=>cp(fS)),b0(()=>y0()),{provide:JE,useClass:Rf,multi:!0}]};var o4=()=>({standalone:!0});function i4(n,e){if(n&1&&(T(0,"option",28),R(1),A()),n&2){let t=e.$implicit;Z("value",t),q(),Ut(t)}}function s4(n,e){n&1&&(T(0,"li",10)(1,"a",29),Y(2,"i",30),R(3," Connection "),A()())}function a4(n,e){if(n&1){let t=Zt();T(0,"li",10)(1,"a",31),_e("click",function(){lt(t);let o=Ae(2);return ct(o.onLogout())}),Y(2,"i",32),R(3," Disconnect "),A()()}}function l4(n,e){if(n&1){let t=Zt();T(0,"div",1)(1,"nav",2)(2,"div",3)(3,"a",4),Y(4,"img",5),A(),T(5,"button",6),Y(6,"span",7),A(),T(7,"div",8)(8,"ul",9)(9,"li",10)(10,"a",11),Y(11,"i",12),R(12," Home "),A()(),T(13,"li",10)(14,"a",13),Y(15,"i",14),R(16," Panel "),A()(),T(17,"li",10)(18,"a",15),Y(19,"i",16),R(20," My orders "),A()(),T(21,"li",10)(22,"a",17),Y(23,"i",18),R(24," Help "),A()()(),T(25,"form",19)(26,"div",20)(27,"select",21),_e("change",function(o){lt(t);let i=Ae();return ct(i.onCategoryChange(o))}),T(28,"option",22),R(29,"All"),A(),ve(30,i4,2,2,"option",23),A()(),T(31,"div",20)(32,"input",24),_e("input",function(o){lt(t);let i=Ae();return ct(i.onSearch(o))}),$a("ngModelChange",function(o){lt(t);let i=Ae();return dd(i.searchTerm,o)||(i.searchTerm=o),ct(o)}),A()(),T(33,"button",25),R(34," Search "),A()(),T(35,"div",26),ve(36,s4,4,0,"li",27)(37,a4,4,0,"li",27),A()()()()()}if(n&2){let t=Ae();q(30),Z("ngForOf",t.categories),q(2),Ua("ngModel",t.searchTerm),Z("ngModelOptions",hd(5,o4)),q(4),Z("ngIf",!t.authService.isAuthenticated()),q(),Z("ngIf",t.authService.isAuthenticated())}}var Pf=class n{constructor(e,t,r,o){this.productService=e;this.router=t;this.searchService=r;this.authService=o;this.router.events.subscribe(i=>{i instanceof vn&&(this.showHeader=!(i.url==="/auth"||i.url==="/register"))})}searchTerm="";categories=[];showHeader=!0;searchEvent=new Oe;ngOnInit(){this.productService.getAllCategories().subscribe(e=>{this.categories=e})}onCategoryChange(e){let r=e.target.value;r&&(r=="All"?this.router.navigate(["/"]):this.router.navigate(["/category",r]))}onSearch(e){let t=e.target;this.searchService.updateSearchTerm(t.value),this.searchEvent.emit(t.value)}onLogout(){confirm("Thank you for using our service! Do you really want to log out?")&&(this.authService.logout(),this.router.navigate(["/"]))}static \u0275fac=function(t){return new(t||n)(O(ar),O(We),O(Js),O(dt))};static \u0275cmp=$e({type:n,selectors:[["app-header"]],outputs:{searchEvent:"searchEvent"},standalone:!0,features:[He],decls:1,vars:1,consts:[["class","p-3 mb-2 fixed-top","style",`background: linear-gradient(45deg, rgba(0, 123, 255, 0.8), rgba(0, 255, 150, 0.8)); 
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); height: 100px;`,4,"ngIf"],[1,"p-3","mb-2","fixed-top",2,"background","linear-gradient(45deg, rgba(0, 123, 255, 0.8), rgba(0, 255, 150, 0.8))","box-shadow","0 4px 6px rgba(0, 0, 0, 0.1)","height","100px"],[1,"navbar","navbar-expand-lg","navbar-light"],[1,"container-fluid"],["href","#",1,"navbar-brand"],["src","https://tse1.mm.bing.net/th?id=OIP.tv04p4t35hQYkb1GXyRGggHaE7&pid=Api&P=0&h=180",2,"height","50px"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item"],["aria-current","page","routerLink","/",1,"nav-link","active","text-white","fw-bold"],[1,"bi","bi-house"],["routerLink","/panier",1,"nav-link","text-white","fw-bold"],[1,"bi","bi-cart3"],["routerLink","/mes-commandes",1,"nav-link","text-white","fw-bold"],[1,"bi","bi-bag-check"],["href","#",1,"nav-link","text-white","fw-bold"],[1,"bi","bi-question-circle"],["role","search",1,"d-flex","align-items-center"],[1,"form-group","me-2"],[1,"form-select",3,"change"],["value","All"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","Search...",1,"form-control","search-input","shadow-sm",3,"input","ngModelChange","ngModel","ngModelOptions"],["type","submit",1,"btn","btn-outline-light","search-btn","shadow-sm"],[1,"navbar-nav","ms-2"],["class","nav-item",4,"ngIf"],[3,"value"],["routerLink","/auth",1,"nav-link","active","text-white","fw-bold"],[1,"bi","bi-person-fill"],[1,"nav-link","active","text-white","fw-bold",3,"click"],[1,"bi","bi-box-arrow-right"]],template:function(t,r){t&1&&ve(0,l4,38,6,"div",0),t&2&&Z("ngIf",r.showHeader)},dependencies:[bh,_s,LD,BD,Zn,mo,xs,Tl,qb,Je,gn,Ct,On,ho]})};var Nf=class n{static \u0275fac=function(t){return new(t||n)};static \u0275cmp=$e({type:n,selectors:[["app-root"]],standalone:!0,features:[He],decls:2,vars:0,template:function(t,r){t&1&&Y(0,"app-header")(1,"router-outlet")},dependencies:[Je,Sb,Pf,Is,Cs,Ds]})};dC(Nf,pS).catch(n=>console.error(n));
